var ha=Object.defineProperty;var ya=(s,t,r)=>t in s?ha(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var qs=(s,t,r)=>ya(s,typeof t!="symbol"?t+"":t,r);import{r as i,c as e,b as vs}from"./react-CW6gyLGC.js";import{a as ga}from"./react-dom-VufzJFnG.js";import{L as Kr,u as va,B as Ma}from"./react-router-dom-C1NkVR1J.js";import{u as Da,a as Ea,B as d,C as Ua,A as ja,T as ur,I as Me,M as Va,b as a,c as us,d as hr,L as Aa,D as Jr,e as _a,f as es,g as Ns,P as yr,h as le,i as Ia,j as Ps,k as Dr,Q as Er,S as Sa,l as wa,m as qa,n as Xr,o as gs,p as gr,q as Rr,r as ls,E as Fa,s as Ms,t as Ra,v as $e,w as ze,x as me,y as ce,z as oe,F as Zr,G as ys,H as Y,J as b,R as ar,K as ye,N as ge,O as Bs,U as ir,V as La,W as ka,X as Ur,Y as jr,Z as ss,_ as Ge,$ as He,a0 as Ye,a1 as Ee,a2 as f,a3 as Ke,a4 as Be,a5 as xs,a6 as ts,a7 as Ls,a8 as ks,a9 as Ts,aa as Ss,ab as Xe,ac as Ta,ad as fs,ae as Je,af as rs,ag as as,ah as is,ai as Oe,aj as We,ak as Qe,al as De,am as Pa,an as Zs,ao as ns,ap as $s,aq as ea,ar as sa,as as $a,at as za,au as Lr,av as Oa,aw as vr,ax as Ws,ay as Ba,az as ds,aA as ra,aB as aa,aC as ia,aD as na,aE as Wa,aF as ta,aG as Qa,aH as Ga,aI as da,aJ as Ha,aK as kr,aL as Ya,aM as oa,aN as Ka,aO as Ja,aP as cr,aQ as la,aR as Xa,aS as Za,aT as Vr,aU as ei,aV as si,aW as ri,aX as Qs,aY as ai,aZ as ii,a_ as ni,a$ as ti,b0 as di,b1 as oi,b2 as li}from"./@mui-4QPNxTv4.js";import{a4 as ma}from"./date-fns-0_aLd2RI.js";import{a as mi}from"./axios-xsH4HHeE.js";import{b as Ze,a as nr,O as ua,g as zs,h as Cs,i as ui,j as Ae}from"./react-router-X8OZmSDE.js";import{R as Ds,B as ca,C as Ar,X as _r,Y as Ir,T as sr,L as Is,a as ba,b as Mr,P as ci,c as bi,d as Sr,e as wr,f as qr,g as Fr,h as rr,i as fi,j as Ni}from"./recharts-BacKPPsp.js";import{F as Gs,a as br,b as xi,c as fr,d as Hs,e as Nr,f as Ys,g as Ks,h as Tr,i as pi,j as Ci,k as Pr,l as hi}from"./@heroicons-gDIRfMkb.js";import"./scheduler-BdgtklXn.js";import"./@remix-run-DUCO3W-r.js";import"./@emotion-DcY20CWh.js";import"./hoist-non-react-statics-ChoYklYu.js";import"./@babel-BtohYyOd.js";import"./stylis-Blw2ohPC.js";import"./prop-types-BhEpm81J.js";import"./object-assign-Dw8nQtKq.js";import"./react-is-6VGF0abh.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-BFOp6jtI.js";import"./dom-helpers-D0mFdbeO.js";import"./@popperjs-CMBiYTiD.js";import"./lodash-DjiupQAW.js";import"./react-smooth-CGlHDv2K.js";import"./fast-equals-BIyco3rD.js";import"./tiny-invariant-7zSWqrSz.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BfpcI_6t.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const E of m)if(E.type==="childList")for(const x of E.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function r(m){const E={};return m.integrity&&(E.integrity=m.integrity),m.referrerPolicy&&(E.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?E.credentials="include":m.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function u(m){if(m.ep)return;m.ep=!0;const E=r(m);fetch(m.href,E)}})();const yi={minLevel:"DEBUG",sendToServer:!1,serverUrl:"/api/logs",batchSize:10,sendInterval:3e4,includeUserInfo:!0},$r={DEBUG:0,INFO:1,WARN:2,ERROR:3};class gi{constructor(t={}){qs(this,"config");qs(this,"logBuffer",[]);qs(this,"sendTimer",null);qs(this,"sessionId");this.config={...yi,...t},this.sessionId=this.getOrCreateSessionId(),this.config.sendToServer&&(this.startSendTimer(),this.setupUnloadHandler()),this.setupErrorCapture()}getOrCreateSessionId(){let t=sessionStorage.getItem("logSessionId");return t||(t=Date.now().toString(36)+Math.random().toString(36).substring(2),sessionStorage.setItem("logSessionId",t)),t}startSendTimer(){this.sendTimer&&window.clearInterval(this.sendTimer),this.sendTimer=window.setInterval(()=>{this.sendLogs()},this.config.sendInterval)}setupErrorCapture(){window.addEventListener("error",t=>{var r;return this.error("Erreur non g√©r√©e",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:(r=t.error)==null?void 0:r.stack}),!1}),window.addEventListener("unhandledrejection",t=>{var r,u;return this.error("Promesse rejet√©e non g√©r√©e",{reason:((r=t.reason)==null?void 0:r.message)||String(t.reason),stack:(u=t.reason)==null?void 0:u.stack}),!1})}async sendLogs(t=!1){if(!this.config.sendToServer||this.logBuffer.length<this.config.batchSize&&!t||this.logBuffer.length===0)return;const r=[...this.logBuffer];this.logBuffer=[];try{const u={sessionId:this.sessionId,batchId:Date.now().toString(36),userAgent:navigator.userAgent,language:navigator.language,screenSize:`${window.innerWidth}x${window.innerHeight}`,userId:localStorage.getItem("userId")||void 0,url:window.location.href,referrer:document.referrer},m=await fetch(this.config.serverUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:r,metadata:u}),signal:AbortSignal.timeout?AbortSignal.timeout(5e3):void 0});m.ok||(console.error(`√âchec d'envoi des logs: ${m.status}`),this.logBuffer=[...r,...this.logBuffer])}catch(u){console.error("Erreur lors de l'envoi des logs:",u),this.logBuffer=[...r,...this.logBuffer]}}setupUnloadHandler(){window.addEventListener("beforeunload",()=>{this.sendLogs(!0)})}addLog(t,r,u={}){if($r[t]<$r[this.config.minLevel])return;const m={level:t,message:r,timestamp:new Date().toISOString(),details:{...u}};switch(this.logBuffer.push(m),t){case"DEBUG":console.debug(`[${t}] ${r}`,u);break;case"INFO":console.info(`[${t}] ${r}`,u);break;case"WARN":console.warn(`[${t}] ${r}`,u);break;case"ERROR":console.error(`[${t}] ${r}`,u),this.sendLogs(!0);break}}debug(t,r={}){this.addLog("DEBUG",t,r)}info(t,r={}){this.addLog("INFO",t,r)}warn(t,r={}){this.addLog("WARN",t,r)}error(t,r={}){this.addLog("ERROR",t,r)}flush(){return this.sendLogs(!0)}setConfig(t){this.config={...this.config,...t},this.config.sendToServer?this.startSendTimer():this.sendTimer&&(window.clearInterval(this.sendTimer),this.sendTimer=null)}logUserAction(t,r={}){this.info(`Action utilisateur: ${t}`,{type:"user_action",action:t,...r})}logNavigation(t,r={}){this.info(`Navigation: ${t}`,{type:"navigation",path:t,...r})}logPerformance(t,r,u={}){this.info(`Performance: ${t} (${r}ms)`,{type:"performance",operation:t,durationMs:r,...u})}logApiCall(t,r,u,m,E={}){const x=u>=400?"ERROR":"INFO";this.addLog(x,`API ${r} ${t}: ${u} (${m}ms)`,{type:"api_call",endpoint:t,method:r,status:u,durationMs:m,...E})}}const we=new gi,vi=()=>"https://api-dev.dev-maturity.e-dsin.fr",Es=vi(),zr="/api";console.log("üåê Configuration API:",{baseURL:Es,environment:"production",isDev:!0,customUrl:"https://api-dev.dev-maturity.e-dsin.fr"});const os=mi.create({baseURL:Es,headers:{"Content-Type":"application/json"},timeout:3e4,withCredentials:!0});os.interceptors.request.use(s=>{var u;s.metadata={startTime:Date.now()};const t=localStorage.getItem("auth_token");t&&s.headers&&(s.headers.Authorization=`Bearer ${t}`),s.headers&&(s.headers.Accept="application/json",s.headers["Cache-Control"]="no-cache");const r={method:((u=s.method)==null?void 0:u.toUpperCase())||"GET",url:s.url||"unknown",baseURL:s.baseURL,hasToken:!!t};if(s.data)try{const m=typeof s.data=="string"?s.data:JSON.stringify(s.data);r.data=m.substring(0,500)}catch{}return we.debug(`API Request: ${r.method} ${r.url}`,r),s},s=>{const t=(s==null?void 0:s.message)||"Erreur inconnue de requ√™te API",r=(s==null?void 0:s.stack)||"";return we.error("Erreur de requ√™te API",{message:t,stack:r}),Promise.reject(s)});os.interceptors.response.use(s=>{var m,E,x;const t=Or(s.config),r=((m=s.config)==null?void 0:m.url)||"unknown",u=((x=(E=s.config)==null?void 0:E.method)==null?void 0:x.toUpperCase())||"GET";return we.info(`API Response: ${u} ${r} - ${s.status}`,{status:s.status,statusText:s.statusText||"",duration:t,size:s.data?JSON.stringify(s.data).length:0,url:r}),s},s=>{var r,u,m,E,x,B,h,W,v,P;const t={url:((r=s.config)==null?void 0:r.url)||"unknown",method:((m=(u=s.config)==null?void 0:u.method)==null?void 0:m.toUpperCase())||"UNKNOWN",status:(E=s.response)==null?void 0:E.status,statusText:((x=s.response)==null?void 0:x.statusText)||"",duration:s.config?Or(s.config):null,message:(s==null?void 0:s.message)||"Erreur inconnue",baseURL:(B=s.config)==null?void 0:B.baseURL};return((h=s.response)==null?void 0:h.status)===401?(we.warn("Session expir√©e ou non authentifi√©e",t),localStorage.removeItem("auth_token"),window.location.pathname.includes("/auth/login")||(window.location.href="/auth/login")):((W=s.response)==null?void 0:W.status)===0||s.code==="NETWORK_ERROR"?we.error("Erreur de r√©seau - Backend inaccessible",{...t,type:"NETWORK_ERROR",backendURL:Es}):((v=s.response)==null?void 0:v.status)>=500?we.error("Erreur serveur backend",{...t,type:"SERVER_ERROR"}):we.error("Erreur de r√©ponse API",{...t,...((P=s.response)==null?void 0:P.data)&&{response:JSON.stringify(s.response.data).substring(0,500),stack:(s==null?void 0:s.stack)||""}}),Promise.reject(s)});const bs=s=>{if(s.startsWith(zr)||["/health","/health-simple"].some(u=>s.startsWith(u)))return s;const r=`${zr}${s.startsWith("/")?s:`/${s}`}`;return console.log(`üîÑ URL Normalization: "${s}" ‚Üí "${r}"`),r},Or=s=>{var t;try{if((t=s==null?void 0:s.metadata)!=null&&t.startTime)return Date.now()-s.metadata.startTime}catch{}return 0},ps=async(s,t,r,u={})=>{const m=bs(t),E=performance.now();try{const x=await r(),B=performance.now()-E;return B>2e3&&we.warn(`API Performance: ${s} ${m} - ${Math.round(B)}ms (SLOW)`,{...u,duration:B,baseURL:Es}),x}catch(x){throw x}},Mi=async()=>{try{return await os.get("/health",{timeout:5e3}),we.info("‚úÖ Test de connectivit√© r√©ussi",{backendURL:Es}),!0}catch(s){return we.error("‚ùå Test de connectivit√© √©chou√©",{backendURL:Es,error:s instanceof Error?s.message:"Unknown error"}),!1}},U={testConnection:Mi,getBaseURL:()=>Es,get:(s,t)=>{const r=bs(s);return ps("GET",r,()=>os.get(r,t).then(u=>u.data),{params:t==null?void 0:t.params})},post:(s,t,r)=>{const u=bs(s);return ps("POST",u,()=>os.post(u,t,r).then(m=>m.data),{dataSize:t?JSON.stringify(t).length:0})},put:(s,t,r)=>{const u=bs(s);return ps("PUT",u,()=>os.put(u,t,r).then(m=>m.data),{dataSize:t?JSON.stringify(t).length:0})},patch:(s,t,r)=>{const u=bs(s);return ps("PATCH",u,()=>os.patch(u,t,r).then(m=>m.data),{dataSize:t?JSON.stringify(t).length:0})},delete:(s,t)=>{const r=bs(s);return ps("DELETE",r,()=>os.delete(r,t).then(u=>u.data),{})},downloadFile:(s,t)=>{const r=bs(s);return ps("GET",r,()=>os.get(r,{...t,responseType:"blob"}).then(u=>u.data),{responseType:"blob"})},uploadFile:(s,t,r)=>{const u=bs(s);return ps("POST",u,()=>os.post(u,t,{...r,headers:{...r==null?void 0:r.headers,"Content-Type":"multipart/form-data"}}).then(m=>m.data),{formDataEntries:Array.from(t.keys()).join(",")})}},er={DASHBOARD:{nom_module:"DASHBOARD",route_base:"/",description:"Tableau de bord principal",icone:"dashboard",ordre:1},QUESTIONNAIRES:{nom_module:"QUESTIONNAIRES",route_base:"/questionnaires",description:"Gestion des questionnaires",icone:"quiz",ordre:2},FORMULAIRES:{nom_module:"FORMULAIRES",route_base:"/formulaires",description:"Gestion des formulaires",icone:"assignment",ordre:3},ANALYSES:{nom_module:"ANALYSES",route_base:"/analyses-fonctions",description:"Analyses et recommandations",icone:"analytics",ordre:4},APPLICATIONS:{nom_module:"APPLICATIONS",route_base:"/applications",description:"Portfolio applications",icone:"apps",ordre:5},ENTREPRISES:{nom_module:"ENTREPRISES",route_base:"/organisations",description:"Gestion des organisations",icone:"business",ordre:6},ADMINISTRATION:{nom_module:"ADMINISTRATION",route_base:"/admin",description:"Administration syst√®me",icone:"admin_panel_settings",ordre:10,sous_modules:{USERS:{nom_module:"ADMIN_USERS",route_base:"/admin/users",description:"Gestion des utilisateurs",icone:"people"},PERMISSIONS:{nom_module:"ADMIN_PERMISSIONS",route_base:"/admin/permissions",description:"Gestion des permissions",icone:"security"},ROLES:{nom_module:"ADMIN_ROLES",route_base:"/admin/roles",description:"Gestion des r√¥les",icone:"account_circle"},MATURITY:{nom_module:"ADMIN_MATURITY",route_base:"/admin/maturity-model",description:"Mod√®le de maturit√©",icone:"model_training"},SYSTEM:{nom_module:"ADMIN_SYSTEM",route_base:"/admin/system",description:"Configuration syst√®me",icone:"settings"}}}},fa=i.createContext({currentUser:null,isAuthenticated:!1,isLoading:!0,login:async()=>{},logout:async()=>{},register:async()=>{},forgotPassword:async()=>{},updateProfile:async()=>{},error:null,permissions:[],hasGlobalAccess:!1,hasPermission:()=>!1,canAccessRoute:()=>!1,canAccessAdminModule:()=>!1,getAccessibleModules:()=>[],getAdminSubModules:()=>[],refreshPermissions:async()=>{},isAdmin:()=>!1,isSuperAdmin:()=>!1,getAllAppModules:()=>er}),tr=()=>i.useContext(fa),Di=({children:s})=>{const[t,r]=i.useState(null),[u,m]=i.useState(!1),[E,x]=i.useState(!0),[B,h]=i.useState(null),[W,v]=i.useState([]),[P,$]=i.useState(!1),T=i.useCallback(c=>{var p;if(!c)return!1;const l=(p=c.nom_role)==null?void 0:p.toUpperCase();return l==="ADMINISTRATEUR"||l==="SUPER_ADMINISTRATEUR"||c.niveau_acces==="GLOBAL"},[]),_=i.useCallback(c=>{var p;return c?((p=c.nom_role)==null?void 0:p.toUpperCase())==="SUPER_ADMINISTRATEUR":!1},[]),k=i.useCallback(()=>{const c=[];return Object.values(er).forEach(l=>{const p={nom_module:l.nom_module,route_base:l.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0};"sous_modules"in l&&l.sous_modules&&(p.sous_permissions=Object.values(l.sous_modules).map(C=>({nom_module:C.nom_module,route_base:C.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0}))),c.push(p)}),c},[]),z=i.useCallback((c,l)=>{const p=[{nom_module:"DASHBOARD",route_base:"/",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1},{nom_module:"QUESTIONNAIRES",route_base:"/questionnaires",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"FORMULAIRES",route_base:"/formulaires",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"ANALYSES",route_base:"/analyses-fonctions",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1}],C=c==null?void 0:c.toUpperCase();return console.log("üîë Analyse du r√¥le:",{nomRole:c,roleUpper:C,niveauAcces:l}),C==="SUPER_ADMINISTRATEUR"||C==="ADMINISTRATEUR"||l==="GLOBAL"?(console.log("üîë G√©n√©ration permissions Administrateur (TOUTES PERMISSIONS)"),k()):C==="CONSULTANT"?(console.log("üîë G√©n√©ration permissions Consultant (√âTENDUES)"),p.map(I=>({...I,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!1})).concat([{nom_module:"APPLICATIONS",route_base:"/applications",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"ENTREPRISES",route_base:"/organisations",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1}])):C==="MANAGER"?(console.log("üîë G√©n√©ration permissions Manager (MOYENNES)"),p.map(I=>({...I,peut_voir:!0,peut_editer:I.nom_module!=="DASHBOARD",peut_supprimer:!1,peut_administrer:!1})).concat([{nom_module:"APPLICATIONS",route_base:"/applications",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1}])):(console.log("üîë G√©n√©ration permissions Intervenant (BASE)"),p)},[k]),M=i.useCallback(async()=>{var c;try{if(x(!0),localStorage.getItem("auth_token")){console.log("üîë Token trouv√©, v√©rification...");try{const p=await U.get("user/permissions");r(p.user),v(p.permissions||[]),$(p.hasGlobalAccess||T(p.user)),m(!0),h(null),console.log("‚úÖ Utilisateur authentifi√© avec syst√®me de permissions")}catch{console.log("‚ö†Ô∏è Endpoint permissions non disponible, utilisation /auth/me...");const C=await U.get("auth/me"),I=C.user||((c=C.data)==null?void 0:c.user);I&&(console.log("üîç Utilisateur depuis /auth/me:",I),r(I),v(z(I.nom_role,I.niveau_acces)),$(T(I)),m(!0),h(null),console.log("‚úÖ Utilisateur authentifi√© (fallback /auth/me)"))}}else console.log("‚ÑπÔ∏è Aucun token trouv√©")}catch(l){console.warn("‚ö†Ô∏è Erreur d'authentification:",l.message),localStorage.removeItem("auth_token"),r(null),v([]),$(!1),m(!1)}finally{x(!1)}},[T,z]),O=async(c,l)=>{var p,C,I,K;try{h(null),x(!0),console.log("üîÑ === D√âBUT LOGIN ==="),console.log("üìß Email:",c);const F=await U.post("auth/login",{email:c,password:l});if(F.token&&F.user)console.log("üîç R√©ponse login compl√®te:",F),console.log("üîç Utilisateur re√ßu:",F.user),localStorage.setItem("auth_token",F.token),r(F.user),v(z(F.user.nom_role,F.user.niveau_acces)),$(T(F.user)),m(!0),console.log("‚úÖ === LOGIN R√âUSSI ==="),console.log("üë§ Utilisateur:",{email:F.user.email,nom_role:F.user.nom_role,niveau_acces:F.user.niveau_acces,isAdmin:T(F.user),isSuperAdmin:_(F.user)});else throw new Error("R√©ponse de connexion invalide")}catch(F){console.error("‚ùå === ERREUR LOGIN ==="),console.error("Message:",((C=(p=F.response)==null?void 0:p.data)==null?void 0:C.message)||F.message);const be=((K=(I=F.response)==null?void 0:I.data)==null?void 0:K.message)||F.message||"Erreur de connexion";throw h(be),new Error(be)}finally{x(!1),console.log("üèÅ === FIN LOGIN ===")}},y=async()=>{try{await U.post("auth/logout")}catch(c){console.warn("Erreur lors de la d√©connexion:",c)}finally{localStorage.removeItem("auth_token"),r(null),v([]),$(!1),m(!1),console.log("‚úÖ D√©connexion r√©ussie")}},S=async c=>{var l,p;try{h(null),x(!0);const C=await U.post("auth/register",c);C.token&&C.user&&(localStorage.setItem("auth_token",C.token),r(C.user),v(z(C.user.nom_role,C.user.niveau_acces)),$(T(C.user)),m(!0))}catch(C){const I=((p=(l=C.response)==null?void 0:l.data)==null?void 0:p.message)||"Erreur lors de l'inscription";throw h(I),new Error(I)}finally{x(!1)}},q=async c=>{var l,p;try{h(null),await U.post("auth/forgot-password",{email:c})}catch(C){const I=((p=(l=C.response)==null?void 0:l.data)==null?void 0:p.message)||"Erreur lors de la r√©cup√©ration";throw h(I),new Error(I)}},j=async c=>{var l,p;try{h(null);const C=await U.put("auth/profile",c);C.user&&(r(C.user),$(T(C.user)))}catch(C){const I=((p=(l=C.response)==null?void 0:l.data)==null?void 0:p.message)||"Erreur lors de la mise √† jour";throw h(I),new Error(I)}},L=i.useCallback(()=>T(t),[t,T]),ne=i.useCallback(()=>_(t),[t,_]),pe=i.useCallback((c,l)=>{if(T(t)||_(t)||P)return!0;let p=W.find(C=>C.nom_module.toUpperCase()===c.toUpperCase());if(!p){for(const C of W)if(C.sous_permissions&&(p=C.sous_permissions.find(I=>I.nom_module.toUpperCase()===c.toUpperCase()),p))break}if(!p)return!1;switch(l.toLowerCase()){case"voir":case"view":return p.peut_voir;case"editer":case"edit":return p.peut_editer;case"supprimer":case"delete":return p.peut_supprimer;case"administrer":case"admin":return p.peut_administrer;default:return!1}},[t,W,P,T,_]),G=i.useCallback(c=>{if(T(t)||_(t)||P)return!0;const l=c.startsWith("/")?c.substring(1):c,p={"":"DASHBOARD",dashboard:"DASHBOARD",questionnaires:"QUESTIONNAIRES",formulaires:"FORMULAIRES","analyses-fonctions":"ANALYSES","analyses-interpretations":"ANALYSES",applications:"APPLICATIONS",organisations:"ENTREPRISES",admin:"ADMINISTRATION","admin/users":"ADMIN_USERS","admin/permissions":"ADMIN_PERMISSIONS","admin/roles":"ADMIN_ROLES","admin/maturity-model":"ADMIN_MATURITY","admin/system":"ADMIN_SYSTEM",users:"ADMIN_USERS"};let C=null;for(const[I,K]of Object.entries(p))if(l.startsWith(I)){C=K;break}return C?pe(C,"voir"):!1},[t,P,pe,T,_]),J=i.useCallback(c=>T(t)||_(t)||P?!0:pe(`ADMIN_${c.toUpperCase()}`,"voir"),[t,P,pe,T,_]),ae=i.useCallback(()=>T(t)||_(t)||P?k():W.filter(c=>c.peut_voir),[t,P,W,k,T,_]),Ne=i.useCallback(()=>{var l;if(T(t)||_(t)||P){const p=er.ADMINISTRATION;if(p.sous_modules)return Object.values(p.sous_modules).map(C=>({nom_module:C.nom_module,route_base:C.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0}))}const c=W.find(p=>p.nom_module==="ADMINISTRATION");return((l=c==null?void 0:c.sous_permissions)==null?void 0:l.filter(p=>p.peut_voir))||[]},[t,P,W,T,_]),Q=i.useCallback(async()=>{u&&await M()},[u,M]),Ce=i.useCallback(()=>er,[]);i.useEffect(()=>{M()},[M]);const g={currentUser:t,isAuthenticated:u,isLoading:E,login:O,logout:y,register:S,forgotPassword:q,updateProfile:j,error:B,permissions:W,hasGlobalAccess:P,hasPermission:pe,canAccessRoute:G,canAccessAdminModule:J,getAccessibleModules:ae,getAdminSubModules:Ne,refreshPermissions:Q,isAdmin:L,isSuperAdmin:ne,getAllAppModules:Ce};return e.jsxDEV(fa.Provider,{value:g,children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/contexts/AuthContext.tsx",lineNumber:666,columnNumber:5},void 0)},Vs=280,Ei=()=>{const s=Da(),t=Ea(s.breakpoints.down("md")),[r,u]=i.useState(!t),[m,E]=i.useState(!1),x=Ze(),B=nr(),{currentUser:h,hasPermission:W,canAccessRoute:v,canAccessAdminModule:P,isAdmin:$,isSuperAdmin:T,logout:_,getAdminSubModules:k}=tr(),z=[{text:"Dashboard",icon:e.jsxDEV(Ia,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:81,columnNumber:13},void 0),path:"/",module:"DASHBOARD",action:"voir"},{text:"Analyses & Recommandations",icon:e.jsxDEV(Ps,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:88,columnNumber:13},void 0),path:"/analyses-fonctions",module:"ANALYSES",action:"voir"},{text:"Formulaires",icon:e.jsxDEV(Dr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:95,columnNumber:13},void 0),path:"/formulaires",module:"FORMULAIRES",action:"voir"},{text:"Questionnaires",icon:e.jsxDEV(Er,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:102,columnNumber:13},void 0),path:"/questionnaires",module:"QUESTIONNAIRES",action:"voir"},{text:"",icon:e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:111,columnNumber:13},void 0),divider:!0},{text:"Administration",icon:e.jsxDEV(hr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:117,columnNumber:13},void 0),module:"ADMINISTRATION",action:"voir",adminOnly:!0,subItems:[{text:"Gestion des Utilisateurs",icon:e.jsxDEV(yr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:124,columnNumber:17},void 0),path:"/admin",module:"ADMIN_USERS",action:"voir"},{text:"Permissions & R√¥les",icon:e.jsxDEV(Sa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:131,columnNumber:17},void 0),path:"/admin",module:"ADMIN_PERMISSIONS",action:"voir"},{text:"Entreprises",icon:e.jsxDEV(wa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:138,columnNumber:17},void 0),path:"/admin",module:"ADMINISTRATION",action:"voir"},{text:"Mod√®le de Maturit√©",icon:e.jsxDEV(qa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:145,columnNumber:17},void 0),path:"/admin/maturity-model",module:"ADMIN_MATURITY",action:"voir"},{text:"Configuration Syst√®me",icon:e.jsxDEV(Xr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:152,columnNumber:17},void 0),path:"/admin/system",module:"ADMIN_SYSTEM",action:"voir"}]}],M=()=>{u(!r)},O=G=>{x(G),t&&u(!1)},y=()=>{E(!m)},S=async()=>{try{await _(),x("/auth/login")}catch(G){console.error("Erreur lors de la d√©connexion:",G)}},q=G=>G.adminOnly&&!$()&&!T()?!1:G.module&&G.action?W(G.module,G.action):G.path?v(G.path):!0,j=G=>G.path?G.path==="/admin"&&B.pathname.startsWith("/admin")?!0:B.pathname===G.path||B.pathname.startsWith(G.path+"/"):!1,L=()=>B.pathname.startsWith("/admin"),ne=(G,J=!1)=>{if(G.divider)return e.jsxDEV(es,{sx:{my:1}},"divider",!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:225,columnNumber:14},void 0);if(!q(G))return null;const ae=j(G),Ne=G.subItems&&G.subItems.length>0;return e.jsxDEV(gs,{disablePadding:!0,sx:{pl:J?4:0},children:e.jsxDEV(gr,{selected:ae,onClick:()=>{Ne&&G.text==="Administration"?y():G.path&&O(G.path)},sx:{borderRadius:1,mx:1,mb:.5,...ae&&{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"},"& .MuiListItemIcon-root":{color:"primary.contrastText"}}},children:[e.jsxDEV(Rr,{sx:{minWidth:40},children:G.icon},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:262,columnNumber:11},void 0),e.jsxDEV(ls,{primary:e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxDEV(a,{variant:"body2",sx:{fontWeight:ae?600:400},children:G.text},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:268,columnNumber:17},void 0),G.adminOnly&&e.jsxDEV(le,{label:"Admin",size:"small",color:"secondary",sx:{height:20,fontSize:"0.7rem",...ae&&{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:272,columnNumber:19},void 0),Ne&&(m?e.jsxDEV(Fa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:287,columnNumber:35},void 0):e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:287,columnNumber:52},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:267,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:265,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:237,columnNumber:9},void 0)},G.text,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:236,columnNumber:7},void 0)},pe=()=>{const G=z.find(J=>J.text==="Administration");return!G||!G.subItems?null:e.jsxDEV(Ra,{in:m,timeout:"auto",unmountOnExit:!0,children:e.jsxDEV(Ns,{component:"div",disablePadding:!0,children:G.subItems.map(J=>{if(!q(J))return null;const ae=j(J);return e.jsxDEV(gs,{disablePadding:!0,sx:{pl:2},children:e.jsxDEV(gr,{selected:ae,onClick:()=>J.path&&O(J.path),sx:{borderRadius:1,mx:1,mb:.5,backgroundColor:ae?"rgba(0, 0, 0, 0.08)":"transparent","&:hover":{backgroundColor:ae?"rgba(0, 0, 0, 0.12)":"rgba(0, 0, 0, 0.04)"}},children:[e.jsxDEV(Rr,{sx:{minWidth:40,ml:2},children:J.icon},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:325,columnNumber:19},void 0),e.jsxDEV(ls,{primary:e.jsxDEV(a,{variant:"body2",sx:{fontWeight:ae?600:400},children:J.text},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:330,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:328,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:312,columnNumber:17},void 0)},J.text,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:311,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:304,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:303,columnNumber:7},void 0)};return vs.useEffect(()=>{L()&&E(!0)},[B.pathname]),e.jsxDEV(d,{sx:{display:"flex"},children:[e.jsxDEV(Ua,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:353,columnNumber:7},void 0),e.jsxDEV(ja,{position:"fixed",sx:{zIndex:s.zIndex.drawer+1,width:{sm:r?`calc(100% - ${Vs}px)`:"100%"},ml:{sm:r?`${Vs}px`:0},transition:s.transitions.create(["width","margin"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen})},children:e.jsxDEV(ur,{children:[e.jsxDEV(Me,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:M,sx:{mr:2},children:e.jsxDEV(Va,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:374,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:367,columnNumber:11},void 0),e.jsxDEV(a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"Plateforme d'√âvaluation de Maturit√© - DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:376,columnNumber:11},void 0),e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxDEV(d,{sx:{textAlign:"right",display:{xs:"none",sm:"block"}},children:[e.jsxDEV(a,{variant:"body2",sx:{opacity:.9},children:h==null?void 0:h.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:383,columnNumber:15},void 0),e.jsxDEV(a,{variant:"caption",sx:{opacity:.7},children:[(h==null?void 0:h.nom_role)||(h==null?void 0:h.role)," - ",h==null?void 0:h.organisation]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:386,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:382,columnNumber:13},void 0),($()||T())&&e.jsxDEV(us,{color:"secondary",variant:"dot",children:e.jsxDEV(hr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:393,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:392,columnNumber:15},void 0),e.jsxDEV(Me,{color:"inherit",onClick:S,title:"D√©connexion",children:e.jsxDEV(Aa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:402,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:397,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:381,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:366,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:354,columnNumber:7},void 0),e.jsxDEV(Jr,{variant:t?"temporary":"permanent",open:r,onClose:()=>u(!1),sx:{width:Vs,flexShrink:0,"& .MuiDrawer-paper":{width:Vs,boxSizing:"border-box",...t&&{boxShadow:s.shadows[8]}}},children:[e.jsxDEV(ur,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2},children:[e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1},children:e.jsxDEV("img",{src:"/logo_qwanza.svg",alt:"Logo",style:{height:32,width:"auto"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:433,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:432,columnNumber:11},void 0),e.jsxDEV(Me,{onClick:M,children:e.jsxDEV(_a,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:440,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:439,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:424,columnNumber:9},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:443,columnNumber:9},void 0),e.jsxDEV(d,{sx:{overflow:"auto",flex:1},children:e.jsxDEV(Ns,{component:"nav",sx:{px:1,py:2},children:z.map(G=>G.text==="Administration"?e.jsxDEV(vs.Fragment,{children:[ne(G),pe()]},"administration",!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:451,columnNumber:19},void 0):ne(G))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:446,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:445,columnNumber:9},void 0),e.jsxDEV(d,{sx:{p:2,borderTop:"1px solid",borderColor:"divider"},children:[e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.jsxDEV(yr,{sx:{fontSize:16,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:465,columnNumber:13},void 0),e.jsxDEV(a,{variant:"caption",sx:{color:"text.secondary"},children:"Connect√© en tant que:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:466,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:464,columnNumber:11},void 0),e.jsxDEV(a,{variant:"body2",sx:{fontWeight:600,mb:.5},children:h==null?void 0:h.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:470,columnNumber:11},void 0),e.jsxDEV(a,{variant:"caption",sx:{color:"text.secondary"},children:[(h==null?void 0:h.nom_role)||(h==null?void 0:h.role),($()||T())&&e.jsxDEV(le,{label:"Admin",size:"small",color:"primary",sx:{ml:1,height:16,fontSize:"0.7rem"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:476,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:473,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:463,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:408,columnNumber:7},void 0),e.jsxDEV(d,{component:"main",sx:{flexGrow:1,p:3,width:{sm:`calc(100% - ${r?Vs:0}px)`},ml:{sm:r?`${Vs}px`:0},transition:s.transitions.create("margin",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen})},children:[e.jsxDEV(ur,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:500,columnNumber:9},void 0)," ",e.jsxDEV(ua,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:501,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:487,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:352,columnNumber:5},void 0)},Ui=({children:s})=>e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxDEV(Kr,{to:"/",children:e.jsxDEV("img",{className:"mx-auto h-12 w-auto",src:"/logo_qwanza.svg",alt:"Plateforme √âvaluation Maturit√© DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:14,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:13,columnNumber:9},void 0),e.jsxDEV("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Plateforme d'√âvaluation Maturit√© DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:20,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:12,columnNumber:7},void 0),e.jsxDEV("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxDEV("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxDEV(ua,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:27,columnNumber:10},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:26,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-6 text-center text-sm text-gray-500",children:e.jsxDEV("p",{children:"¬© Qwanza 2025 - All right reserved"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:31,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:30,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:25,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:11,columnNumber:5},void 0),ji=()=>{var k,z;const s=Ze(),t=nr(),{login:r,error:u,isLoading:m,isAuthenticated:E}=tr(),[x,B]=i.useState({email:"intervenant@qwanza.fr",password:"Intervenant@01",rememberMe:!1}),[h,W]=i.useState(null),[v,P]=i.useState(!1),$=((z=(k=t.state)==null?void 0:k.from)==null?void 0:z.pathname)||"/";i.useEffect(()=>{E&&!m&&(console.log("‚úÖ Utilisateur d√©j√† authentifi√©, redirection vers:",$),s($,{replace:!0}))},[E,m,s,$]);const T=M=>{const{name:O,value:y,checked:S}=M.target;B(q=>({...q,[O]:O==="rememberMe"?S:y})),h&&W(null)},_=async M=>{if(M.preventDefault(),W(null),!x.email||!x.password){W("Veuillez remplir tous les champs");return}P(!0);try{console.log("üîÑ Tentative de connexion avec:",x.email),await r(x.email,x.password),console.log("‚úÖ Connexion r√©ussie")}catch(O){console.error("‚ùå Erreur de connexion:",O),W(O.message||"Erreur de connexion. V√©rifiez vos identifiants.")}finally{P(!1)}};return m?e.jsxDEV($e,{component:"main",maxWidth:"xs",children:e.jsxDEV(d,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:99,columnNumber:11},void 0),e.jsxDEV(a,{variant:"body1",sx:{mt:2},children:"V√©rification de l'authentification..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:100,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:91,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:90,columnNumber:7},void 0):e.jsxDEV($e,{component:"main",maxWidth:"xs",children:e.jsxDEV(d,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(me,{elevation:3,sx:{padding:4,width:"100%"},children:e.jsxDEV(d,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(a,{component:"h1",variant:"h4",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"bold"},children:"eQwanza"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:"Plateforme d'√âvaluation de Maturit√© - Acc√©dez √† votre espace"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:132,columnNumber:13},void 0),(u||h)&&e.jsxDEV(ce,{severity:"error",sx:{width:"100%",mb:2},children:u||h},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:138,columnNumber:15},void 0),e.jsxDEV(d,{component:"form",onSubmit:_,noValidate:!0,sx:{mt:1,width:"100%"},children:[e.jsxDEV(oe,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Adresse email",name:"email",type:"email",autoComplete:"email",autoFocus:!0,value:x.email,onChange:T,disabled:v||m},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:144,columnNumber:15},void 0),e.jsxDEV(oe,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"current-password",value:x.password,onChange:T,disabled:v||m},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV(Zr,{control:e.jsxDEV(ys,{value:"remember",color:"primary",name:"rememberMe",checked:x.rememberMe,onChange:T,disabled:v||m},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:175,columnNumber:19},void 0),label:"Se souvenir de moi"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:173,columnNumber:15},void 0),e.jsxDEV(Y,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5},disabled:v||m,startIcon:v?e.jsxDEV(ze,{size:20},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:193,columnNumber:43},void 0):null,children:v?"Connexion en cours...":"Se connecter"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:187,columnNumber:15},void 0),e.jsxDEV(d,{sx:{display:"flex",justifyContent:"center",mt:2},children:e.jsxDEV(Kr,{to:"/auth/register",style:{textDecoration:"none"},children:e.jsxDEV(a,{variant:"body2",color:"primary",children:"Pas encore de compte ? S'inscrire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:200,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:199,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:198,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:143,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:119,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:118,columnNumber:9},void 0),e.jsxDEV(me,{elevation:1,sx:{mt:2,p:2,bgcolor:"info.light",width:"100%"},children:e.jsxDEV(a,{variant:"caption",color:"info.contrastText",children:[e.jsxDEV("strong",{children:"üß™ Mode D√©veloppement"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:213,columnNumber:15},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:213,columnNumber:53},void 0),e.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:214,columnNumber:15},void 0)," admin@qwanza.fr",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:214,columnNumber:54},void 0),e.jsxDEV("strong",{children:"Mot de passe:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:215,columnNumber:15},void 0)," ********",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:215,columnNumber:54},void 0),e.jsxDEV("strong",{children:"R√¥le:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:216,columnNumber:15},void 0)," Administrateur (acc√®s total)",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:216,columnNumber:66},void 0),e.jsxDEV("em",{children:"Ces identifiants sont pr√©-remplis pour faciliter les tests"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:217,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:212,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:211,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:110,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:109,columnNumber:5},void 0)},Js=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#8DD1E1","#A4DE6C","#D0ED57"],Vi=()=>{const s=Ze(),[t,r]=i.useState(!0),[u,m]=i.useState(!1),[E,x]=i.useState(null),[B,h]=i.useState(null),[W,v]=i.useState([]),[P,$]=i.useState([]),[T,_]=i.useState([]),[k,z]=i.useState([]),[M,O]=i.useState([]),[y,S]=i.useState(""),[q,j]=i.useState("all"),[L,ne]=i.useState("all"),[pe,G]=i.useState(0),[J,ae]=i.useState([]),[Ne,Q]=i.useState([]),Ce=async(o=!1)=>{const V=performance.now();try{o?m(!0):r(!0),x(null),we.debug("Chargement des donn√©es du dashboard");const[D,ue,se,je]=await Promise.all([U.get("entreprises"),U.get("fonctions"),U.get("applications"),U.get("formulaires")]),Ie=g(D,"entreprises"),Te=g(ue,"fonctions"),Ue=g(se,"applications"),qe=g(je,"formulaires");v(Ie);const xe=l(Ie);$(xe),_(Te);const Re=Ue.filter(A=>A.score_global!==void 0&&A.score_global!==null);z(Re);const N=[...new Set(Re.map(A=>A.mode_hebergement).filter(Boolean))],re=[...new Set(Re.map(A=>A.technologie).filter(Boolean))];ae(N),Q(re);const te=qe.map(A=>({...A,thematiques:Array.isArray(A.thematiques)?A.thematiques:[],fonctions:Array.isArray(A.fonctions)?A.fonctions:[],questionnaire_nom:A.questionnaire_nom||"Questionnaire sans nom",acteur_nom:A.acteur_nom||"Utilisateur inconnu",nom_application:A.nom_application||"Application inconnue"}));O(te);const Ve=performance.now()-V;we.info(`Dashboard data loaded successfully in ${Math.round(Ve)}ms`,{entreprises:Ie.length,fonctions:Te.length,applications:Re.length,formulaires:te.length})}catch(D){console.error("Erreur lors du chargement des donn√©es:",D),x("Impossible de charger les donn√©es du tableau de bord."),we.error("Erreur chargement dashboard:",D)}finally{r(!1),m(!1)}},g=(o,V)=>Array.isArray(o)?o:o&&o.data&&Array.isArray(o.data)?o.data:(console.warn(`Format de r√©ponse inattendu pour ${V}:`,o),we.warn(`Unexpected response format for ${V}`,{response:o}),[]);i.useEffect(()=>{Ce()},[]);const c=(o,V=0)=>o==null||isNaN(o)?V:parseFloat(o)||V,l=o=>{const V=o.reduce((D,ue)=>{const se=ue.secteur||"Non d√©fini";D[se]||(D[se]={scoreTotal:0,count:0});const je=c(ue.score_global,0);return je>0&&(D[se].scoreTotal+=je,D[se].count++),D},{});return Object.entries(V).map(([D,{scoreTotal:ue,count:se}])=>({nom:D,nombre_entreprises:se,score_moyen:se>0?ue/se:0})).filter(D=>D.nombre_entreprises>0).sort((D,ue)=>ue.score_moyen-D.score_moyen)},p=(o,V)=>{const D=c(o,0),ue=c(V,1);return ue===0?"0 / 0":`${D.toFixed(1)} / ${ue.toFixed(1)}`},C=(o,V)=>{const D=c(o,0),ue=c(V,1);return ue===0?0:D/ue*5},I=()=>{if(!M||!M.length)return[];we.debug("Counting formulaires by function",{count:M.length});const o=M.reduce((V,D)=>{const ue=D.fonctions||[];return ue.length===0?V["Non d√©fini"]=(V["Non d√©fini"]||0)+1:ue.forEach(se=>{V[se]=(V[se]||0)+1}),V},{});return Object.entries(o).filter(([V,D])=>V&&V.trim()!==""&&D>0).map(([V,D])=>({name:V,value:D}))},K=()=>{Ce(!0)},F=({active:o,payload:V,label:D})=>o&&(V!=null&&V.length)?e.jsxDEV(me,{sx:{p:1},children:[e.jsxDEV(a,{variant:"body2",children:`${D}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:380,columnNumber:11},void 0),e.jsxDEV(a,{variant:"body2",children:`Score: ${V[0].value.toFixed(2)}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:381,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:379,columnNumber:9},void 0):null,be=o=>o>=3.5?"success":o>=2?"warning":"error",H=o=>{try{return new Date(o).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(V){return we.warn("Erreur lors du formatage de la date:",V),"Date invalide"}};return t&&!u?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:412,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:411,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[E&&e.jsxDEV(ce,{severity:"error",sx:{mb:2},children:E},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:419,columnNumber:17},void 0),B&&e.jsxDEV(ce,{severity:"success",sx:{mb:2},onClose:()=>h(null),children:B},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:421,columnNumber:9},void 0),e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(me,{sx:{p:2,mb:2},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(d,{children:[e.jsxDEV(a,{component:"h1",variant:"h4",color:"primary",gutterBottom:!0,children:"Tableau de bord de maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:436,columnNumber:17},void 0),e.jsxDEV(a,{variant:"body1",children:"Vue d'ensemble des scores de maturit√© par secteur, fonction et application."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:439,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:435,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",gap:1,children:e.jsxDEV(Y,{variant:"outlined",startIcon:e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:446,columnNumber:30},void 0),onClick:K,disabled:u,children:u?"Actualisation...":"Actualiser"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:444,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:443,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:434,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:433,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:432,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,md:3,children:e.jsxDEV(ye,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Bs,{sx:{bgcolor:"#0B4E87",mr:2},children:e.jsxDEV(ir,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:464,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:463,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",children:"Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:466,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:462,columnNumber:15},void 0),e.jsxDEV(a,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(W==null?void 0:W.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:468,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",align:"center",children:"√©valu√©es dans la plateforme"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:471,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:461,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:460,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:459,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,md:3,children:e.jsxDEV(ye,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Bs,{sx:{bgcolor:"#4CAF50",mr:2},children:e.jsxDEV(Ps,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:483,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:482,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",children:"Fonctions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:485,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:481,columnNumber:15},void 0),e.jsxDEV(a,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(T==null?void 0:T.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:487,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",align:"center",children:"analys√©es au total"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:490,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:480,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:479,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:478,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,md:3,children:e.jsxDEV(ye,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Bs,{sx:{bgcolor:"#FF9800",mr:2},children:e.jsxDEV(La,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:502,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:501,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:504,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:500,columnNumber:15},void 0),e.jsxDEV(a,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(k==null?void 0:k.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:506,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",align:"center",children:"avec score de maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:509,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:499,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:498,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:497,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,md:3,children:e.jsxDEV(ye,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Bs,{sx:{bgcolor:"#F44336",mr:2},children:e.jsxDEV(ka,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:521,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:520,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",children:"Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:523,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:519,columnNumber:15},void 0),e.jsxDEV(a,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(M==null?void 0:M.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:525,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",align:"center",children:"renseign√©s au total"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:528,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:518,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:517,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:516,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,md:6,children:e.jsxDEV(me,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Maturit√© par Secteur d'Activit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:538,columnNumber:13},void 0),P&&P.length>0?e.jsxDEV(Ds,{width:"100%",height:300,children:e.jsxDEV(ca,{data:P,children:[e.jsxDEV(Ar,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:544,columnNumber:19},void 0),e.jsxDEV(_r,{dataKey:"nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:545,columnNumber:19},void 0),e.jsxDEV(Ir,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:546,columnNumber:19},void 0),e.jsxDEV(sr,{content:e.jsxDEV(F,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:547,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:547,columnNumber:19},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:548,columnNumber:19},void 0),e.jsxDEV(ba,{dataKey:"score_moyen",fill:"#0B4E87",name:"Score moyen",barSize:40,children:P.map((o,V)=>e.jsxDEV(Mr,{fill:Js[V%Js.length]},`cell-${V}`,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:556,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:549,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:543,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:542,columnNumber:15},void 0):e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",height:300,flexDirection:"column",children:[e.jsxDEV(a,{variant:"body1",color:"textSecondary",align:"center",children:"Aucune donn√©e de score disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:563,columnNumber:17},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",align:"center",sx:{mt:1},children:"Les scores appara√Ætront une fois les analyses de maturit√© effectu√©es"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:566,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:562,columnNumber:15},void 0),e.jsxDEV(a,{variant:"caption",sx:{display:"block",mt:1},children:"Nombre d'entreprises par secteur indiqu√© entre parenth√®ses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:571,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:537,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:536,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,md:6,children:e.jsxDEV(me,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Formulaires par Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:580,columnNumber:13},void 0),M&&M.length>0&&I().length>0?e.jsxDEV(Ds,{width:"100%",height:300,children:e.jsxDEV(ci,{children:[e.jsxDEV(bi,{data:I(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:I().map((o,V)=>e.jsxDEV(Mr,{fill:Js[V%Js.length]},`cell-${V}`,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:597,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:586,columnNumber:19},void 0),e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:600,columnNumber:19},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:601,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:585,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:584,columnNumber:15},void 0):e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",height:300,flexDirection:"column",children:[e.jsxDEV(a,{variant:"body1",color:"textSecondary",align:"center",children:"Aucun formulaire avec fonctions valides"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:606,columnNumber:17},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",align:"center",sx:{mt:1},children:"Cr√©ez des formulaires li√©s √† des fonctions pour voir les statistiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:609,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:605,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:579,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:578,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,md:6,children:e.jsxDEV(me,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"10 Derniers Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV(d,{display:"flex",mb:2,children:e.jsxDEV(oe,{size:"small",placeholder:"Rechercher un formulaire...",value:y,onChange:o=>S(o.target.value),fullWidth:!0,InputProps:{startAdornment:e.jsxDEV(Ur,{position:"start",children:e.jsxDEV(jr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:631,columnNumber:68},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:631,columnNumber:35},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:624,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:623,columnNumber:13},void 0),M.filter(o=>o.nom_application&&o.nom_application.toLowerCase().includes(y.toLowerCase())||o.fonctions&&o.fonctions.some(V=>V.toLowerCase().includes(y.toLowerCase()))||o.acteur_nom&&o.acteur_nom.toLowerCase().includes(y.toLowerCase())).slice(0,10).map((o,V)=>e.jsxDEV(vs.Fragment,{children:[e.jsxDEV(gs,{component:"div",onClick:()=>s(`/formulaires/${o.id_formulaire}`),sx:{borderLeft:"4px solid",borderColor:(()=>{const D=C(o.score_actuel,o.score_maximum);return D>=3.5?"#4CAF50":D>=2?"#FF9800":"#F44336"})(),mb:1,bgcolor:"#f9f9f9",cursor:"pointer","&:hover":{bgcolor:"#f0f0f0"}},children:e.jsxDEV(ls,{primary:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"subtitle1",sx:{fontWeight:"bold",color:"#0B4E87"},children:["Questionnaire: ",o.questionnaire_nom]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:665,columnNumber:27},void 0),e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5,children:[e.jsxDEV(a,{variant:"body2",component:"span",children:["Application: ",o.nom_application]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:669,columnNumber:29},void 0),e.jsxDEV(le,{label:`Score: ${p(o.score_actuel,o.score_maximum)}`,size:"small",color:be(C(o.score_actuel,o.score_maximum)),sx:{fontWeight:"bold"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:672,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:668,columnNumber:27},void 0),o.fonctions&&o.fonctions.length>0&&e.jsxDEV(d,{mt:.5,children:e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["Fonctions: ",o.fonctions.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:681,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:680,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:664,columnNumber:25},void 0),secondary:e.jsxDEV(d,{mt:1,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(a,{variant:"body2",component:"span",sx:{fontWeight:"medium"},children:["Acteur: ",o.acteur_nom]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:691,columnNumber:29},void 0),e.jsxDEV(le,{label:o.statut,size:"small",color:be(o.statut==="Valid√©"?5:o.statut==="Soumis"?3:1)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:694,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:690,columnNumber:27},void 0),e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5,children:[e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["Cr√©√© le: ",o.date_creation?H(o.date_creation):"Date inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:701,columnNumber:29},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["Modifi√© le: ",o.date_modification?H(o.date_modification):"Date inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:704,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:700,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:689,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:662,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:644,columnNumber:19},void 0),V<Math.min(M.length,10)-1&&e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:712,columnNumber:68},void 0)]},o.id_formulaire||`form-${V}`,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:643,columnNumber:17},void 0)),M.filter(o=>o.nom_application&&o.nom_application.toLowerCase().includes(y.toLowerCase())||o.fonctions&&o.fonctions.some(V=>V.toLowerCase().includes(y.toLowerCase()))||o.acteur_nom&&o.acteur_nom.toLowerCase().includes(y.toLowerCase())).length===0&&e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",height:150,children:e.jsxDEV(a,{variant:"body1",color:"textSecondary",children:"Aucun formulaire ne correspond √† votre recherche"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:721,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:720,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:619,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:618,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:430,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:418,columnNumber:5},void 0)},Ai=()=>{const s=Ze(),[t,r]=i.useState(!0),[u,m]=i.useState(null),[E,x]=i.useState([]),[B,h]=i.useState({});i.useEffect(()=>{W()},[]);const W=async()=>{r(!0),m(null);try{const _=await U.get("questionnaires");let k=[];Array.isArray(_)?k=_:_&&_.data&&Array.isArray(_.data)?k=_.data:(console.warn("Format de r√©ponse inattendu pour questionnaires:",_),m("Format de donn√©es inattendu pour les questionnaires"));const z=k.map(S=>({id_questionnaire:S.id_questionnaire,nom:S.nom||S.titre||"Sans nom",description:S.description||"",date_creation:S.date_creation||new Date().toISOString(),date_modification:S.date_modification||S.date_creation||new Date().toISOString()}));x(z);const M=await U.get("questionnaires/stats");let O=[];Array.isArray(M)?O=M:M&&M.data&&Array.isArray(M.data)?O=M.data:console.warn("Format de r√©ponse inattendu pour les statistiques:",M);const y=O.reduce((S,q)=>(S[q.id_questionnaire]={numQuestions:q.numQuestions||0,numReponses:q.numReponses||q.num_evaluations||0,numUtilisateurs:q.numUtilisateurs||0},S),{});h(y)}catch(_){console.error("Erreur lors du chargement des questionnaires:",_),m("Impossible de charger les questionnaires. Veuillez r√©essayer.")}finally{r(!1)}},v=_=>{s(`/questionnaires/${_.id_questionnaire}`)},P=()=>{s("/questionnaires/admin")},$=_=>{try{return new Date(_).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})}catch(k){return console.warn("Erreur lors du formatage de la date:",k),"Date invalide"}},T=(_,k)=>{var z;try{return((z=B[_])==null?void 0:z[k])||0}catch{return 0}};return t?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:162,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:161,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[u&&e.jsxDEV(ce,{severity:"error",sx:{mb:2},children:u},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:170,columnNumber:9},void 0),e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Questionnaires d'√âvaluation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:180,columnNumber:15},void 0),e.jsxDEV(d,{children:[e.jsxDEV(Y,{variant:"outlined",color:"primary",onClick:P,sx:{mr:1},children:"Administration"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:184,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:195,columnNumber:30},void 0),onClick:P,children:"Nouveau Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:192,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:183,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:179,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:178,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:177,columnNumber:9},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(Ge,{component:me,children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:211,columnNumber:19},void 0),e.jsxDEV(f,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:212,columnNumber:19},void 0),e.jsxDEV(f,{children:"Questions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:213,columnNumber:19},void 0),e.jsxDEV(f,{children:"R√©ponses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:214,columnNumber:19},void 0),e.jsxDEV(f,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:215,columnNumber:19},void 0),e.jsxDEV(f,{children:"Derni√®re modification"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:216,columnNumber:19},void 0),e.jsxDEV(f,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:217,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:210,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:209,columnNumber:15},void 0),e.jsxDEV(Ke,{children:E.length>0?E.map(_=>e.jsxDEV(Ee,{hover:!0,children:[e.jsxDEV(f,{children:_.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:224,columnNumber:23},void 0),e.jsxDEV(f,{children:_.description&&_.description.length>50?`${_.description.substring(0,50)}...`:_.description||"Aucune description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:225,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{icon:e.jsxDEV(Er,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:232,columnNumber:33},void 0),label:T(_.id_questionnaire,"numQuestions"),color:T(_.id_questionnaire,"numQuestions")>0?"success":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:231,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:230,columnNumber:23},void 0),e.jsxDEV(f,{children:T(_.id_questionnaire,"numReponses")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:242,columnNumber:23},void 0),e.jsxDEV(f,{children:T(_.id_questionnaire,"numUtilisateurs")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:245,columnNumber:23},void 0),e.jsxDEV(f,{children:$(_.date_modification)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:248,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(Be,{title:"Voir les d√©tails",children:e.jsxDEV(Me,{color:"info",onClick:()=>v(_),children:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:257,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:253,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:252,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:251,columnNumber:23},void 0)]},_.id_questionnaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:223,columnNumber:21},void 0)):e.jsxDEV(Ee,{children:e.jsxDEV(f,{colSpan:8,align:"center",children:[e.jsxDEV(a,{variant:"body1",sx:{py:2},children:"Aucun questionnaire disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:266,columnNumber:23},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:272,columnNumber:36},void 0),onClick:P,children:"Cr√©er le premier questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:269,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:265,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:264,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:220,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:208,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:207,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:206,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:175,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:168,columnNumber:5},void 0)},_i=()=>{const{id:s}=zs(),t=Ze(),[r,u]=i.useState(!0),[m,E]=i.useState(null),[x,B]=i.useState(null),[h,W]=i.useState([]),[v,P]=i.useState(null);i.useEffect(()=>{s?$(s):(E("Identifiant de questionnaire manquant"),u(!1))},[s]);const $=async M=>{u(!0),E(null);try{const O=await U.get(`questionnaires/${M}`);let y=null;O&&typeof O=="object"&&(Array.isArray(O)?y=O[0]:O.data?y=O.data:y=O),y&&y.id_questionnaire?B(y):(E("Format de r√©ponse inattendu pour le questionnaire"),console.warn("Format de r√©ponse inattendu pour le questionnaire:",O));try{const S=await U.get(`questionnaires/${M}/questions`);let q=[];Array.isArray(S)?q=S:S&&S.data&&Array.isArray(S.data)?q=S.data:console.warn("Format de r√©ponse inattendu pour les questions:",S),W(q)}catch(S){console.error("Erreur lors du chargement des questions:",S),W([])}try{let S;try{S=await U.get(`questionnaire/stats/${M}`)}catch{S=await U.get(`questionnaires/stats/${M}`)}let q=null;S&&typeof S=="object"&&(S.data?q=S.data:q=S),P(q?{numQuestions:q.numQuestions||q.num_questions||0,numReponses:q.numReponses||q.num_evaluations||0,numUtilisateurs:q.numUtilisateurs||q.num_utilisateurs||0}:{numQuestions:h.length,numReponses:0,numUtilisateurs:0})}catch(S){console.error("Erreur lors du chargement des statistiques:",S),P({numQuestions:h.length,numReponses:0,numUtilisateurs:0})}}catch(O){console.error("Erreur lors du chargement des donn√©es du questionnaire:",O),E("Impossible de charger les donn√©es du questionnaire")}finally{u(!1)}},T=()=>{t("/questionnaires")},_=()=>{t(`/questionnaires/admin?id=${s}`)},k=M=>{try{return new Date(M).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(O){return console.warn("Erreur lors du formatage de la date:",O),"Date invalide"}};if(r)return e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:207,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:206,columnNumber:7},void 0);if(m)return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(ce,{severity:"error",sx:{mb:2},children:m},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:215,columnNumber:9},void 0),e.jsxDEV(me,{sx:{p:4,textAlign:"center"},children:e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:T,sx:{mt:2},children:"Retour √† la liste"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:219,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:218,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:214,columnNumber:7},void 0);if(!x)return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(me,{sx:{p:4,textAlign:"center"},children:[e.jsxDEV(a,{variant:"h5",color:"error",gutterBottom:!0,children:"Questionnaire non trouv√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:236,columnNumber:11},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:T,sx:{mt:2},children:"Retour √† la liste"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:239,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:235,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:234,columnNumber:7},void 0);const z=[...h].sort((M,O)=>(M.ordre||0)-(O.ordre||0));return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(Me,{color:"primary",onClick:T,sx:{mr:1},children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:266,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:265,columnNumber:17},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:x.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:268,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:264,columnNumber:15},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:275,columnNumber:28},void 0),onClick:_,children:"Modifier"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:272,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:263,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body1",paragraph:!0,children:x.description||"Aucune description d√©taill√©e disponible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:282,columnNumber:13},void 0),e.jsxDEV(d,{sx:{mt:2,mb:1},children:[e.jsxDEV(le,{label:`Cr√©√© le ${k(x.date_creation||new Date().toISOString())}`,variant:"outlined",size:"small",sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:287,columnNumber:15},void 0),e.jsxDEV(le,{label:`Derni√®re modification: ${k(x.date_modification||x.date_creation||new Date().toISOString())}`,variant:"outlined",size:"small",color:"info"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:293,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:286,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:262,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:261,columnNumber:9},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(b,{container:!0,spacing:2,children:[e.jsxDEV(b,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(us,{badgeContent:(v==null?void 0:v.numQuestions)||0,color:"primary",max:999,sx:{mb:1},children:e.jsxDEV(Er,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:316,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:310,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body1",align:"center",fontWeight:"bold",children:"Questions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:318,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:309,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:308,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:307,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:306,columnNumber:13},void 0),e.jsxDEV(b,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(us,{badgeContent:(v==null?void 0:v.numReponses)||0,color:"success",max:999,sx:{mb:1},children:e.jsxDEV(Ps,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:335,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:329,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body1",align:"center",fontWeight:"bold",children:"R√©ponses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:337,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:328,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:327,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:326,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:325,columnNumber:13},void 0),e.jsxDEV(b,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(us,{badgeContent:(v==null?void 0:v.numUtilisateurs)||0,color:"info",max:999,sx:{mb:1},children:e.jsxDEV(yr,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:354,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:348,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body1",align:"center",fontWeight:"bold",children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:356,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:347,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:346,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:345,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:344,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:305,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:304,columnNumber:9},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:["Questions (",z.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:369,columnNumber:13},void 0),e.jsxDEV(es,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:373,columnNumber:13},void 0),z.length>0?z.map(M=>e.jsxDEV(Ls,{children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:378,columnNumber:49},void 0),children:e.jsxDEV(b,{container:!0,spacing:1,alignItems:"center",children:[e.jsxDEV(b,{xs:1,children:e.jsxDEV(a,{variant:"body1",fontWeight:"bold",children:[M.ordre||"?","."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:381,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:380,columnNumber:23},void 0),e.jsxDEV(b,{xs:10,children:e.jsxDEV(a,{variant:"body1",children:M.texte||"Question sans texte"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:386,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:385,columnNumber:23},void 0),e.jsxDEV(b,{xs:1,children:e.jsxDEV(Be,{title:`Pond√©ration: ${M.ponderation||0}`,children:e.jsxDEV(le,{label:M.ponderation||0,color:M.ponderation>=4?"error":M.ponderation>=3?"warning":M.ponderation>=2?"info":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:392,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:391,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:390,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:379,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:378,columnNumber:19},void 0),e.jsxDEV(Ts,{children:e.jsxDEV(b,{container:!0,spacing:2,children:e.jsxDEV(b,{xs:12,children:[e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Pond√©ration:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:409,columnNumber:27},void 0)," ",M.ponderation||0,M.ponderation>=4?" (Critique)":M.ponderation>=3?" (Important)":M.ponderation>=2?" (Significatif)":" (Mineur)"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:408,columnNumber:25},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Ajout√© le:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:415,columnNumber:27},void 0)," ",k(M.date_creation||new Date().toISOString())]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:414,columnNumber:25},void 0),M.date_modification&&M.date_creation&&M.date_modification!==M.date_creation&&e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Derni√®re modification:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:420,columnNumber:29},void 0)," ",k(M.date_modification)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:419,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:407,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:406,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:405,columnNumber:19},void 0)]},M.id_question,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:377,columnNumber:17},void 0)):e.jsxDEV(d,{textAlign:"center",py:4,children:[e.jsxDEV(a,{variant:"body1",gutterBottom:!0,children:"Ce questionnaire ne contient aucune question."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:430,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:_,sx:{mt:2},children:"Ajouter des questions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:433,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:429,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:368,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:367,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:259,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:258,columnNumber:5},void 0)},Br=s=>{const{children:t,value:r,index:u,...m}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==u,id:`admin-tabpanel-${u}`,"aria-labelledby":`admin-tab-${u}`,...m,children:r===u&&e.jsxDEV(d,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:118,columnNumber:5},void 0)},Wr={nom:"",description:"",thematiques:[]},Ii={id_thematique:"",texte:"",ponderation:1,ordre:0},Si=()=>{const s=Ze(),[t]=va(),r=t.get("id"),[u,m]=i.useState(!0),[E,x]=i.useState(null),[B,h]=i.useState([]),[W,v]=i.useState(null),[P,$]=i.useState([]),[T,_]=i.useState([]),[k,z]=i.useState([]),[M,O]=i.useState([]),[y,S]=i.useState(!1),[q,j]=i.useState(!1),[L,ne]=i.useState(Wr),[pe,G]=i.useState(Ii),[J,ae]=i.useState(!1),[Ne,Q]=i.useState(!1),[Ce,g]=i.useState(!1),[c,l]=i.useState(!1),[p,C]=i.useState(null),[I,K]=i.useState({open:!1,message:"",severity:"info"}),[F,be]=i.useState("create"),[H,o]=i.useState("create"),[V,D]=i.useState(0);i.useEffect(()=>{console.log("üöÄ Initialisation du composant QuestionnaireAdmin"),(async()=>{try{await Promise.all([je(),ue()]),await se(),r&&(console.log("üéØ Chargement du questionnaire sp√©cifique:",r),await Ie(r),D(1))}catch(X){console.error("‚ùå Erreur lors du chargement initial:",X)}})()},[r]);const ue=async()=>{j(!0);try{console.log("üîç Chargement des th√©matiques...");const R=await U.get("thematiques"),X=Array.isArray(R)?R:R.data||[];console.log("‚úÖ Th√©matiques re√ßues:",X.length),z(X)}catch(R){console.error("‚ùå Erreur lors du chargement des th√©matiques:",R),z([])}finally{j(!1)}},se=async()=>{m(!0),x(null);try{console.log("üîç Chargement des questionnaires...");const R=await U.get("questionnaires");console.log("‚úÖ Questionnaires re√ßus:",R);let X=[];Array.isArray(R)?X=R:R&&R.data&&Array.isArray(R.data)?X=R.data:(console.warn("Format de r√©ponse inattendu pour questionnaires:",R),x("Format de donn√©es inattendu pour les questionnaires"),X=[]),h(X)}catch(R){console.error("‚ùå Erreur lors du chargement des questionnaires:",R),A("Erreur lors du chargement des questionnaires.","error"),x("Impossible de charger les questionnaires"),h([])}finally{m(!1)}},je=async()=>{S(!0);try{console.log("üîç Chargement des fonctions depuis /fonctions...");const R=await U.get("fonctions");console.log("‚úÖ Fonctions re√ßues:",R);let X=[];Array.isArray(R)?X=R:(console.warn("Format de r√©ponse inattendu pour fonctions:",R),X=[]),_(X)}catch(R){console.error("‚ùå Erreur lors du chargement des fonctions:",R),A("Erreur lors du chargement des fonctions.","warning"),_([])}finally{S(!1)}},Ie=async R=>{try{console.log("üîç Chargement du questionnaire:",R);const X=await U.get(`questionnaires/${R}`);console.log("‚úÖ Questionnaire re√ßu:",X);let ie=null;X&&typeof X=="object"&&(Array.isArray(X)?ie=X[0]:X.data?ie=X.data:ie=X),ie&&ie.id_questionnaire&&v(ie);try{console.log("üîç Chargement des questions pour:",R);const Se=await U.get(`questionnaires/${R}/questions`);console.log("‚úÖ Questions re√ßues:",Se);let he=[];Array.isArray(Se)?he=Se:Se&&Se.data&&Array.isArray(Se.data)&&(he=Se.data),$(he.sort((ms,ws)=>(ms.ordre||0)-(ws.ordre||0)))}catch(Se){console.error("‚ùå Erreur lors du chargement des questions:",Se),$([])}}catch(X){console.error("‚ùå Erreur lors du chargement du questionnaire:",X),A("Erreur lors du chargement du questionnaire.","error")}},Te=()=>{console.log("üÜï Ouverture du dialogue de cr√©ation"),be("create"),ne(Wr),O([]),ae(!0),k.length===0&&ue()},Ue=async R=>{be("edit");try{const X=await U.get(`questionnaire-thematiques/${R.id_questionnaire}/thematiques`),Se=(Array.isArray(X)?X:X.data||[]).map(he=>he.id_thematique);ne({nom:R.nom||`${R.fonction||""} - ${R.thematique||""}`,description:R.description||"",thematiques:Se}),O(Se)}catch(X){console.error("Erreur lors du chargement des th√©matiques:",X),ne({nom:R.nom||`${R.fonction||""} - ${R.thematique||""}`,description:R.description||"",thematiques:[]}),O([])}ae(!0),k.length===0&&ue()},qe=()=>{ae(!1)},xe=async()=>{var R;try{if(console.log("üöÄ Soumission du questionnaire"),!L.nom.trim()){A("Le nom est obligatoire.","warning");return}if(M.length===0){A("S√©lectionnez au moins une th√©matique.","warning");return}const X={nom:L.nom.trim(),description:L.description,thematiques:M};if(console.log("üì§ Donn√©es √† envoyer:",X),F==="create"){const ie=await U.post("questionnaires",X);console.log("‚úÖ Questionnaire cr√©√©:",ie),await se(),A("Questionnaire cr√©√© avec succ√®s.","success");const Se=((R=ie==null?void 0:ie.data)==null?void 0:R.id_questionnaire)||(ie==null?void 0:ie.id_questionnaire);Se&&(await Ie(Se),D(1))}else if(F==="edit"&&W){const ie=await U.put(`questionnaires/${W.id_questionnaire}`,X);console.log("‚úÖ Questionnaire mis √† jour:",ie),await se(),await Ie(W.id_questionnaire),A("Questionnaire mis √† jour avec succ√®s.","success")}qe()}catch(X){console.error("‚ùå Erreur:",X),A("Erreur lors de la sauvegarde du questionnaire.","error")}},Re=R=>{v(R),g(!0)},N=()=>{g(!1)},re=async()=>{if(W)try{console.log("üóëÔ∏è Suppression du questionnaire:",W.id_questionnaire),await U.delete(`questionnaires/${W.id_questionnaire}`),console.log("‚úÖ Questionnaire supprim√©"),await se(),v(null),$([]),D(0),N(),A("Questionnaire supprim√© avec succ√®s.","success")}catch(R){console.error("‚ùå Erreur lors de la suppression du questionnaire:",R),A("Erreur lors de la suppression du questionnaire.","error")}},te=async R=>{v(R),await Ie(R.id_questionnaire),D(1),s(`/questionnaires/admin?id=${R.id_questionnaire}`,{replace:!0})},Ve=(R,X)=>{D(X)},A=(R,X)=>{K({open:!0,message:R,severity:X})},ee=()=>{K({...I,open:!1})},Fe=()=>{s("/questionnaires")};return u&&B.length===0?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:518,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:517,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[E&&e.jsxDEV(ce,{severity:"error",sx:{mb:2},children:E},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:526,columnNumber:9},void 0),e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{size:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(Me,{color:"primary",onClick:Fe,sx:{mr:1},children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:538,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:537,columnNumber:17},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Administration des Questionnaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:540,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:536,columnNumber:15},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:547,columnNumber:28},void 0),onClick:Te,children:"Nouveau Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:544,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:535,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:534,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:533,columnNumber:9},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(me,{sx:{width:"100%"},children:[e.jsxDEV(Ss,{value:V,onChange:Ve,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:e.jsxDEV(Xe,{label:"Liste des Questionnaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:566,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:559,columnNumber:13},void 0),e.jsxDEV(Br,{value:V,index:0,children:[e.jsxDEV(d,{sx:{mb:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Questionnaires disponibles"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:573,columnNumber:17},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:576,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:572,columnNumber:15},void 0),B.length>0?e.jsxDEV(Ns,{children:B.map(R=>e.jsxDEV(gr,{onClick:()=>te(R),selected:(W==null?void 0:W.id_questionnaire)===R.id_questionnaire,sx:{borderRadius:1,mb:1,border:"1px solid",borderColor:"divider"},children:[e.jsxDEV(ls,{primary:e.jsxDEV(a,{variant:"subtitle1",fontWeight:"bold",children:R.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:595,columnNumber:27},void 0),secondary:e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:R.description||"Aucune description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:600,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:593,columnNumber:23},void 0),e.jsxDEV(Ta,{children:[e.jsxDEV(Be,{title:"√âditer",children:e.jsxDEV(Me,{edge:"end",color:"primary",onClick:X=>{X.stopPropagation(),Ue(R)},children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:615,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:607,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:606,columnNumber:25},void 0),e.jsxDEV(Be,{title:"Supprimer",children:e.jsxDEV(Me,{edge:"end",color:"error",onClick:X=>{X.stopPropagation(),Re(R)},children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:627,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:619,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:618,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:605,columnNumber:23},void 0)]},R.id_questionnaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:582,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:580,columnNumber:17},void 0):e.jsxDEV(d,{textAlign:"center",py:4,children:[e.jsxDEV(a,{variant:"body1",gutterBottom:!0,children:"Aucun questionnaire disponible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:636,columnNumber:19},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:642,columnNumber:32},void 0),onClick:Te,sx:{mt:2},children:"Cr√©er un questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:639,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:635,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:571,columnNumber:13},void 0),e.jsxDEV(Br,{value:V,index:1,children:W?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ye,{sx:{mb:3},children:[e.jsxDEV(Je,{title:W.nom||`${W.fonction||"Sans titre"}`,action:e.jsxDEV(Y,{variant:"outlined",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:663,columnNumber:38},void 0),onClick:()=>Ue(W),children:"Modifier"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:660,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:657,columnNumber:21},void 0),e.jsxDEV(ge,{children:e.jsxDEV(a,{variant:"body1",paragraph:!0,children:W.description||"Aucune description disponible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:671,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:670,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:656,columnNumber:19},void 0),e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:["Questions (",P.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:677,columnNumber:19},void 0),e.jsxDEV(es,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:680,columnNumber:19},void 0),P.length>0?e.jsxDEV(d,{children:Object.entries(P.reduce((R,X)=>{const ie=X.thematique_nom||"Sans th√©matique";return R[ie]||(R[ie]=[]),R[ie].push(X),R},{})).map(([R,X])=>e.jsxDEV(d,{sx:{mb:3},children:[e.jsxDEV(a,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:R},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:694,columnNumber:27},void 0),X.sort((ie,Se)=>(ie.ordre||0)-(Se.ordre||0)).map(ie=>e.jsxDEV(Ls,{children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:701,columnNumber:63},void 0),children:e.jsxDEV(d,{display:"flex",alignItems:"center",width:"100%",children:[e.jsxDEV(a,{sx:{width:"5%",mr:1},children:e.jsxDEV("strong",{children:[ie.ordre||"?","."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:704,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:703,columnNumber:37},void 0),e.jsxDEV(a,{sx:{width:"80%"},children:ie.texte||"Question sans texte"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:706,columnNumber:37},void 0),e.jsxDEV(a,{sx:{width:"15%",textAlign:"right"},children:["Pond.: ",ie.ponderation||0]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:709,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:702,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:701,columnNumber:33},void 0),e.jsxDEV(Ts,{children:e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Pond√©ration:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:716,columnNumber:37},void 0)," ",ie.ponderation||0]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:715,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:714,columnNumber:33},void 0)]},ie.id_question,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:700,columnNumber:31},void 0))]},R,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:693,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:683,columnNumber:21},void 0):e.jsxDEV(ce,{severity:"info",sx:{mt:2},children:"Aucune question trouv√©e. Les questions sont automatiquement charg√©es depuis les th√©matiques s√©lectionn√©es."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:725,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:655,columnNumber:17},void 0):e.jsxDEV(d,{textAlign:"center",py:4,children:[e.jsxDEV(a,{variant:"body1",gutterBottom:!0,children:"Veuillez s√©lectionner un questionnaire dans l'onglet pr√©c√©dent."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:732,columnNumber:19},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:()=>D(0),sx:{mt:2},children:"Retour √† la liste"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:735,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:731,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:653,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:558,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:557,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:531,columnNumber:7},void 0),e.jsxDEV(rs,{open:J,onClose:qe,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:F==="create"?"Cr√©er un nouveau questionnaire":"Modifier le questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:752,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(b,{container:!0,spacing:2,children:[e.jsxDEV(b,{size:12,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,id:"nom",name:"nom",label:"Nom du questionnaire",value:L.nom,onChange:R=>ne({...L,nom:R.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:759,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:758,columnNumber:15},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(oe,{fullWidth:!0,id:"description",name:"description",label:"Description",multiline:!0,rows:3,value:L.description||"",onChange:R=>ne({...L,description:R.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:770,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:769,columnNumber:15},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(Oe,{fullWidth:!0,required:!0,children:[e.jsxDEV(We,{children:"Th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:783,columnNumber:19},void 0),e.jsxDEV(Qe,{multiple:!0,value:M,onChange:R=>O(R.target.value),renderValue:R=>e.jsxDEV(d,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:R.map(X=>{const ie=k.find(Se=>Se.id_thematique===X);return e.jsxDEV(le,{label:(ie==null?void 0:ie.nom)||X,size:"small"},X,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:792,columnNumber:34},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:789,columnNumber:23},void 0),children:q?e.jsxDEV(De,{disabled:!0,children:"Chargement des th√©matiques..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:798,columnNumber:23},void 0):k.length===0?e.jsxDEV(De,{disabled:!0,children:"Aucune th√©matique disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:800,columnNumber:23},void 0):Object.entries(k.reduce((R,X)=>{const ie=X.fonction_nom||"Sans fonction";return R[ie]||(R[ie]=[]),R[ie].push(X),R},{})).map(([R,X])=>[e.jsxDEV(Pa,{children:R},R,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:810,columnNumber:25},void 0),...X.map(ie=>e.jsxDEV(De,{value:ie.id_thematique,children:[e.jsxDEV(ys,{checked:M.includes(ie.id_thematique)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:813,columnNumber:29},void 0),e.jsxDEV(ls,{primary:ie.nom,secondary:ie.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:814,columnNumber:29},void 0)]},ie.id_thematique,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:812,columnNumber:27},void 0))]).flat()},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:784,columnNumber:19},void 0),e.jsxDEV(Zs,{children:"S√©lectionnez une ou plusieurs th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:823,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:782,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:781,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:757,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:756,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:755,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:qe,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:830,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:xe,variant:"contained",color:"primary",disabled:!L.nom.trim()||M.length===0,children:F==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:831,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:829,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:751,columnNumber:7},void 0),e.jsxDEV(rs,{open:Ce,onClose:N,children:[e.jsxDEV(as,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:844,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(a,{children:['√ätes-vous s√ªr de vouloir supprimer le questionnaire "',(W==null?void 0:W.nom)||"Sans titre",'" ? Cette action est irr√©versible.']},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:846,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:845,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:N,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:852,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:re,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:853,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:851,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:843,columnNumber:7},void 0),e.jsxDEV($s,{open:I.open,autoHideDuration:6e3,onClose:ee,children:e.jsxDEV(ce,{onClose:ee,severity:I.severity,sx:{width:"100%"},children:I.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:865,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:860,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:524,columnNumber:5},void 0)},wi=({label:s,value:t,onChange:r,minDate:u,maxDate:m,disabled:E=!1,fullWidth:x=!0,required:B=!1,helperText:h,textFieldProps:W={}})=>e.jsxDEV(ea,{dateAdapter:sa,adapterLocale:ma,children:e.jsxDEV($a,{label:s,value:t,onChange:r,minDate:u,maxDate:m,disabled:E,slotProps:{textField:{fullWidth:x,required:B,helperText:h,...W}}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/DataPickerWrapper.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/DataPickerWrapper.tsx",lineNumber:38,columnNumber:5},void 0),Qr={nom_application:"",statut:"Projet",type:"Build",hebergement:"Cloud",architecture_logicielle:"MVC",date_mise_en_prod:void 0,editeur:"",language:"",description:""},qi=()=>{const s=Ze(),[t,r]=i.useState(!0),[u,m]=i.useState(null),[E,x]=i.useState([]),[B,h]=i.useState(!1),[W,v]=i.useState(null),[P,$]=i.useState(Qr),[T,_]=i.useState("create"),[k,z]=i.useState(!1),[M,O]=i.useState(null);i.useEffect(()=>{y()},[]);const y=async()=>{r(!0),m(null);try{const Q=await U.get("applications");Array.isArray(Q)?x(Q):Q&&Q.data&&Array.isArray(Q.data)?x(Q.data):(console.warn("Format de r√©ponse inattendu:",Q),x([]),m("Format de donn√©es inattendu. Impossible de charger les applications."))}catch(Q){console.error("Erreur lors du chargement des applications:",Q),m("Impossible de charger les applications. Veuillez r√©essayer plus tard."),x([])}finally{r(!1)}},S=()=>{_("create"),$(Qr),O(null),h(!0)},q=Q=>{_("edit"),v(Q),$({nom_application:Q.nom_application,statut:Q.statut,type:Q.type,hebergement:Q.hebergement,architecture_logicielle:Q.architecture_logicielle,date_mise_en_prod:Q.date_mise_en_prod,editeur:Q.editeur||"",language:Q.language||"",description:Q.description||""}),Q.date_mise_en_prod?O(new Date(Q.date_mise_en_prod)):O(null),h(!0)},j=()=>{h(!1),v(null)},L=Q=>{const Ce=Q.target.name,g=Q.target.value;$({...P,[Ce]:g})},ne=Q=>{if(O(Q),Q){const Ce=Q.toISOString().split("T")[0];$({...P,date_mise_en_prod:Ce})}else $({...P,date_mise_en_prod:void 0})},pe=async()=>{try{T==="create"?await U.post("applications",P):T==="edit"&&W&&await U.put(`applications/${W.id_application}`,P),y(),j()}catch(Q){console.error("Erreur lors de la sauvegarde de l'application:",Q),m("Erreur lors de la sauvegarde de l'application. Veuillez r√©essayer.")}},G=Q=>{v(Q),z(!0)},J=()=>{z(!1),v(null)},ae=async()=>{if(W)try{await U.delete(`applications/${W.id_application}`),y(),J()}catch(Q){console.error("Erreur lors de la suppression de l'application:",Q),m("Erreur lors de la suppression de l'application. Veuillez r√©essayer.")}},Ne=Q=>{s(`/analyses/calculer/${Q.id_application}`)};return t?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:232,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:231,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[u&&e.jsxDEV(ce,{severity:"error",sx:{mb:2},children:u},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:240,columnNumber:9},void 0),e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Gestion des applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:250,columnNumber:15},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:256,columnNumber:28},void 0),onClick:S,children:"Nouvelle Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:253,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:249,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:248,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:247,columnNumber:9},void 0),e.jsxDEV(b,{xs:12,children:E.length===0?e.jsxDEV(ce,{severity:"info",children:"Aucune application trouv√©e. Cr√©ez votre premi√®re application en cliquant sur le bouton ci-dessus."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:268,columnNumber:13},void 0):e.jsxDEV(Ge,{component:me,children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:276,columnNumber:21},void 0),e.jsxDEV(f,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:277,columnNumber:21},void 0),e.jsxDEV(f,{children:"Type"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:278,columnNumber:21},void 0),e.jsxDEV(f,{children:"H√©bergement"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:279,columnNumber:21},void 0),e.jsxDEV(f,{children:"Architecture"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:280,columnNumber:21},void 0),e.jsxDEV(f,{children:"Date mise en prod."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:281,columnNumber:21},void 0),e.jsxDEV(f,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:282,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:275,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:274,columnNumber:17},void 0),e.jsxDEV(Ke,{children:E.map(Q=>e.jsxDEV(Ee,{hover:!0,children:[e.jsxDEV(f,{children:Q.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:288,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{label:Q.statut,color:Q.statut==="Projet"?"info":"success",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:290,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:289,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{label:Q.type,color:Q.type==="Build"?"primary":"secondary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:297,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:296,columnNumber:23},void 0),e.jsxDEV(f,{children:Q.hebergement},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:303,columnNumber:23},void 0),e.jsxDEV(f,{children:Q.architecture_logicielle},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:304,columnNumber:23},void 0),e.jsxDEV(f,{children:Q.date_mise_en_prod?new Date(Q.date_mise_en_prod).toLocaleDateString("fr-FR"):"Non d√©finie"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:305,columnNumber:23},void 0),e.jsxDEV(f,{children:[e.jsxDEV(Me,{color:"primary",onClick:()=>q(Q),title:"Modifier l'application",children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:316,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:311,columnNumber:25},void 0),e.jsxDEV(Me,{color:"error",onClick:()=>G(Q),title:"Supprimer l'application",children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:323,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:318,columnNumber:25},void 0),e.jsxDEV(Me,{color:"info",onClick:()=>Ne(Q),title:"Calculer le score de maturit√©",children:e.jsxDEV(Ps,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:330,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:325,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:310,columnNumber:23},void 0)]},Q.id_application,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:287,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:285,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:273,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:272,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:266,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:245,columnNumber:7},void 0),e.jsxDEV(rs,{open:B,onClose:j,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:T==="create"?"Cr√©er une nouvelle application":"Modifier l'application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:344,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(b,{container:!0,spacing:2,children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,id:"nom_application",name:"nom_application",label:"Nom de l'application",value:P.nom_application,onChange:L},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:351,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:350,columnNumber:15},void 0),e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{id:"statut-label",children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:363,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"statut-label",id:"statut",name:"statut",value:P.statut,label:"Statut",onChange:L,children:[e.jsxDEV(De,{value:"Projet",children:"Projet"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:372,columnNumber:21},void 0),e.jsxDEV(De,{value:"Run",children:"Run"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:373,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:364,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:362,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:361,columnNumber:15},void 0),e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{id:"type-label",children:"Type"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:379,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"type-label",id:"type",name:"type",value:P.type,label:"Type",onChange:L,children:[e.jsxDEV(De,{value:"Build",children:"Build"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:388,columnNumber:21},void 0),e.jsxDEV(De,{value:"Buy",children:"Buy"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:389,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:380,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:378,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:377,columnNumber:15},void 0),e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{id:"hebergement-label",children:"H√©bergement"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:395,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"hebergement-label",id:"hebergement",name:"hebergement",value:P.hebergement,label:"H√©bergement",onChange:L,children:[e.jsxDEV(De,{value:"Cloud",children:"Cloud"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:404,columnNumber:21},void 0),e.jsxDEV(De,{value:"Prem",children:"Prem"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:405,columnNumber:21},void 0),e.jsxDEV(De,{value:"Hybrid",children:"Hybrid"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:406,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:396,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:394,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:393,columnNumber:15},void 0),e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{id:"architecture-label",children:"Architecture"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:412,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"architecture-label",id:"architecture_logicielle",name:"architecture_logicielle",value:P.architecture_logicielle,label:"Architecture",onChange:L,children:[e.jsxDEV(De,{value:"ERP",children:"ERP"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:421,columnNumber:21},void 0),e.jsxDEV(De,{value:"Multitenant SAAS",children:"Multitenant SAAS"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:422,columnNumber:21},void 0),e.jsxDEV(De,{value:"MVC",children:"MVC"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:423,columnNumber:21},void 0),e.jsxDEV(De,{value:"Monolithique",children:"Monolithique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:424,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:413,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:411,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:410,columnNumber:15},void 0),e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(wi,{label:"Date de mise en production",value:M,onChange:ne,textFieldProps:{variant:"outlined"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:429,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:428,columnNumber:15},void 0),e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(oe,{fullWidth:!0,id:"editeur",name:"editeur",label:"√âditeur",value:P.editeur,onChange:L},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:439,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:438,columnNumber:15},void 0),e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(oe,{fullWidth:!0,id:"language",name:"language",label:"Langage principal",value:P.language,onChange:L},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:449,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:448,columnNumber:15},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(oe,{fullWidth:!0,id:"description",name:"description",label:"Description",multiline:!0,rows:4,value:P.description,onChange:L},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:459,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:458,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:349,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:348,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:347,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:j,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:474,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:pe,variant:"contained",color:"primary",disabled:!P.nom_application,children:T==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:475,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:473,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:343,columnNumber:7},void 0),e.jsxDEV(rs,{open:k,onClose:J,children:[e.jsxDEV(as,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:488,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(a,{children:[`√ätes-vous s√ªr de vouloir supprimer l'application "`,W==null?void 0:W.nom_application,'" ? Cette action est irr√©versible.']},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:490,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:489,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:J,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:496,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:ae,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:497,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:495,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:487,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:238,columnNumber:5},void 0)},xr=s=>{const{children:t,value:r,index:u,...m}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==u,id:`organization-tabpanel-${u}`,"aria-labelledby":`organization-tab-${u}`,...m,children:r===u&&e.jsxDEV(d,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:101,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:93,columnNumber:5},void 0)},As=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F","#FFBB28","#FF8042","#a4de6c","#d0ed57"],Gr=()=>{var y,S,q;const{name:s}=zs(),t=Ze(),[r,u]=i.useState(!0),[m,E]=i.useState([]),[x,B]=i.useState([]),[h,W]=i.useState([]),[v,P]=i.useState(""),[$,T]=i.useState(0);i.useEffect(()=>{_().then(()=>{s&&(P(s),k(s))})},[s]);const _=async()=>{u(!0);try{const j=await U.get("acteurs"),L=[...new Set(j.data.map(pe=>pe.organisation))].filter(Boolean),ne=[];for(const pe of L)try{const G=await U.get(`acteurs/organisation/${pe}/applications/count`),J=await U.get(`interpretation/organisation/${pe}`),ae=J.data.reduce((Q,Ce)=>Q+Ce.scoreGlobal,0),Ne=J.data.length>0?ae/J.data.length:0;ne.push({nom:pe,nombre_applications:G.data.count,nombre_analyses:J.data.length,score_moyen:Ne})}catch(G){console.error(`Erreur lors de la r√©cup√©ration des statistiques pour ${pe}:`,G)}E(ne),!s&&ne.length>0&&(P(ne[0].nom),k(ne[0].nom))}catch(j){console.error("Erreur lors du chargement des organisations:",j)}finally{u(!1)}},k=async j=>{u(!0);try{const L=await U.get(`interpretation/organisation/${j}`);B(L.data);const ne=await U.get(`interpretation/organisation/${j}/scores-moyens`);W(ne.data),T(0)}catch(L){console.error("Erreur lors du chargement des analyses:",L)}finally{u(!1)}},z=j=>{const L=j.target.value;P(L),t(`/organisations/${L}`)},M=(j,L)=>{T(L)},O=j=>j.map(L=>({thematique:L.thematique,score:L.score,fullMark:5}));return r?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:222,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:221,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Analyse par Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:234,columnNumber:15},void 0),e.jsxDEV(Oe,{sx:{minWidth:200},children:[e.jsxDEV(We,{id:"organisation-select-label",children:"Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:238,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"organisation-select-label",id:"organisation-select",value:v,onChange:z,label:"Organisation",children:m.map(j=>e.jsxDEV(De,{value:j.nom,children:j.nom},j.nom,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:247,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:237,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:233,columnNumber:13},void 0),v&&e.jsxDEV(b,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxDEV(b,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"h6",align:"center",children:((y=m.find(j=>j.nom===v))==null?void 0:y.nombre_applications)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:261,columnNumber:23},void 0),e.jsxDEV(a,{variant:"body2",align:"center",children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:264,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:260,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:259,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:258,columnNumber:17},void 0),e.jsxDEV(b,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"h6",align:"center",children:((S=m.find(j=>j.nom===v))==null?void 0:S.nombre_analyses)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:273,columnNumber:23},void 0),e.jsxDEV(a,{variant:"body2",align:"center",children:"Analyses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:276,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:272,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:271,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:270,columnNumber:17},void 0),e.jsxDEV(b,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"h6",align:"center",children:(((q=m.find(j=>j.nom===v))==null?void 0:q.score_moyen)||0).toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:285,columnNumber:23},void 0),e.jsxDEV(a,{variant:"body2",align:"center",children:"Score Moyen"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:288,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:284,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:283,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:282,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:257,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:232,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:231,columnNumber:9},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{width:"100%"},children:[e.jsxDEV(Ss,{value:$,onChange:M,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[e.jsxDEV(Xe,{label:"Vue d'ensemble"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:309,columnNumber:15},void 0),e.jsxDEV(Xe,{label:"Scores par Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:310,columnNumber:15},void 0),e.jsxDEV(Xe,{label:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:302,columnNumber:13},void 0),e.jsxDEV(xr,{value:$,index:0,children:e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Scores moyens par th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:320,columnNumber:21},void 0),e.jsxDEV(ge,{children:h.length>0?e.jsxDEV(Ds,{width:"100%",height:400,children:e.jsxDEV(Sr,{outerRadius:150,data:O(h),children:[e.jsxDEV(wr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:325,columnNumber:29},void 0),e.jsxDEV(qr,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:326,columnNumber:29},void 0),e.jsxDEV(Fr,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:327,columnNumber:29},void 0),e.jsxDEV(rr,{name:"Score",dataKey:"score",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:328,columnNumber:29},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:335,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:324,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:323,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:339,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:321,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:319,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:318,columnNumber:17},void 0),e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Scores globaux par application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:350,columnNumber:21},void 0),e.jsxDEV(ge,{children:x.length>0?e.jsxDEV(Ds,{width:"100%",height:400,children:e.jsxDEV(ca,{data:x.map(j=>({name:j.nomApplication,score:j.scoreGlobal})),margin:{top:5,right:30,left:20,bottom:100},children:[e.jsxDEV(Ar,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:361,columnNumber:29},void 0),e.jsxDEV(_r,{dataKey:"name",tick:{angle:-45,textAnchor:"end"},height:100},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:362,columnNumber:29},void 0),e.jsxDEV(Ir,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:367,columnNumber:29},void 0),e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:368,columnNumber:29},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:369,columnNumber:29},void 0),e.jsxDEV(ba,{dataKey:"score",name:"Score Global",children:x.map((j,L)=>e.jsxDEV(Mr,{fill:As[L%As.length]},`cell-${L}`,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:372,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:370,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:354,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:353,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:378,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:351,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:349,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:348,columnNumber:17},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"R√©partition par niveau de maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:389,columnNumber:21},void 0),e.jsxDEV(ge,{children:x.length>0?e.jsxDEV(e.Fragment,{children:e.jsxDEV(b,{container:!0,spacing:2,children:Array.from(new Set(x.map(j=>j.interpretation.niveau))).map((j,L)=>{const ne=x.filter(G=>G.interpretation.niveau===j).length,pe=(ne/x.length*100).toFixed(1);return e.jsxDEV(b,{xs:6,md:3,children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center"},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:j},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:402,columnNumber:39},void 0),e.jsxDEV(a,{variant:"h4",color:As[L%As.length],children:ne},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:405,columnNumber:39},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[pe,"% des applications"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:408,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:401,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:400,columnNumber:35},void 0)},j,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:399,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:393,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:392,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:419,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:390,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:388,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:387,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:316,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:315,columnNumber:13},void 0),e.jsxDEV(xr,{value:$,index:1,children:e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Scores moyens par th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:435,columnNumber:21},void 0),e.jsxDEV(ge,{children:h.length>0?e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:442,columnNumber:33},void 0),e.jsxDEV(f,{children:"Score Moyen"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:443,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:441,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:440,columnNumber:29},void 0),e.jsxDEV(Ke,{children:h.map(j=>e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:j.thematique},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:449,columnNumber:35},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(d,{width:"50px",mr:1,children:j.score.toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:452,columnNumber:39},void 0),e.jsxDEV(d,{flex:1,mr:1,children:e.jsxDEV("div",{style:{height:"10px",width:`${j.score/5*100}%`,backgroundColor:"#8884d8",borderRadius:"5px"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:456,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:455,columnNumber:39},void 0),e.jsxDEV(d,{width:"30px",children:e.jsxDEV(le,{label:j.score>=4?"A":j.score>=3?"B":j.score>=2?"C":j.score>=1?"D":"E",size:"small",color:j.score>=4?"success":j.score>=3?"info":j.score>=2?"warning":"error"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:464,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:463,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:451,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:450,columnNumber:35},void 0)]},j.thematique,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:448,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:446,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:439,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:438,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:484,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:436,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:434,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:433,columnNumber:17},void 0),e.jsxDEV(b,{xs:12,md:6,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"D√©tail par application et th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:495,columnNumber:21},void 0),e.jsxDEV(ge,{children:h.length>0?e.jsxDEV(Ge,{sx:{maxHeight:440},children:e.jsxDEV(He,{stickyHeader:!0,children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:502,columnNumber:33},void 0),e.jsxDEV(f,{children:"Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:503,columnNumber:33},void 0),e.jsxDEV(f,{children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:504,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:501,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:500,columnNumber:29},void 0),e.jsxDEV(Ke,{children:x.flatMap(j=>j.thematiques.map(L=>e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:j.nomApplication},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:511,columnNumber:37},void 0),e.jsxDEV(f,{children:L.thematique},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:512,columnNumber:37},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(d,{width:"30px",mr:1,children:L.score.toFixed(1)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:515,columnNumber:41},void 0),e.jsxDEV(d,{flex:1,children:e.jsxDEV("div",{style:{height:"8px",width:`${L.score/5*100}%`,backgroundColor:"#82ca9d",borderRadius:"4px"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:519,columnNumber:43},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:518,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:514,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:513,columnNumber:37},void 0)]},`${j.idAnalyse}-${L.thematique}`,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:510,columnNumber:35},void 0)))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:507,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:499,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:498,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:535,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:496,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:494,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:493,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:431,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:430,columnNumber:13},void 0),e.jsxDEV(xr,{value:$,index:2,children:e.jsxDEV(b,{container:!0,spacing:3,children:e.jsxDEV(b,{xs:12,children:e.jsxDEV(Ge,{component:me,children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:554,columnNumber:27},void 0),e.jsxDEV(f,{children:"Score Global"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:555,columnNumber:27},void 0),e.jsxDEV(f,{children:"Niveau de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:556,columnNumber:27},void 0),e.jsxDEV(f,{children:"Date d'Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:557,columnNumber:27},void 0),e.jsxDEV(f,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:558,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:553,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:552,columnNumber:23},void 0),e.jsxDEV(Ke,{children:x.map(j=>e.jsxDEV(Ee,{hover:!0,children:[e.jsxDEV(f,{children:j.nomApplication},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:564,columnNumber:29},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(d,{width:"50px",mr:1,children:j.scoreGlobal.toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:567,columnNumber:33},void 0),e.jsxDEV(d,{flex:1,children:e.jsxDEV("div",{style:{height:"10px",width:`${j.scoreGlobal/5*100}%`,backgroundColor:As[x.indexOf(j)%As.length],borderRadius:"5px"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:571,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:570,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:566,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:565,columnNumber:29},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{label:j.interpretation.niveau,color:j.scoreGlobal>=4?"success":j.scoreGlobal>=3?"info":j.scoreGlobal>=2?"warning":"error"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:581,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:580,columnNumber:29},void 0),e.jsxDEV(f,{children:new Date(j.dateAnalyse).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:591,columnNumber:29},void 0),e.jsxDEV(f,{children:e.jsxDEV(Y,{variant:"outlined",size:"small",onClick:()=>t(`/analyses-interpretations/${j.idAnalyse}`),children:"D√©tails"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:595,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:594,columnNumber:29},void 0)]},j.idAnalyse,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:563,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:561,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:551,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:550,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:549,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:547,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:546,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:301,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:300,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:229,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:228,columnNumber:5},void 0)},Xs=s=>{const t=typeof s.score_global=="number"?s.score_global:typeof s.score_global=="string"?parseFloat(s.score_global):typeof s.scoreGlobal=="number"?s.scoreGlobal:typeof s.scoreGlobal=="string"?parseFloat(s.scoreGlobal):null,r=Array.isArray(s.thematiques)?s.thematiques.map(u=>({...u,score:typeof u.score=="number"?u.score:typeof u.score=="string"?parseFloat(u.score):0,nombre_reponses:typeof u.nombre_reponses=="number"?u.nombre_reponses:typeof u.nombre_reponses=="string"?parseInt(u.nombre_reponses,10):0})):[];return{...s,nom_application:s.nom_application||s.nom||"Application inconnue",nom:s.nom||s.nom_application||"Application inconnue",score_global:t,scoreGlobal:t,thematiques:r}},Fi=s=>{try{return new Date(s).toLocaleDateString("fr-FR")}catch{return"Date inconnue"}},hs=s=>s.includes("5")||s.includes("Optimis√©")||s.includes("Avanc√©")||s.includes("4")||s.includes("G√©r√©")?"success":s.includes("3")||s.includes("Mesur√©")||s.includes("Interm√©diaire")?"info":s.includes("2")||s.includes("D√©fini")?"warning":s.includes("1")||s.includes("Initial")||s.includes("Faible")?"error":s.includes("Excellent")?"success":s.includes("Bon")?"info":s.includes("Moyen")?"warning":s.includes("Faible")?"error":"default",Na=({title:s,value:t,variant:r="primary",size:u="md",subtitle:m,trend:E})=>{const x=()=>{switch(r){case"primary":return{bg:"bg-primary-50",text:"text-primary-900",border:"border-primary-200"};case"secondary":return{bg:"bg-secondary-50",text:"text-secondary-900",border:"border-secondary-200"};case"accent1":return{bg:"bg-accent1-light bg-opacity-30",text:"text-accent1",border:"border-accent1-light"};case"accent2":return{bg:"bg-accent2-light bg-opacity-30",text:"text-accent2",border:"border-accent2-light"};case"accent3":return{bg:"bg-accent3-light bg-opacity-30",text:"text-accent3",border:"border-accent3-light"};case"accent4":return{bg:"bg-accent4-light bg-opacity-30",text:"text-accent4",border:"border-accent4-light"};default:return{bg:"bg-gray-50",text:"text-gray-900",border:"border-gray-200"}}},B=()=>{switch(u){case"sm":return"p-3";case"lg":return"p-5";default:return"p-4"}},h=x(),W=B();return e.jsxDEV("div",{className:`rounded-lg border ${h.bg} ${h.border} ${W} shadow-card`,children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:90,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("h3",{className:`text-2xl font-bold ${h.text}`,children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:92,columnNumber:11},void 0),m&&e.jsxDEV("p",{className:"ml-2 text-sm text-gray-500",children:m},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:93,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:91,columnNumber:9},void 0),E&&e.jsxDEV("p",{className:"mt-1 flex items-center text-sm",children:[e.jsxDEV("span",{className:E.isPositive?"text-success-500":"text-danger-500",children:[E.isPositive?"‚Üë":"‚Üì"," ",Math.abs(E.value),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:98,columnNumber:13},void 0),E.label&&e.jsxDEV("span",{className:"text-gray-500 ml-1",children:E.label},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:101,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:89,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:88,columnNumber:5},void 0)},Ri=s=>s>=4?"success":s>=3?"info":s>=2?"warning":"error",Li=s=>s>=4?"Optimis√©":s>=3?"Mesur√©":s>=2?"D√©fini":s>=1?"Initial":"Non d√©fini",ki=({entrepriseId:s})=>{const t=Ze(),[r,u]=i.useState(!0),[m,E]=i.useState(null),[x,B]=i.useState(null),[h,W]=i.useState([]),[v,P]=i.useState([]),[$,T]=i.useState(!1),_=async()=>{if(s){u(!0),E(null);try{const[q,j,L]=await Promise.all([U.get(`/entreprises/${s}`),U.get(`/analyses/entreprise/${s}`),U.get(`/historique/entreprise/${s}`)]);B(q),W(Array.isArray(j)?j:j.data||[]),P(L.historique_global||[])}catch(q){console.error("Erreur lors de la r√©cup√©ration des donn√©es:",q),E("Impossible de charger les donn√©es.")}finally{u(!1)}}},k=async()=>{if(s){T(!0),E(null);try{await U.post(`/entreprises/${s}/calculer`),await _()}catch(q){console.error("Erreur lors du recalcul:",q),E("Impossible de recalculer le score.")}finally{T(!1)}}};i.useEffect(()=>{_()},[s]);const z=()=>v.length?[...v].sort((q,j)=>new Date(q.date_mesure)-new Date(j.date_mesure)).map(q=>({date:new Date(q.date_mesure).toLocaleDateString("fr-FR"),score:q.score_global||0})):[];if(r)return e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:116,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:115,columnNumber:7},void 0);if(m)return e.jsxDEV(ce,{severity:"error",sx:{mb:2},children:m},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:122,columnNumber:12},void 0);if(!x)return e.jsxDEV(ce,{severity:"info",children:"Aucune entreprise s√©lectionn√©e."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:126,columnNumber:12},void 0);const M=x.score_global||0,O=Li(M),y=Ri(M),S=z();return e.jsxDEV(ye,{variant:"outlined",sx:{mb:3},children:[e.jsxDEV(Je,{title:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(a,{variant:"h6",children:["Scores de maturit√© - ",x.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV(Be,{title:"Recalculer le score",children:e.jsxDEV(Y,{size:"small",startIcon:e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:143,columnNumber:28},void 0),onClick:k,disabled:$,children:$?"Calcul en cours...":"Recalculer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:141,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:140,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:136,columnNumber:7},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:153,columnNumber:7},void 0),e.jsxDEV(ge,{children:e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{item:!0,xs:12,md:4,children:e.jsxDEV(Na,{title:"Score Global",value:typeof M=="number"?M.toFixed(2):"0.00",variant:"primary",subtitle:e.jsxDEV(le,{label:O,color:y},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:161,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:157,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:156,columnNumber:11},void 0),e.jsxDEV(b,{item:!0,xs:12,md:8,children:S.length>1?e.jsxDEV(d,{height:250,children:e.jsxDEV(Ds,{width:"100%",height:"100%",children:e.jsxDEV(fi,{data:S,children:[e.jsxDEV(Ar,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:170,columnNumber:21},void 0),e.jsxDEV(_r,{dataKey:"date"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:171,columnNumber:21},void 0),e.jsxDEV(Ir,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:172,columnNumber:21},void 0),e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:173,columnNumber:21},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:174,columnNumber:21},void 0),e.jsxDEV(Ni,{type:"monotone",dataKey:"score",stroke:"#0B4E87",name:"Score global",activeDot:{r:8,fill:"#0B4E87"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:175,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:169,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:168,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:167,columnNumber:15},void 0):e.jsxDEV(d,{display:"flex",alignItems:"center",justifyContent:"center",height:250,children:e.jsxDEV(a,{color:"text.secondary",children:"Pas assez de donn√©es historiques."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:187,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:186,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:165,columnNumber:11},void 0),e.jsxDEV(b,{item:!0,xs:12,children:[e.jsxDEV(es,{sx:{my:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:195,columnNumber:13},void 0),e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,children:["Analyses des applications (",h.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:196,columnNumber:13},void 0),h.length>0?e.jsxDEV(Ge,{component:me,children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:204,columnNumber:23},void 0),e.jsxDEV(f,{children:"Score Global"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:205,columnNumber:23},void 0),e.jsxDEV(f,{children:"Date d'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:206,columnNumber:23},void 0),e.jsxDEV(f,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:207,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:203,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:202,columnNumber:19},void 0),e.jsxDEV(Ke,{children:h.map(q=>e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:q.nom_application||"Non sp√©cifi√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:213,columnNumber:25},void 0),e.jsxDEV(f,{children:typeof q.score_global=="number"?q.score_global.toFixed(2):"0.00"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:214,columnNumber:25},void 0),e.jsxDEV(f,{children:new Date(q.date_analyse).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:217,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(Y,{size:"small",onClick:()=>t(`/analyses-interpretations/${q.id_application}`),children:"D√©tails"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:221,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:220,columnNumber:25},void 0)]},q.id_analyse,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:212,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:210,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:201,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:200,columnNumber:15},void 0):e.jsxDEV(ce,{severity:"info",children:"Aucune analyse disponible pour cette entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:194,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:155,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:154,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:135,columnNumber:5},void 0)},Ti=s=>{const{children:t,value:r,index:u,...m}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==u,id:`analysis-tabpanel-${u}`,"aria-labelledby":`analysis-tab-${u}`,...m,children:r===u&&e.jsxDEV(d,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:71,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:64,columnNumber:5},void 0)},Pi=({loading:s,error:t,applications:r,entreprises:u,selectedApplication:m,selectedEntreprise:E,analyses:x,selectedAnalyse:B,interpretation:h,historique:W,filteredHistorique:v,tabValue:P,selectedThematique:$,openDialog:T,newAnalyseData:_,interpretationsSummary:k,page:z,rowsPerPage:M,order:O,orderBy:y,searchTerm:S,filters:q,showFilters:j,uniqueThematiques:L,handleApplicationChange:ne,handleEntrepriseChange:pe,handleAnalyseChange:G,handleThematiqueChange:J,handleTabChange:ae,handleOpenNewAnalyseDialog:Ne,handleCloseDialog:Q,addThematique:Ce,updateThematique:g,removeThematique:c,createNewAnalyse:l,calculateNewAnalyse:p,getScoreGlobal:C,prepareHistoriqueData:I,handleChangePage:K,handleChangeRowsPerPage:F,handleRequestSort:be,getFilteredData:H,getUniqueValues:o,setSearchTerm:V,setFilters:D,setShowFilters:ue,fetchAllInterpretations:se,fetchAnalysesByApplication:je,fetchAnalysesByEntreprise:Ie,fetchHistoriqueByEntreprise:Te})=>{var te,Ve;const[Ue,qe]=i.useState(m?"application":E?"entreprise":"application"),[xe,Re]=i.useState({open:!1,message:"",severity:"success"});i.useEffect(()=>{m&&!E?qe("application"):E&&!m&&qe("entreprise")},[m,E]);const N=()=>{if(Ue==="application"){if(qe("entreprise"),m){const A=r.find(ee=>ee.id_application===m);A!=null&&A.id_entreprise&&pe({target:{value:A.id_entreprise}})}}else if(qe("application"),E&&!m){const A=r.filter(ee=>ee.id_entreprise===E);A.length>0&&ne({target:{value:A[0].id_application}})}},re=({active:A,payload:ee})=>A&&(ee!=null&&ee.length)?e.jsxDEV(me,{sx:{p:1},children:[e.jsxDEV(a,{children:`Th√©matique: ${ee[0].payload.thematique}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:162,columnNumber:11},void 0),e.jsxDEV(a,{children:`Score: ${ee[0].value}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:161,columnNumber:9},void 0):null;return s?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:173,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:172,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[t&&e.jsxDEV(ce,{severity:"error",sx:{mb:2},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:180,columnNumber:17},void 0),e.jsxDEV($s,{open:xe.open,autoHideDuration:6e3,onClose:()=>Re({...xe,open:!1}),children:e.jsxDEV(ce,{severity:xe.severity,children:xe.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:186,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:181,columnNumber:7},void 0),e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Analyses et Interpr√©tations de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV(d,{children:[e.jsxDEV(za,{value:Ue,exclusive:!0,onChange:(A,ee)=>ee&&N(),color:"primary",sx:{mr:2},children:[e.jsxDEV(Lr,{value:"application",startIcon:e.jsxDEV(Oa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:204,columnNumber:64},void 0),children:"Vue Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:204,columnNumber:19},void 0),e.jsxDEV(Lr,{value:"entreprise",startIcon:e.jsxDEV(ir,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:207,columnNumber:63},void 0),children:"Vue Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:207,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:197,columnNumber:17},void 0),Ue==="application"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Y,{variant:"outlined",color:"primary",onClick:Ne,sx:{mr:1},children:"Nouvelle Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:213,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:p,startIcon:e.jsxDEV(vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:225,columnNumber:34},void 0),children:"Calculer Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:221,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:212,columnNumber:19},void 0),Ue==="entreprise"&&E&&e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:()=>Ie(E),startIcon:e.jsxDEV(vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:236,columnNumber:32},void 0),children:"Calculer Scores"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:232,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:196,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV(Ws,{options:u,getOptionLabel:A=>A.nom_entreprise,value:u.find(A=>A.id_entreprise===E)||null,onChange:(A,ee)=>pe({target:{value:(ee==null?void 0:ee.id_entreprise)||""}}),renderInput:A=>e.jsxDEV(oe,{...A,label:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:249,columnNumber:40},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:244,columnNumber:13},void 0),(Ue==="application"||E)&&e.jsxDEV(Ws,{options:r.filter(A=>!E||A.id_entreprise===E),getOptionLabel:A=>A.nom_application,value:r.find(A=>A.id_application===m)||null,onChange:(A,ee)=>ne({target:{value:(ee==null?void 0:ee.id_application)||""}}),renderInput:A=>e.jsxDEV(oe,{...A,label:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:259,columnNumber:42},void 0),disabled:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:254,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:191,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:190,columnNumber:9},void 0),Ue==="entreprise"&&E?e.jsxDEV(b,{xs:12,children:e.jsxDEV(ki,{entrepriseId:E},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:268,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:267,columnNumber:11},void 0):e.jsxDEV(e.Fragment,{children:[B&&e.jsxDEV(b,{xs:12,md:4,children:e.jsxDEV(Na,{title:"Score Global",value:C(),variant:"primary",subtitle:"Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:274,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:273,columnNumber:15},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{width:"100%",mb:2},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,children:[e.jsxDEV(a,{variant:"h6",children:"R√©capitulatif des analyses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:286,columnNumber:19},void 0),e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(oe,{size:"small",placeholder:"Rechercher...",value:S,onChange:A=>V(A.target.value),InputProps:{startAdornment:e.jsxDEV(Ur,{position:"start",children:e.jsxDEV(jr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:296,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:295,columnNumber:27},void 0)},sx:{mr:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:288,columnNumber:21},void 0),e.jsxDEV(Y,{startIcon:e.jsxDEV(Ba,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:302,columnNumber:40},void 0),onClick:()=>ue(!0),children:"Filtres"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:302,columnNumber:21},void 0),e.jsxDEV(Me,{onClick:se,children:e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:306,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:305,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:287,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:285,columnNumber:17},void 0),e.jsxDEV(Jr,{anchor:"right",open:j,onClose:()=>ue(!1),children:e.jsxDEV(d,{sx:{width:300,p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Filtres"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:313,columnNumber:21},void 0),e.jsxDEV(Ws,{options:o("nom_application"),value:q.application,onChange:(A,ee)=>D({...q,application:ee||""}),renderInput:A=>e.jsxDEV(oe,{...A,label:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:318,columnNumber:48},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:314,columnNumber:21},void 0),e.jsxDEV(Ws,{options:o("niveau_global"),value:q.niveau,onChange:(A,ee)=>D({...q,niveau:ee||""}),renderInput:A=>e.jsxDEV(oe,{...A,label:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:325,columnNumber:48},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:321,columnNumber:21},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Score min",type:"number",value:q.scoreMin,onChange:A=>D({...q,scoreMin:A.target.value}),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:328,columnNumber:21},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Score max",type:"number",value:q.scoreMax,onChange:A=>D({...q,scoreMax:A.target.value}),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:336,columnNumber:21},void 0),e.jsxDEV(Y,{onClick:()=>D({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""}),children:"R√©initialiser"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:344,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:312,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:311,columnNumber:17},void 0),e.jsxDEV(Ge,{sx:{maxHeight:440},children:e.jsxDEV(He,{stickyHeader:!0,children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:e.jsxDEV(ds,{active:y==="nom_application",direction:y==="nom_application"?O:"asc",onClick:()=>be("nom_application"),children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:357,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:356,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(ds,{active:y==="id_entreprise",direction:y==="id_entreprise"?O:"asc",onClick:()=>be("id_entreprise"),children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:366,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:365,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(ds,{active:y==="score_global",direction:y==="score_global"?O:"asc",onClick:()=>be("score_global"),children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:375,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:374,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(ds,{active:y==="niveau_global",direction:y==="niveau_global"?O:"asc",onClick:()=>be("niveau_global"),children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:384,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:383,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(ds,{active:y==="date_analyse",direction:y==="date_analyse"?O:"asc",onClick:()=>be("date_analyse"),children:"Date"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:393,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:392,columnNumber:25},void 0),e.jsxDEV(f,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:401,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:355,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:354,columnNumber:21},void 0),e.jsxDEV(Ke,{children:[H().map(A=>{const ee=u.find(R=>R.id_entreprise===A.id_entreprise),Fe=ee?ee.nom_entreprise:"Non sp√©cifi√©e";return e.jsxDEV(Ee,{hover:!0,selected:m===A.id_application,onClick:()=>je(A.id_application),sx:{cursor:"pointer"},children:[e.jsxDEV(f,{children:A.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:416,columnNumber:29},void 0),e.jsxDEV(f,{children:Fe},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:417,columnNumber:29},void 0),e.jsxDEV(f,{children:typeof A.score_global=="number"?A.score_global.toFixed(2):"0.00"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:418,columnNumber:29},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{label:A.niveau_global,color:hs(A.niveau_global),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:424,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:423,columnNumber:29},void 0),e.jsxDEV(f,{children:Fi(A.date_analyse)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:430,columnNumber:29},void 0),e.jsxDEV(f,{children:e.jsxDEV(Y,{variant:"outlined",size:"small",color:m===A.id_application?"secondary":"primary",onClick:R=>{R.stopPropagation(),je(A.id_application)},children:m===A.id_application?"S√©lectionn√©e":"S√©lectionner"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:432,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:431,columnNumber:29},void 0)]},A.id_analyse,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:409,columnNumber:27},void 0)}),H().length===0&&e.jsxDEV(Ee,{children:e.jsxDEV(f,{colSpan:6,align:"center",children:"Aucune analyse trouv√©e"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:449,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:448,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:404,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:353,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:352,columnNumber:17},void 0),e.jsxDEV(ra,{rowsPerPageOptions:[5,10,25,50],component:"div",count:k.length,rowsPerPage:M,page:z,onPageChange:K,onRowsPerPageChange:F,labelRowsPerPage:"Lignes par page:",labelDisplayedRows:({from:A,to:ee,count:Fe})=>`${A}-${ee} sur ${Fe}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:458,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:284,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:283,columnNumber:13},void 0),B&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"R√©partition par Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:476,columnNumber:21},void 0),e.jsxDEV(ge,{children:((te=B.thematiques)==null?void 0:te.length)>0?e.jsxDEV(Ds,{width:"100%",height:350,children:e.jsxDEV(Sr,{outerRadius:150,data:B.thematiques.map(A=>({thematique:A.thematique,score:A.score||0,fullMark:5})),children:[e.jsxDEV(wr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:488,columnNumber:29},void 0),e.jsxDEV(qr,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:489,columnNumber:29},void 0),e.jsxDEV(Fr,{angle:30,domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:490,columnNumber:29},void 0),e.jsxDEV(rr,{name:"Score",dataKey:"score",stroke:"#0B4E87",fill:"#0B4E87",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:491,columnNumber:29},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:498,columnNumber:29},void 0),e.jsxDEV(RechartsTooltip,{content:e.jsxDEV(re,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:499,columnNumber:55},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:499,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:480,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:479,columnNumber:25},void 0):e.jsxDEV(a,{align:"center",children:"Aucune donn√©e de th√©matique disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:503,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:477,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:475,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:474,columnNumber:17},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{width:"100%"},children:[e.jsxDEV(Ss,{value:P,onChange:ae,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[e.jsxDEV(Xe,{label:"Interpr√©tation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:518,columnNumber:23},void 0),e.jsxDEV(Xe,{label:"D√©tails par Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:519,columnNumber:23},void 0),e.jsxDEV(Xe,{label:"Historique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:520,columnNumber:23},void 0),e.jsxDEV(Xe,{label:"Analyses Pr√©c√©dentes"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:521,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:511,columnNumber:21},void 0),e.jsxDEV(Ti,{value:P,index:0,children:h?e.jsxDEV(b,{container:!0,spacing:2,children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Niveau de Maturit√©",subheader:h.niveau,action:e.jsxDEV(le,{label:h.niveau,color:hs(h.niveau),size:"medium"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:533,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:529,columnNumber:31},void 0),e.jsxDEV(ge,{children:e.jsxDEV(a,{variant:"body1",paragraph:!0,children:h.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:541,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:540,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:528,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:527,columnNumber:27},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Recommandations"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:549,columnNumber:31},void 0),e.jsxDEV(ge,{children:e.jsxDEV(a,{variant:"body1",paragraph:!0,children:h.recommandations},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:551,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:550,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:548,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:547,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:526,columnNumber:25},void 0):e.jsxDEV(ce,{severity:"info",children:"Aucune interpr√©tation disponible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:559,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:524,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:510,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:509,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:473,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:271,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:189,columnNumber:7},void 0),e.jsxDEV(rs,{open:T,onClose:Q,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:"Cr√©er une nouvelle analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:574,columnNumber:9},void 0),e.jsxDEV(is,{children:[e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,children:["Application: ",((Ve=r.find(A=>A.id_application===m))==null?void 0:Ve.nom_application)||"Non s√©lectionn√©e"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:576,columnNumber:11},void 0),e.jsxDEV(d,{sx:{mt:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Th√©matiques et Scores"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:580,columnNumber:13},void 0),_.thematiques.map((A,ee)=>e.jsxDEV(b,{container:!0,spacing:2,sx:{mb:2},children:[e.jsxDEV(b,{xs:5,children:e.jsxDEV(oe,{fullWidth:!0,label:"Th√©matique",value:A.thematique,onChange:Fe=>g(ee,"thematique",Fe.target.value)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:584,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:583,columnNumber:17},void 0),e.jsxDEV(b,{xs:3,children:e.jsxDEV(oe,{fullWidth:!0,type:"number",label:"Score",value:A.score,inputProps:{min:0,max:5,step:.1},onChange:Fe=>g(ee,"score",parseFloat(Fe.target.value))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:592,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:591,columnNumber:17},void 0),e.jsxDEV(b,{xs:3,children:e.jsxDEV(oe,{fullWidth:!0,type:"number",label:"Nombre de r√©ponses",value:A.nombre_reponses,inputProps:{min:0,step:1},onChange:Fe=>g(ee,"nombre_reponses",parseInt(Fe.target.value))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:602,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:601,columnNumber:17},void 0),e.jsxDEV(b,{xs:1,children:e.jsxDEV(Y,{variant:"outlined",color:"error",onClick:()=>c(ee),sx:{height:"100%"},children:"X"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:612,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:611,columnNumber:17},void 0)]},ee,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:582,columnNumber:15},void 0)),e.jsxDEV(Y,{variant:"outlined",onClick:Ce,sx:{mt:1},children:"Ajouter une th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:623,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:579,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:575,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:Q,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:629,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:()=>{l().then(()=>Re({open:!0,message:"Analyse cr√©√©e avec succ√®s",severity:"success"})).catch(()=>Re({open:!0,message:"Erreur lors de la cr√©ation",severity:"error"}))},variant:"contained",color:"primary",disabled:_.thematiques.length===0,children:"Cr√©er l'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:630,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:628,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:573,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:179,columnNumber:5},void 0)},Hr=()=>{const{id:s}=zs();Ze();const[t,r]=i.useState(!0),[u,m]=i.useState(null),[E,x]=i.useState([]),[B,h]=i.useState(""),[W,v]=i.useState([]),[P,$]=i.useState(null),[T,_]=i.useState(null),[k,z]=i.useState([]),[M,O]=i.useState([]),[y,S]=i.useState(""),[q,j]=i.useState(0),[L,ne]=i.useState(""),[pe,G]=i.useState(!1),[J,ae]=i.useState({id_application:"",thematiques:[]}),[Ne,Q]=i.useState([]),[Ce,g]=i.useState(0),[c,l]=i.useState(10),[p,C]=i.useState("desc"),[I,K]=i.useState("date_analyse"),[F,be]=i.useState(""),[H,o]=i.useState({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""}),[V,D]=i.useState(!1),ue=L?k.filter(Z=>Z.thematique===L):k,se=[...new Set(k.map(Z=>Z.thematique))],je=async()=>{try{r(!0),m(null);const Z=await U.get("interpretations"),w=await U.get("applications/entreprise-mapping");if(Array.isArray(Z)){let fe=Z;if(w&&typeof w=="object"){const ve={};Array.isArray(w)?w.forEach(Pe=>{ve[Pe.id_application]=Pe.id_entreprise}):Object.keys(w).forEach(Pe=>{ve[Pe]=w[Pe]}),fe=fe.map(Pe=>({...Pe,id_entreprise:Pe.id_entreprise||ve[Pe.id_application]||"",organisation:Pe.organisation||"DSIN"}))}else fe=fe.map(ve=>({...ve,id_entreprise:ve.id_entreprise||"",organisation:ve.organisation||"DSIN"}));Q(fe),console.log(`Chargement de ${fe.length} interpr√©tations`)}else console.warn("Format de r√©ponse inattendu pour les interpr√©tations:",Z),Q([])}catch(Z){console.error("Erreur lors du chargement des interpr√©tations:",Z),m("Impossible de charger les interpr√©tations"),Q([])}finally{r(!1)}};i.useEffect(()=>{(async()=>{try{r(!0);const[w,fe]=await Promise.all([U.get("applications"),U.get("entreprises")]);Array.isArray(w)?x(w):(m("Format de r√©ponse inattendu pour les applications"),x([])),Array.isArray(fe)?O(fe):(m("Format de r√©ponse inattendu pour les entreprises"),O([])),await je(),S(""),h("")}catch(w){console.error("Erreur lors du chargement des donn√©es initiales:",w),m("Impossible de charger les donn√©es initiales")}finally{r(!1)}})()},[]);const Ie=Z=>{const w=Z.target.value;h(w),qe(w)},Te=async Z=>{try{const w=await U.get(`historique/entreprise/${Z}`);if(Array.isArray(w)){z(w);const fe=[...new Set(w.map(ve=>ve.thematique))];console.log(`${fe.length} th√©matiques uniques trouv√©es dans l'historique de l'entreprise ${Z}`),L&&!fe.includes(L)&&ne("")}else console.warn("Format de r√©ponse inattendu pour l'historique:",w),z([])}catch(w){console.error("Erreur lors du chargement de l'historique pour l'entreprise:",w),z([])}},Ue=async Z=>{r(!0),m(null);try{const w=await U.get(`analyses/entreprise/${Z}`);if(w&&typeof w=="object"){if(console.log("Donn√©es d'entreprise re√ßues:",w),w.analyses&&Array.isArray(w.analyses)){const fe=w.analyses.map(Xs);if(v(fe),fe.length>0){const ve=fe[0];$(ve),xe(ve.id_analyse)}else $(null),_(null)}else console.warn("Aucune analyse trouv√©e dans la r√©ponse de l'API pour l'entreprise:",Z),v([]),$(null),_(null);w.applications&&Array.isArray(w.applications)&&console.log(`${w.applications.length} applications trouv√©es pour l'entreprise ${Z}`)}else if(Array.isArray(w)){const fe=w.map(Xs);if(v(fe),fe.length>0){const ve=fe[0];$(ve),xe(ve.id_analyse)}else $(null),_(null)}else console.warn("Format de r√©ponse inattendu pour les analyses:",w),v([]),$(null),_(null)}catch(w){console.error("Erreur lors du chargement des analyses pour l'entreprise:",w),m("Impossible de charger les analyses pour cette entreprise"),v([]),$(null)}finally{r(!1)}},qe=async Z=>{r(!0),m(null);try{const w=await U.get(`analyses/application/${Z}`);if(Array.isArray(w)){const fe=w.map(Xs);if(v(fe),fe.length>0){const ve=fe[0];$(ve),xe(ve.id_analyse),Re(Z)}else $(null),_(null),z([])}else console.warn("Format de r√©ponse inattendu pour les analyses:",w),v([]),$(null),_(null),z([])}catch(w){console.error("Erreur lors du chargement des analyses:",w),m("Impossible de charger les analyses"),v([]),$(null)}finally{r(!1)}},xe=async Z=>{try{const w=await U.get(`interpretations/analyse/${Z}`);if(w&&typeof w=="object"){const fe={niveau:w.niveau||"Non √©valu√©",description:w.description||"Aucune description disponible",recommandations:w.recommandations||"Aucune recommandation disponible",score:w.score||0};_(fe)}else console.warn("Format de r√©ponse inattendu pour l'interpr√©tation:",w),_(null)}catch(w){console.error("Erreur lors du chargement de l'interpr√©tation:",w),_(null)}},Re=async Z=>{try{const w=await U.get(`historique/application/${Z}`);Array.isArray(w)?z(w):(console.warn("Format de r√©ponse inattendu pour l'historique:",w),z([]))}catch(w){console.error("Erreur lors du chargement de l'historique:",w),z([])}},N=Z=>{const w=Z.target.value;if(S(w||""),$(null),_(null),w){r(!0),Ue(w),Te(w);const fe=Ne.filter(ve=>ve.id_entreprise===w);console.log(`Filtre entreprise appliqu√©: ${w}, ${fe.length} r√©sultats trouv√©s`),g(0)}else je(),z([]),h("");o({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""})},re=Z=>{const w=Xs(Z);$(w),xe(w.id_analyse)},te=Z=>{ne(Z.target.value)},Ve=(Z,w)=>{j(w)},A=()=>{ae({id_application:B,thematiques:[]}),G(!0)},ee=()=>{G(!1)},Fe=()=>{ae({...J,thematiques:[...J.thematiques,{thematique:"",score:0,nombre_reponses:0}]})},R=(Z,w,fe)=>{const ve=[...J.thematiques];ve[Z]={...ve[Z],[w]:fe},ae({...J,thematiques:ve})},X=Z=>{const w=J.thematiques.filter((fe,ve)=>ve!==Z);ae({...J,thematiques:w})},ie=async()=>{try{await U.post("analyses",J),qe(B),je(),ee()}catch(Z){console.error("Erreur lors de la cr√©ation de l'analyse:",Z),m("Erreur lors de la cr√©ation de l'analyse")}},Se=async()=>{try{await U.post(`analyses/calculer/${B}`),qe(B),je()}catch(Z){console.error("Erreur lors du calcul de l'analyse:",Z),m("Erreur lors du calcul de l'analyse")}},he=()=>ue.length===0?[]:[...ue].sort((w,fe)=>{try{return new Date(w.date_mesure).getTime()-new Date(fe.date_mesure).getTime()}catch(ve){return console.error("Erreur lors du tri des donn√©es historiques:",ve),0}}).map(w=>{try{return{date:new Date(w.date_mesure).toLocaleDateString("fr-FR"),score:w.score,thematique:w.thematique}}catch(fe){return console.error("Erreur lors de la pr√©paration des donn√©es historiques:",fe),{date:"Date inconnue",score:w.score||0,thematique:w.thematique||"Inconnue"}}}),ms=()=>{if(!P)return"N/A";const Z=P.score_global!==void 0?P.score_global:P.scoreGlobal!==void 0?P.scoreGlobal:null;return Z!==null?Z.toFixed(2):"N/A"},ws=(Z,w)=>{g(w)},dr=Z=>{l(parseInt(Z.target.value,10)),g(0)},or=Z=>{C(I===Z&&p==="asc"?"desc":"asc"),K(Z)},lr=()=>{let Z=[...Ne];return y&&(Z=Z.filter(w=>w.id_entreprise===y),console.log(`Filtr√© par entreprise ${y}: ${Z.length} r√©sultats`)),Z=Z.filter(w=>{var cs,Os,n;const fe=F.toLowerCase(),ve=((cs=w.nom_application)==null?void 0:cs.toLowerCase().includes(fe))||!1,Pe=((Os=w.niveau_global)==null?void 0:Os.toLowerCase().includes(fe))||!1,js=((n=w.organisation)==null?void 0:n.toLowerCase().includes(fe))||!1;return!(F&&!ve&&!Pe&&!js||H.application&&w.nom_application!==H.application||H.niveau&&w.niveau_global!==H.niveau||H.organisation&&w.organisation!==H.organisation||H.scoreMin&&typeof w.score_global=="number"&&w.score_global<parseFloat(H.scoreMin)||H.scoreMax&&typeof w.score_global=="number"&&w.score_global>parseFloat(H.scoreMax))}),Z.sort((w,fe)=>{const ve=w[I],Pe=fe[I];if(typeof ve=="number"&&typeof Pe=="number")return p==="asc"?ve-Pe:Pe-ve;const js=String(ve||""),cs=String(Pe||"");return p==="asc"?js.localeCompare(cs):cs.localeCompare(js)}),Z.slice(Ce*c,Ce*c+c)},Us=Z=>[...new Set(Ne.map(w=>w[Z]))].filter(Boolean);return e.jsxDEV(Pi,{loading:t,error:u,applications:E,entreprises:M,selectedApplication:B,selectedEntreprise:y,analyses:W,selectedAnalyse:P,interpretation:T,historique:k,filteredHistorique:ue,tabValue:q,selectedThematique:L,openDialog:pe,newAnalyseData:J,interpretationsSummary:Ne,page:Ce,rowsPerPage:c,order:p,orderBy:I,searchTerm:F,filters:H,showFilters:V,uniqueThematiques:se,handleApplicationChange:Ie,handleEntrepriseChange:N,handleAnalyseChange:re,handleThematiqueChange:te,handleTabChange:Ve,handleOpenNewAnalyseDialog:A,handleCloseDialog:ee,addThematique:Fe,updateThematique:R,removeThematique:X,createNewAnalyse:ie,calculateNewAnalyse:Se,getScoreGlobal:ms,prepareHistoriqueData:he,handleChangePage:ws,handleChangeRowsPerPage:dr,handleRequestSort:or,getFilteredData:lr,getUniqueValues:Us,setSearchTerm:be,setFilters:o,setShowFilters:D,fetchAllInterpretations:je,fetchAnalysesByApplication:qe,fetchAnalysesByEntreprise:Ue,fetchHistoriqueByEntreprise:Te},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretations.tsx",lineNumber:652,columnNumber:5},void 0)},pr=new Map,Fs=s=>{if(s==null||s==="")return"N/A";const t=typeof s=="string"?parseFloat(s):s;return isNaN(t)?"N/A":t.toFixed(1)},Cr=s=>{if(typeof s=="number"&&!isNaN(s))return s;if(typeof s=="string"){const t=parseFloat(s);return isNaN(t)?0:t}return 0},$i=async(s,t,r)=>{const u=`${s}_${t}_${r.join("|")}`;if(pr.has(u))return console.log("Benchmark data retrieved from cache"),pr.get(u);try{console.log("Fetching benchmark data from API...",{secteur:s,fonction:t,thematiques:r});const m={secteur:s,fonction:t,thematiques:r},E=await U.post("benchmark/analyze",m);let x;if(E&&E.data)x=E.data;else if(E)x=E;else throw new Error("Aucune donn√©e re√ßue de l'API benchmark");return pr.set(u,x),console.log("Benchmark data retrieved successfully:",x),x}catch(m){return console.error("Erreur lors de la r√©cup√©ration des donn√©es benchmark:",m),zi(s,t,r)}},zi=(s,t,r)=>({secteur:s,fonction:t,date_analyse:new Date().toISOString(),thematiques:r.map(u=>({nom:u,score_moyen:3+Math.random()*1.5,ecart_type:.2+Math.random()*.3,recommandations_llm:[{source:"ChatGPT",score:3+Math.random()*1.5,recommandation:`Recommandation ChatGPT pour ${u}: Optimiser les processus et am√©liorer l'efficacit√© op√©rationnelle en mettant l'accent sur l'automatisation et la standardisation.`,niveau_confiance:85+Math.floor(Math.random()*15)},{source:"Grok",score:3+Math.random()*1.5,recommandation:`Recommandation Grok pour ${u}: Impl√©menter des solutions innovantes et agiles en adoptant une approche disruptive et en exploitant les technologies √©mergentes.`,niveau_confiance:80+Math.floor(Math.random()*20)},{source:"Claude",score:3+Math.random()*1.5,recommandation:`Recommandation Claude pour ${u}: Structurer l'approche avec des m√©thodes √©prouv√©es en privil√©giant la qualit√©, la coh√©rence et une am√©lioration progressive.`,niveau_confiance:88+Math.floor(Math.random()*12)}]})),scores:{niveau_entreprise:3.5,niveau_fonction:3.6,niveau_thematique:3.4},metadata:{version_api:"1.0.0",sources_utilisees:["ChatGPT-4","Grok-2","Claude-3.5"],fiabilite_globale:87}}),Oi=s=>s>=4.5?{niveau_global:"Niveau 5 - Optimis√©",recommandations_globales:"Maintenir l'excellence par l'innovation continue et le partage des bonnes pratiques."}:s>=3.5?{niveau_global:"Niveau 4 - G√©r√©",recommandations_globales:"Perfectionner les processus existants et d√©velopper des capacit√©s pr√©dictives."}:s>=2.5?{niveau_global:"Niveau 3 - Mesur√©",recommandations_globales:"Renforcer la culture d'am√©lioration continue et automatiser davantage les processus."}:s>=1.5?{niveau_global:"Niveau 2 - D√©fini",recommandations_globales:"Standardiser les pratiques et formaliser les processus dans toute l'organisation."}:{niveau_global:"Niveau 1 - Initial",recommandations_globales:"Initier une d√©marche d'am√©lioration structur√©e et identifier les processus critiques."},Yr=()=>{var Q,Ce;const[s,t]=i.useState([]),[r,u]=i.useState(""),[m,E]=i.useState(""),[x,B]=i.useState(null),[h,W]=i.useState(null),[v,P]=i.useState(!0),[$,T]=i.useState(""),[_,k]=i.useState(0),[z,M]=i.useState(null),[O,y]=i.useState(!1),[S,q]=i.useState([]);i.useEffect(()=>{pe()},[]),i.useEffect(()=>{console.log("Selected entreprise changed:",r),r?G(r):(B(null),W(null))},[r]),i.useEffect(()=>{if(x&&m){const g=x.fonctions.find(c=>c.id===m);g&&W(g)}},[m,x]),i.useEffect(()=>{h!=null&&h.thematiques&&x&&ne(h.thematiques,x.secteur||"Finance",h.nom)},[h,x]);const j=async(g,c,l)=>{if(!l||l.length===0)return[];try{y(!0);const p=l.map(I=>I.nom),C=await $i(g,c,p);return C?(M(C),C.thematiques):[]}catch(p){return console.error("Erreur lors de la r√©cup√©ration du benchmark:",p),[]}finally{y(!1)}},L=(g,c)=>{const l=c.find(p=>p.nom.toLowerCase().includes(g.toLowerCase())||g.toLowerCase().includes(p.nom.toLowerCase()));return l?l.score_moyen:3.5},ne=async(g=[],c="Finance",l="RH")=>{if(console.log("Converting radar data with API benchmark:",{thematiques:g,secteur:c,fonctionName:l}),!Array.isArray(g)||g.length===0){console.warn("No thematiques data available for radar chart"),q([]);return}try{const p=await j(c,l,g),C=g.map(I=>{const K=Cr(I.score||I.score_moyen),F=L(I.nom,p);return{thematique:I.nom||"Th√©matique inconnue",score:K,benchmark:F,fullMark:5}}).filter(I=>I.score>0);console.log("Final radar data with API benchmark:",C),q(C)}catch(p){console.error("Erreur lors de la conversion des donn√©es radar:",p);const C=g.map(I=>({thematique:I.nom||"Th√©matique inconnue",score:Cr(I.score||I.score_moyen),benchmark:3.5,fullMark:5})).filter(I=>I.score>0);q(C)}},pe=async()=>{try{const g=await U.get("entreprises");console.log("Response from entreprises API:",g);let c=[];if(Array.isArray(g))c=g;else if(g&&g.data&&Array.isArray(g.data))c=g.data;else{console.warn("Format de r√©ponse inattendu pour entreprises:",g),T("Format de donn√©es invalide re√ßu du serveur.");return}const l=c.map(p=>({id_entreprise:p.id_entreprise,nom_entreprise:p.nom_entreprise||p.nom||"Entreprise inconnue",secteur:p.secteur||"Non d√©fini",score_global:"0",niveau_global:"Non √©valu√©",recommandations_globales:"Aucune √©valuation disponible",fonctions:[]}));console.log("Formatted entreprises:",l),t(l),l.length>0&&u(l[0].id_entreprise)}catch(g){console.error("Erreur lors du chargement des entreprises:",g.message),T("Impossible de charger la liste des entreprises.")}finally{P(!1)}},G=async g=>{try{P(!0),console.log("Loading details for enterprise:",g);const[c,l]=await Promise.all([U.get(`entreprises/${g}`),U.get(`entreprises/${g}/fonctions`)]);console.log("Enterprise response:",c),console.log("Functions response:",l);let p={};c&&c.data?p=c.data:c&&(p=c);let C={};l&&l.data?C=l.data:l&&(C=l);const I=Cr(C.score_global||0),K=Oi(I),F={id_entreprise:g,nom_entreprise:p.nom_entreprise||C.entreprise||"Entreprise inconnue",secteur:p.secteur||"Non d√©fini",score_global:String(I),niveau_global:C.niveau_global||K.niveau_global,recommandations_globales:C.recommandations_globales||K.recommandations_globales,fonctions:Array.isArray(C.fonctions)?C.fonctions:[]};console.log("Final entreprise details:",F),B(F),F.fonctions.length>0?E(F.fonctions[0].id):(E(""),W(null))}catch(c){console.error("Erreur lors du chargement des d√©tails de l'entreprise:",c.message),T("Impossible de charger les d√©tails de l'entreprise.")}finally{P(!1)}},J=g=>{const c=g.target.value;u(c)},ae=g=>{E(g)},Ne=(g,c)=>{k(c)};return v?e.jsxDEV(d,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:[e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:498,columnNumber:9},void 0),e.jsxDEV(a,{sx:{ml:2},children:"Chargement des donn√©es d'analyse..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:499,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:497,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[$&&e.jsxDEV(ce,{severity:"error",sx:{mb:2},children:[$,e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:509,columnNumber:11},void 0),e.jsxDEV(a,{variant:"caption",children:"V√©rifiez que l'entreprise s√©lectionn√©e poss√®de des analyses de maturit√©."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:510,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:507,columnNumber:9},void 0),e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Analyses de maturit√© par Fonctions √©valu√©es"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:521,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:520,columnNumber:13},void 0),e.jsxDEV(Oe,{fullWidth:!0,variant:"outlined",sx:{mb:2},children:[e.jsxDEV(We,{id:"entreprise-select-label",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:527,columnNumber:15},void 0),e.jsxDEV(Qe,{labelId:"entreprise-select-label",id:"entreprise-select",value:r,onChange:J,label:"Entreprise",children:s&&s.length>0?s.map((g,c)=>e.jsxDEV(De,{value:g.id_entreprise,children:g.nom_entreprise},`${g.id_entreprise}-${c}`,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:537,columnNumber:21},void 0)):e.jsxDEV(De,{value:"",children:e.jsxDEV("em",{children:"Aucune entreprise disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:543,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:542,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:528,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:526,columnNumber:13},void 0),e.jsxDEV(ce,{severity:"info",sx:{mb:2},children:["Debug: ",s.length," entreprises charg√©es | S√©lectionn√©e: ",r||"Aucune"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:551,columnNumber:15},void 0),x&&e.jsxDEV(ye,{sx:{mb:2},children:[e.jsxDEV(Je,{title:`Entreprise: ${x.nom_entreprise}`,subheader:`Secteur: ${x.secteur||"Non d√©fini"}`,action:e.jsxDEV(le,{label:`Score Global: ${Fs(x.score_global)}`,color:hs(x.niveau_global||"")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:563,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:559,columnNumber:17},void 0),e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Niveau:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:571,columnNumber:21},void 0)," ",x.niveau_global||"Non d√©fini"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:570,columnNumber:19},void 0),e.jsxDEV(a,{variant:"body2",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Recommandations:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:574,columnNumber:21},void 0)," ",x.recommandations_globales||"Aucune recommandation disponible"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:573,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:569,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:558,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:519,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:518,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,md:4,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Fonctions Analys√©es"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:585,columnNumber:13},void 0),e.jsxDEV(ge,{sx:{p:0},children:x!=null&&x.fonctions&&x.fonctions.length>0?e.jsxDEV(Ns,{children:x.fonctions.map((g,c)=>e.jsxDEV(vs.Fragment,{children:[e.jsxDEV(gs,{onClick:()=>ae(g.id),sx:{borderLeft:m===g.id?"4px solid #0B4E87":"4px solid transparent",bgcolor:m===g.id?"rgba(11, 78, 135, 0.05)":"transparent",cursor:"pointer"},children:e.jsxDEV(ls,{primary:e.jsxDEV(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(a,{variant:"subtitle1",children:g.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:603,columnNumber:31},void 0),e.jsxDEV(le,{label:Fs(g.score_global),color:hs(g.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:604,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:602,columnNumber:29},void 0),secondary:e.jsxDEV(a,{variant:"body2",sx:{mt:.5},children:g.niveau||"Niveau non d√©fini"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:612,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:600,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:591,columnNumber:23},void 0),c<x.fonctions.length-1&&e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:618,columnNumber:74},void 0)]},`fonction-${g.id}-${c}`,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:590,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:588,columnNumber:17},void 0):e.jsxDEV(ce,{severity:"info",children:"Aucune fonction √©valu√©e pour cette entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:623,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:586,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:584,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:583,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,md:8,children:h?e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:`Analyse de la fonction: ${h.nom}`,action:e.jsxDEV(le,{label:`Score: ${Fs(h.score_global)}`,color:hs(h.niveau||"")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:636,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:633,columnNumber:15},void 0),e.jsxDEV(ge,{children:[e.jsxDEV(Ss,{value:_,onChange:Ne,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{mb:2},children:[e.jsxDEV(Xe,{label:"Vue d'ensemble"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:651,columnNumber:19},void 0),e.jsxDEV(Xe,{label:"Recommandations Qwanza"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:652,columnNumber:19},void 0),e.jsxDEV(Xe,{label:"Recommandations LLM Publics"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:653,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:643,columnNumber:17},void 0),_===0&&e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Score par Th√©matique vs Benchmark March√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:659,columnNumber:21},void 0),h.thematiques&&h.thematiques.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(d,{sx:{width:"100%",height:400},children:[e.jsxDEV(Ds,{width:"100%",height:350,children:e.jsxDEV(Sr,{outerRadius:140,width:500,height:350,data:S,children:[e.jsxDEV(wr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:673,columnNumber:31},void 0),e.jsxDEV(qr,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:674,columnNumber:31},void 0),e.jsxDEV(Fr,{angle:30,domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:675,columnNumber:31},void 0),e.jsxDEV(rr,{name:"Score Actuel",dataKey:"score",stroke:"#0B4E87",fill:"#0B4E87",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:678,columnNumber:31},void 0),e.jsxDEV(rr,{name:"Benchmark March√©",dataKey:"benchmark",stroke:"#4CAF50",fill:"#4CAF50",fillOpacity:.3,strokeDasharray:"5 5",strokeWidth:2},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:687,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:667,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:666,columnNumber:27},void 0),e.jsxDEV(d,{sx:{display:"flex",justifyContent:"center",gap:3,mt:"10px",alignItems:"center"},children:[e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(d,{sx:{width:16,height:16,backgroundColor:"#0B4E87",opacity:.6,borderRadius:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:708,columnNumber:31},void 0),e.jsxDEV(a,{variant:"body2",children:"Score Actuel"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:715,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:707,columnNumber:29},void 0),e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(d,{sx:{width:16,height:16,backgroundColor:"#4CAF50",opacity:.3,border:"2px dashed #4CAF50",borderRadius:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:719,columnNumber:31},void 0),e.jsxDEV(a,{variant:"body2",children:"Benchmark March√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:727,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:718,columnNumber:29},void 0),O&&e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1,ml:2},children:[e.jsxDEV(ze,{size:16},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:732,columnNumber:33},void 0),e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:"Chargement benchmark..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:733,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:731,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:700,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:665,columnNumber:25},void 0),z&&z.metadata&&e.jsxDEV(ce,{severity:"info",sx:{mt:2},children:e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Benchmark bas√© sur :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:745,columnNumber:31},void 0)," ",((Q=z.metadata.sources_utilisees)==null?void 0:Q.join(", "))||"Sources non disponibles"," |",e.jsxDEV("strong",{children:" Fiabilit√© :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:746,columnNumber:31},void 0)," ",z.metadata.fiabilite_globale||"N/A","% |",e.jsxDEV("strong",{children:" Analyse du :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:747,columnNumber:31},void 0)," ",z.date_analyse?new Date(z.date_analyse).toLocaleDateString("fr-FR"):"Date non disponible"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:744,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:743,columnNumber:27},void 0),e.jsxDEV(d,{sx:{mt:2},children:[e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"D√©tail des scores par th√©matique:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:754,columnNumber:27},void 0),e.jsxDEV(Ns,{children:h.thematiques.map((g,c)=>e.jsxDEV(gs,{children:e.jsxDEV(ls,{primary:e.jsxDEV(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(a,{variant:"body1",children:g.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:763,columnNumber:39},void 0),e.jsxDEV(d,{sx:{display:"flex",gap:1},children:[e.jsxDEV(le,{label:`Actuel: ${Fs(g.score)}`,color:hs(g.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:765,columnNumber:41},void 0),z&&z.thematiques&&e.jsxDEV(le,{label:`Benchmark: ${L(g.nom,z.thematiques).toFixed(1)}`,variant:"outlined",color:"success",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:771,columnNumber:43},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:764,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:762,columnNumber:37},void 0),secondary:g.niveau},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:760,columnNumber:33},void 0)},c,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:759,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:757,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:753,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:664,columnNumber:23},void 0):e.jsxDEV(ce,{severity:"info",children:["Aucune donn√©e de th√©matique disponible pour cette fonction.",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:791,columnNumber:25},void 0),e.jsxDEV(a,{variant:"caption",children:"V√©rifiez que des formulaires ont √©t√© soumis et analys√©s pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:792,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:789,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:658,columnNumber:19},void 0),_===1&&e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Recommandations Qwanza"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:803,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body1",sx:{mb:2},children:e.jsxDEV("strong",{children:"Recommandations g√©n√©rales pour la fonction:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:807,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:806,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",sx:{mb:3,p:2,bgcolor:"grey.50",borderRadius:1},children:h.recommandations||"Aucune recommandation sp√©cifique disponible pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:809,columnNumber:21},void 0),h.thematiques&&h.thematiques.length>0?e.jsxDEV(Ns,{children:h.thematiques.map((g,c)=>e.jsxDEV(vs.Fragment,{children:[e.jsxDEV(gs,{children:e.jsxDEV(ls,{primary:e.jsxDEV(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(a,{variant:"subtitle1",fontWeight:"bold",children:g.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:821,columnNumber:37},void 0),e.jsxDEV(le,{label:Fs(g.score),color:hs(g.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:822,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:820,columnNumber:35},void 0),secondary:e.jsxDEV(a,{variant:"body2",sx:{mt:1},children:g.recommandations||"Aucune recommandation sp√©cifique pour cette th√©matique."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:830,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:818,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:817,columnNumber:29},void 0),c<h.thematiques.length-1&&e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:836,columnNumber:80},void 0)]},c,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:816,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:814,columnNumber:23},void 0):e.jsxDEV(ce,{severity:"info",children:"Aucune recommandation th√©matique disponible pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:841,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:802,columnNumber:19},void 0),_===2&&e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Recommandations LLM Publics"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:849,columnNumber:21},void 0),z&&z.thematiques&&z.thematiques.length>0?e.jsxDEV(d,{children:[z.metadata&&e.jsxDEV(ye,{sx:{mb:3,bgcolor:"grey.50"},children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Informations sur l'analyse benchmark"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:859,columnNumber:31},void 0),e.jsxDEV(b,{container:!0,spacing:2,children:[e.jsxDEV(b,{item:!0,xs:12,sm:4,children:e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Sources:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:865,columnNumber:37},void 0)," ",((Ce=z.metadata.sources_utilisees)==null?void 0:Ce.join(", "))||"Sources non disponibles"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:864,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:863,columnNumber:33},void 0),e.jsxDEV(b,{item:!0,xs:12,sm:4,children:e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Fiabilit√© globale:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:870,columnNumber:37},void 0)," ",z.metadata.fiabilite_globale||"N/A","%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:869,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:868,columnNumber:33},void 0),e.jsxDEV(b,{item:!0,xs:12,sm:4,children:e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Date d'analyse:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:875,columnNumber:37},void 0)," ",z.date_analyse?new Date(z.date_analyse).toLocaleDateString("fr-FR"):"Date non disponible"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:874,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:873,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:862,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:858,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:857,columnNumber:27},void 0),z.thematiques.map((g,c)=>e.jsxDEV(ye,{sx:{mb:2},children:[e.jsxDEV(Je,{title:g.nom,action:e.jsxDEV(d,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsxDEV(le,{label:`Score moyen: ${g.score_moyen?g.score_moyen.toFixed(1):"N/A"}`,color:"primary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:890,columnNumber:35},void 0),e.jsxDEV(le,{label:`√âcart-type: ${g.ecart_type?g.ecart_type.toFixed(2):"N/A"}`,variant:"outlined",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:895,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:889,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:886,columnNumber:29},void 0),e.jsxDEV(ge,{children:g.recommandations_llm&&g.recommandations_llm.length>0?e.jsxDEV(b,{container:!0,spacing:2,children:g.recommandations_llm.map((l,p)=>e.jsxDEV(b,{item:!0,xs:12,md:4,children:e.jsxDEV(ye,{variant:"outlined",sx:{height:"100%"},children:[e.jsxDEV(Je,{title:l.source,avatar:e.jsxDEV(d,{sx:{width:32,height:32,borderRadius:"50%",bgcolor:l.source==="ChatGPT"?"#10a37f":l.source==="Grok"?"#1da1f2":"#ff6b35",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:l.source==="ChatGPT"?"GPT":l.source==="Grok"?"GRK":"CLD"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:913,columnNumber:45},void 0),action:e.jsxDEV(d,{sx:{textAlign:"right"},children:[e.jsxDEV(a,{variant:"body2",fontWeight:"bold",children:[l.score?l.score.toFixed(1):"N/A","/5"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:932,columnNumber:47},void 0),e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:["Confiance: ",l.niveau_confiance||"N/A","%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:935,columnNumber:47},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:931,columnNumber:45},void 0),sx:{pb:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:910,columnNumber:41},void 0),e.jsxDEV(ge,{sx:{pt:0},children:e.jsxDEV(a,{variant:"body2",children:l.recommandation||"Aucune recommandation disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:943,columnNumber:43},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:942,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:909,columnNumber:39},void 0)},p,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:908,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:906,columnNumber:33},void 0):e.jsxDEV(ce,{severity:"info",children:"Aucune recommandation LLM disponible pour cette th√©matique."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:952,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:903,columnNumber:29},void 0)]},c,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:885,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:854,columnNumber:23},void 0):e.jsxDEV(d,{children:O?e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:2,p:3},children:[e.jsxDEV(ze,{size:24},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:964,columnNumber:29},void 0),e.jsxDEV(a,{children:"Chargement des recommandations LLM..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:965,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:963,columnNumber:27},void 0):e.jsxDEV(ce,{severity:"info",children:["Aucune recommandation LLM disponible pour cette fonction.",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:970,columnNumber:29},void 0),e.jsxDEV(a,{variant:"caption",children:"Les recommandations seront g√©n√©r√©es automatiquement lors de la s√©lection d'une fonction avec des th√©matiques."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:971,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:968,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:961,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:848,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:642,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:632,columnNumber:13},void 0):e.jsxDEV(ce,{severity:"info",children:"Veuillez s√©lectionner une fonction pour voir son analyse d√©taill√©e."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:983,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:630,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:516,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:505,columnNumber:5},void 0)},Bi=()=>{const{id:s}=zs(),t=Ze(),[r,u]=i.useState(!0),[m,E]=i.useState(!1),[x,B]=i.useState(null),[h,W]=i.useState(null),[v,P]=i.useState(null),[$,T]=i.useState([]),[_,k]=i.useState(0),z=["V√©rification des formulaires","Calcul des scores","G√©n√©ration de l'analyse"];i.useEffect(()=>{(async()=>{if(!s){B("Identifiant de l'application manquant"),u(!1);return}u(!0),B(null);try{const S=await U.get(`applications/${s}`);S&&P(S);const q=await U.get("formulaires");let j=[];Array.isArray(q)?j=q.filter(L=>L.id_application===s):q&&q.data&&Array.isArray(q.data)&&(j=q.data.filter(L=>L.id_application===s)),T(j),k(0)}catch(S){console.error("Erreur lors du chargement des donn√©es:",S),B("Erreur lors du chargement des donn√©es. Veuillez r√©essayer plus tard.")}finally{u(!1)}})()},[s]);const M=async()=>{if(s){E(!0),B(null),W(null);try{k(0),await new Promise(S=>setTimeout(S,1e3)),k(1),await new Promise(S=>setTimeout(S,1e3));const y=await U.post("analyses",{id_application:s});k(2),await new Promise(S=>setTimeout(S,1e3)),W("Le score de maturit√© a √©t√© calcul√© avec succ√®s!"),setTimeout(()=>{t(`/analyses-interpretations/${s}`)},2e3)}catch(y){console.error("Erreur lors du calcul du score:",y),B("Une erreur est survenue lors du calcul du score. Veuillez r√©essayer plus tard.")}finally{E(!1)}}},O=$.length>0;return r?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:156,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:155,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Y,{color:"primary",startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:170,columnNumber:28},void 0),onClick:()=>t("/applications"),sx:{mr:2},children:"Retour aux applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:168,columnNumber:15},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Calcul du Score de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:176,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:167,columnNumber:13},void 0),v&&e.jsxDEV(a,{variant:"subtitle1",children:["Application: ",e.jsxDEV("strong",{children:v.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:183,columnNumber:30},void 0)," | Type: ",e.jsxDEV("strong",{children:v.type},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:184,columnNumber:23},void 0)," | Statut: ",e.jsxDEV("strong",{children:v.statut},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:185,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:166,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:165,columnNumber:9},void 0),x&&e.jsxDEV(b,{xs:12,children:e.jsxDEV(ce,{severity:"error",children:x},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:194,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:193,columnNumber:11},void 0),h&&e.jsxDEV(b,{xs:12,children:e.jsxDEV(ce,{severity:"success",children:h},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:200,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:199,columnNumber:11},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2},children:e.jsxDEV(aa,{activeStep:_,alternativeLabel:!0,children:z.map(y=>e.jsxDEV(ia,{children:e.jsxDEV(na,{children:y},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:210,columnNumber:19},void 0)},y,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:209,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:207,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:206,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:205,columnNumber:9},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Formulaires disponibles pour l'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV(es,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:223,columnNumber:13},void 0),$.length>0?e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body1",mb:2,children:[$.length," formulaire(s) trouv√©(s) pour cette application."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:227,columnNumber:17},void 0),e.jsxDEV(Ns,{children:$.map((y,S)=>e.jsxDEV(gs,{divider:!0,children:e.jsxDEV(ls,{primary:y.titre||y.questionnaire_titre||`Formulaire ${S+1}`,secondary:`Statut: ${y.statut||"Non d√©fini"} | Derni√®re modification: ${y.date_modification?new Date(y.date_modification).toLocaleDateString("fr-FR"):"Non disponible"}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:234,columnNumber:23},void 0)},y.id_formulaire||S,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:233,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:231,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:226,columnNumber:15},void 0):e.jsxDEV(ce,{severity:"warning",children:"Aucun formulaire n'est disponible pour cette application. Le calcul du score de maturit√© n√©cessite au moins un formulaire compl√©t√©."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:247,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",justifyContent:"center",mt:3,children:e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:256,columnNumber:28},void 0),onClick:M,disabled:m||!O,size:"large",children:m?"Calcul en cours...":"Calculer le Score de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:253,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:252,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:219,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:218,columnNumber:9},void 0),e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Comment se d√©roule le calcul ?"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body1",paragraph:!0,children:"Le score de maturit√© est calcul√© √† partir des r√©ponses aux questionnaires li√©s √† cette application. Le processus √©value plusieurs th√©matiques et fournit un score global ainsi que des scores par domaine."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:273,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body1",children:[e.jsxDEV("strong",{children:"Note :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:278,columnNumber:15},void 0)," Pour obtenir un score pertinent, assurez-vous que les formulaires ont √©t√© compl√©t√©s avec soin et refl√®tent fid√®lement la maturit√© DevSecOps de l'application."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:277,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:269,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:268,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:163,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:162,columnNumber:5},void 0)},Wi=()=>{const s=Ze(),[t,r]=i.useState([]),[u,m]=i.useState([]),[E,x]=i.useState([]),[B,h]=i.useState(!0),[W,v]=i.useState(!1),[P,$]=i.useState(null),[T,_]=i.useState(""),[k,z]=i.useState(""),[M,O]=i.useState(""),[y,S]=i.useState(""),[q,j]=i.useState("desc"),[L,ne]=i.useState("date_modification"),[pe,G]=i.useState(0),[J,ae]=i.useState(10),[Ne,Q]=i.useState(!0),[Ce,g]=i.useState(null),[c,l]=i.useState(null),p=i.useCallback(async(N=!0)=>{const re=Date.now();try{$(null),we.debug(`Chargement des formulaires - Mode: ${N?"optimis√©":"d√©taill√©"}`);const te=N?"formulaires":"formulaires/detailed",Ve=await U.get(te);let A=[];Array.isArray(Ve)?A=Ve:Ve&&Ve.data&&Array.isArray(Ve.data)?A=Ve.data:(console.warn("Format de r√©ponse inattendu pour formulaires:",Ve),A=[]);const[ee,Fe]=await Promise.all([U.get("fonctions"),U.get("entreprises")]);let R=[];Array.isArray(ee)?R=ee:ee&&ee.data&&Array.isArray(ee.data)?R=ee.data:(console.warn("Format de r√©ponse inattendu pour fonctions:",ee),R=[]);let X=[];Array.isArray(Fe)?X=Fe:Fe&&Fe.data&&Array.isArray(Fe.data)?X=Fe.data:(console.warn("Format de r√©ponse inattendu pour entreprises:",Fe),X=[]);const ie=A.map(he=>({id_formulaire:he.id_formulaire,id_acteur:he.id_acteur||"",acteur_nom:he.acteur_nom||"Utilisateur inconnu",id_application:he.id_application||"",nom_application:he.nom_application||"Application inconnue",id_entreprise:he.id_entreprise||"",nom_entreprise:he.nom_entreprise||"Entreprise inconnue",id_questionnaire:he.id_questionnaire||"",questionnaire_nom:he.questionnaire_nom||he.nom||"Questionnaire sans nom",thematiques:Array.isArray(he.thematiques)?he.thematiques:he.thematiques?he.thematiques.split(",").map(ms=>ms.trim()):[],fonctions:Array.isArray(he.fonctions)?he.fonctions:he.fonctions?he.fonctions.split(",").map(ms=>ms.trim()):[],date_creation:he.date_creation||new Date().toISOString(),date_modification:he.date_modification||he.date_creation||new Date().toISOString(),statut:he.statut||"Brouillon",progression:Number(he.progression)??(he.statut==="Valid√©"?100:he.statut==="Soumis"?75:he.statut==="En cours"?50:25),total_questions:he.total_questions||0,total_reponses:he.total_reponses||0,commentaires:he.commentaires||""})),Se=Date.now()-re;g({loadTime:Se,count:ie.length,endpoint:te,cacheStatus:"Non disponible",timestamp:new Date().toISOString()}),r(ie),m(R),x(X),we.info(`‚úÖ ${ie.length} formulaires charg√©s en ${Se}ms via ${te}`)}catch(te){console.error("Erreur lors de la r√©cup√©ration des donn√©es:",te),$("Impossible de charger les formulaires. Veuillez r√©essayer plus tard."),r([]),we.error("Erreur lors du chargement des formulaires:",te)}finally{h(!1),v(!1)}},[]);i.useEffect(()=>{p(Ne)},[p,Ne]);const C=()=>{v(!0),p(Ne)},I=()=>{const N=!Ne;Q(N),h(!0),p(N)},K=async()=>{var N,re,te;try{h(!0);const Ve=await U.get("formulaires/debug/performance");if(Ve.data){const A=Ve.data;alert(`Diagnostic de performance:
        
Tests de performance:
- Comptage simple: ${((N=A.performance_tests)==null?void 0:N.simple_count)||"N/A"}
- Chargement cache: ${((re=A.performance_tests)==null?void 0:re.cache_load)||"N/A"}
- Requ√™te de base: ${((te=A.performance_tests)==null?void 0:te.base_query)||"N/A"}

Cache: ${A.cache_status}
Total formulaires: ${A.total_formulaires}

Recommandation: ${Ne?"Mode optimis√© activ√© ‚úÖ":"Activez le mode optimis√© pour de meilleures performances"}`),g(ee=>({...ee,cacheStatus:A.cache_status,timestamp:new Date().toISOString()}))}}catch(Ve){console.error("Erreur lors du diagnostic:",Ve),alert("Erreur lors du diagnostic de performance")}finally{h(!1)}},F=t.filter(N=>{const re=T===""||N.questionnaire_nom&&N.questionnaire_nom.toLowerCase().includes(T.toLowerCase())||N.nom_entreprise&&N.nom_entreprise.toLowerCase().includes(T.toLowerCase())||N.acteur_nom&&N.acteur_nom.toLowerCase().includes(T.toLowerCase())||N.thematiques&&N.thematiques.some(ee=>ee.toLowerCase().includes(T.toLowerCase()))||N.fonctions&&N.fonctions.some(ee=>ee.toLowerCase().includes(T.toLowerCase())),te=k===""||N.statut===k,Ve=M===""||N.fonctions&&N.fonctions.includes(M),A=y===""||N.id_entreprise===y;return re&&te&&Ve&&A}),H=[...F].sort((N,re)=>{var Ve,A,ee,Fe;let te=0;switch(L){case"questionnaire_nom":te=(N.questionnaire_nom||"").localeCompare(re.questionnaire_nom||"");break;case"fonctions":const R=((Ve=N.fonctions)==null?void 0:Ve.join(", "))||"",X=((A=re.fonctions)==null?void 0:A.join(", "))||"";te=R.localeCompare(X);break;case"acteur_nom":te=(N.acteur_nom||"").localeCompare(re.acteur_nom||"");break;case"date_modification":te=new Date(N.date_modification).getTime()-new Date(re.date_modification).getTime();break;case"statut":te=N.statut.localeCompare(re.statut);break;case"progression":te=(N.progression||0)-(re.progression||0);break;case"thematiques":const ie=((ee=N.thematiques)==null?void 0:ee.join(", "))||"",Se=((Fe=re.thematiques)==null?void 0:Fe.join(", "))||"";te=ie.localeCompare(Se);break;default:te=0}return q==="asc"?te:-te}).slice(pe*J,pe*J+J),o=(N,re)=>{G(re)},V=N=>{ae(parseInt(N.target.value,10)),G(0)},D=N=>{j(L===N&&q==="asc"?"desc":"asc"),ne(N)},ue=N=>{switch(N){case"Valid√©":return"success";case"Soumis":return"primary";case"Brouillon":return"warning";default:return"default"}},se=(N=0)=>N<30?"error":N<70?"warning":"success",je=N=>{try{return new Date(N).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(re){return console.warn("Erreur lors du formatage de la date:",re),"Date invalide"}},Ie=[...new Set(t.flatMap(N=>N.fonctions||[]))].filter(Boolean),Te=N=>{s(`/formulaires/${N.id_formulaire}`)},Ue=N=>{s(`/formulaires/${N.id_formulaire}`)},qe=async N=>{if(window.confirm(`√ätes-vous s√ªr de vouloir supprimer ce formulaire "${N.questionnaire_nom}" ?`))try{await U.delete(`formulaires/${N.id_formulaire}`),r(re=>re.filter(te=>te.id_formulaire!==N.id_formulaire)),l("Formulaire supprim√© avec succ√®s"),we.info(`Formulaire ${N.id_formulaire} supprim√©`)}catch(re){console.error("Erreur lors de la suppression:",re),$("Erreur lors de la suppression du formulaire"),we.error("Erreur suppression formulaire:",re)}},xe=async N=>{if(window.confirm(`Soumettre le formulaire "${N.questionnaire_nom}" pour validation ?`))try{h(!0),await U.put(`formulaires/${N.id_formulaire}/submit`),r(re=>re.map(te=>te.id_formulaire===N.id_formulaire?{...te,statut:"Soumis",progression:Math.max(te.progression,75)}:te)),l("Formulaire soumis avec succ√®s"),we.info(`Formulaire ${N.id_formulaire} soumis`)}catch(re){console.error("Erreur lors de la soumission:",re),$("Erreur lors de la soumission du formulaire"),we.error("Erreur soumission formulaire:",re)}finally{h(!1)}},Re=()=>{s("/formulaires/new")};return B?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:[e.jsxDEV(ze,{size:60},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:489,columnNumber:9},void 0),e.jsxDEV(a,{variant:"body2",sx:{ml:2},children:"Chargement des formulaires..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:490,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:488,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"xl",sx:{mt:4,mb:4},children:[P&&e.jsxDEV(ce,{severity:"error",sx:{mb:2},onClose:()=>$(null),children:P},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:501,columnNumber:9},void 0),e.jsxDEV($s,{open:!!c,autoHideDuration:6e3,onClose:()=>l(null),message:c},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:506,columnNumber:7},void 0),e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Gestion des Formulaires d'√âvaluation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:518,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",gap:1,children:[e.jsxDEV(Be,{title:"Diagnostic de performance",children:e.jsxDEV(Me,{onClick:K,color:"info",children:e.jsxDEV(Wa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:524,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:523,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:522,columnNumber:17},void 0),e.jsxDEV(Be,{title:Ne?"Mode d√©taill√© (plus lent)":"Mode optimis√© (plus rapide)",children:e.jsxDEV(Y,{variant:"outlined",size:"small",onClick:I,startIcon:e.jsxDEV(ta,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:533,columnNumber:32},void 0),color:Ne?"success":"warning",children:Ne?"Optimis√©":"D√©taill√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:529,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:528,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"outlined",color:"primary",startIcon:e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:543,columnNumber:30},void 0),onClick:C,disabled:W,children:"Actualiser"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:540,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:553,columnNumber:30},void 0),onClick:Re,children:"Nouveau Formulaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:550,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:521,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:517,columnNumber:13},void 0),Ce&&e.jsxDEV(ce,{severity:"info",sx:{mb:2},children:e.jsxDEV(a,{variant:"body2",children:[Ce.count," formulaires charg√©s en ",Ce.loadTime,"ms via ",Ce.endpoint,Ne&&" (mode optimis√©)"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:564,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:563,columnNumber:15},void 0),e.jsxDEV(b,{container:!0,spacing:2,sx:{mb:2},children:[e.jsxDEV(b,{item:!0,xs:12,sm:6,md:3,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{color:"textSecondary",gutterBottom:!0,children:"Total Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:577,columnNumber:21},void 0),e.jsxDEV(a,{variant:"h4",children:t.length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:580,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:576,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:575,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:574,columnNumber:15},void 0),e.jsxDEV(b,{item:!0,xs:12,sm:6,md:3,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{color:"textSecondary",gutterBottom:!0,children:"Valid√©s"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:589,columnNumber:21},void 0),e.jsxDEV(a,{variant:"h4",color:"success.main",children:t.filter(N=>N.statut==="Valid√©").length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:592,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:588,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:587,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:586,columnNumber:15},void 0),e.jsxDEV(b,{item:!0,xs:12,sm:6,md:3,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{color:"textSecondary",gutterBottom:!0,children:"En Cours"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:601,columnNumber:21},void 0),e.jsxDEV(a,{variant:"h4",color:"warning.main",children:t.filter(N=>N.statut==="Soumis").length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:604,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:600,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:599,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:598,columnNumber:15},void 0),e.jsxDEV(b,{item:!0,xs:12,sm:6,md:3,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{color:"textSecondary",gutterBottom:!0,children:"Brouillons"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:613,columnNumber:21},void 0),e.jsxDEV(a,{variant:"h4",color:"info.main",children:t.filter(N=>N.statut==="Brouillon").length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:616,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:612,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:611,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:610,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:573,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:516,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:515,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(me,{sx:{p:2},children:e.jsxDEV(b,{container:!0,spacing:2,alignItems:"center",children:[e.jsxDEV(b,{item:!0,xs:12,md:3,children:e.jsxDEV(oe,{fullWidth:!0,label:"Rechercher",variant:"outlined",value:T,onChange:N=>_(N.target.value),InputProps:{startAdornment:e.jsxDEV(Ur,{position:"start",children:e.jsxDEV(jr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:640,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:639,columnNumber:23},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:631,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:630,columnNumber:15},void 0),e.jsxDEV(b,{item:!0,xs:12,md:2,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:648,columnNumber:19},void 0),e.jsxDEV(Qe,{value:k,label:"Statut",onChange:N=>z(N.target.value),children:[e.jsxDEV(De,{value:"",children:"Tous"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:654,columnNumber:21},void 0),e.jsxDEV(De,{value:"Brouillon",children:"Brouillon"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:655,columnNumber:21},void 0),e.jsxDEV(De,{value:"Soumis",children:"Soumis"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:656,columnNumber:21},void 0),e.jsxDEV(De,{value:"Valid√©",children:"Valid√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:657,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:649,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:647,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:646,columnNumber:15},void 0),e.jsxDEV(b,{item:!0,xs:12,md:2,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:663,columnNumber:19},void 0),e.jsxDEV(Qe,{value:M,label:"Fonction",onChange:N=>O(N.target.value),children:[e.jsxDEV(De,{value:"",children:"Toutes"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:669,columnNumber:21},void 0),Ie.map(N=>e.jsxDEV(De,{value:N,children:N},N,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:671,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:664,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:662,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:661,columnNumber:15},void 0),e.jsxDEV(b,{item:!0,xs:12,md:3,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:680,columnNumber:19},void 0),e.jsxDEV(Qe,{value:y,label:"Entreprise",onChange:N=>S(N.target.value),children:[e.jsxDEV(De,{value:"",children:"Toutes"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:686,columnNumber:21},void 0),E.map(N=>e.jsxDEV(De,{value:N.id_entreprise,children:N.nom_entreprise},N.id_entreprise,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:688,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:681,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:679,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:678,columnNumber:15},void 0),e.jsxDEV(b,{item:!0,xs:12,md:2,children:e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[F.length," r√©sultat(s)"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:696,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:695,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:629,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:628,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:627,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(Ge,{component:me,children:[e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:e.jsxDEV(ds,{active:L==="questionnaire_nom",direction:L==="questionnaire_nom"?q:"asc",onClick:()=>D("questionnaire_nom"),children:"Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:711,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:710,columnNumber:19},void 0),e.jsxDEV(f,{children:e.jsxDEV(ds,{active:L==="fonctions",direction:L==="fonctions"?q:"asc",onClick:()=>D("fonctions"),children:"Fonction(s)"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:720,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:719,columnNumber:19},void 0),e.jsxDEV(f,{children:e.jsxDEV(ds,{active:L==="acteur_nom",direction:L==="acteur_nom"?q:"asc",onClick:()=>D("acteur_nom"),children:"Acteur"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:729,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:728,columnNumber:19},void 0),e.jsxDEV(f,{children:e.jsxDEV(ds,{active:L==="date_modification",direction:L==="date_modification"?q:"asc",onClick:()=>D("date_modification"),children:"Dates"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:738,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:737,columnNumber:19},void 0),e.jsxDEV(f,{children:e.jsxDEV(ds,{active:L==="statut",direction:L==="statut"?q:"asc",onClick:()=>D("statut"),children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:747,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:746,columnNumber:19},void 0),e.jsxDEV(f,{children:e.jsxDEV(ds,{active:L==="progression",direction:L==="progression"?q:"asc",onClick:()=>D("progression"),children:"Progression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:756,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:755,columnNumber:19},void 0),e.jsxDEV(f,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:764,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:709,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:708,columnNumber:15},void 0),e.jsxDEV(Ke,{children:H.length>0?H.map(N=>e.jsxDEV(Ee,{hover:!0,children:[e.jsxDEV(f,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:N.questionnaire_nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:774,columnNumber:27},void 0),N.thematiques&&N.thematiques.length>0&&e.jsxDEV(d,{sx:{mt:.5},children:[N.thematiques.slice(0,2).map((re,te)=>e.jsxDEV(le,{label:re,size:"small",color:"secondary",variant:"outlined",sx:{mr:.5,mb:.5}},te,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:780,columnNumber:33},void 0)),N.thematiques.length>2&&e.jsxDEV(le,{label:`+${N.thematiques.length-2}`,size:"small",color:"default",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:790,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:778,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:773,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:772,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{children:[N.fonctions&&N.fonctions.length>0?N.fonctions.slice(0,2).map((re,te)=>e.jsxDEV(le,{label:re,color:"primary",variant:"outlined",size:"small",sx:{mr:.5,mb:.5}},te,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:807,columnNumber:31},void 0)):e.jsxDEV(le,{label:"Aucune fonction",color:"default",variant:"outlined",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:817,columnNumber:29},void 0),N.fonctions&&N.fonctions.length>2&&e.jsxDEV(le,{label:`+${N.fonctions.length-2}`,size:"small",color:"default",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:825,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:804,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:803,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:N.acteur_nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:838,columnNumber:27},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:N.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:841,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:837,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:836,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",children:["Cr√©√©: ",je(N.date_creation)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:850,columnNumber:27},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["Modifi√©: ",je(N.date_modification)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:853,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:849,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:848,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{label:N.statut,color:ue(N.statut),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:861,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:860,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{sx:{minWidth:120},children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:.5,children:[e.jsxDEV(a,{variant:"body2",sx:{mr:1},children:[N.progression,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:872,columnNumber:29},void 0),N.total_questions>0&&e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["(",N.total_reponses,"/",N.total_questions,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:876,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:871,columnNumber:27},void 0),e.jsxDEV(Qa,{variant:"determinate",value:N.progression,color:se(N.progression),sx:{height:6,borderRadius:3}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:881,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:870,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:869,columnNumber:23},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{display:"flex",gap:.5,children:[e.jsxDEV(Be,{title:"Voir les d√©tails",children:e.jsxDEV(Me,{size:"small",color:"info",onClick:()=>Te(N),children:e.jsxDEV(Ga,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:899,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:894,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:893,columnNumber:27},void 0),e.jsxDEV(Be,{title:"Modifier",children:e.jsxDEV(Me,{size:"small",color:"primary",onClick:()=>Ue(N),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:908,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:903,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:902,columnNumber:27},void 0),N.statut==="Brouillon"&&e.jsxDEV(Be,{title:"Soumettre",children:e.jsxDEV(Me,{size:"small",color:"success",onClick:()=>xe(N),children:e.jsxDEV(da,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:918,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:913,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:912,columnNumber:29},void 0),e.jsxDEV(Be,{title:"Supprimer",children:e.jsxDEV(Me,{size:"small",color:"error",onClick:()=>qe(N),children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:928,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:923,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:922,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:892,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:891,columnNumber:23},void 0)]},N.id_formulaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:770,columnNumber:21},void 0)):e.jsxDEV(Ee,{children:e.jsxDEV(f,{colSpan:7,align:"center",children:e.jsxDEV(d,{py:4,children:[e.jsxDEV(Dr,{sx:{fontSize:48,color:"text.secondary",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:939,columnNumber:25},void 0),e.jsxDEV(a,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Aucun formulaire trouv√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:940,columnNumber:25},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:t.length===0?"Aucun formulaire n'a encore √©t√© cr√©√©.":"Aucun formulaire ne correspond aux crit√®res de recherche."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:943,columnNumber:25},void 0),t.length===0&&e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:952,columnNumber:40},void 0),sx:{mt:2},onClick:Re,children:"Cr√©er le premier formulaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:949,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:938,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:937,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:936,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:767,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:707,columnNumber:13},void 0),e.jsxDEV(ra,{rowsPerPageOptions:[5,10,25,50],component:"div",count:F.length,rowsPerPage:J,page:pe,onPageChange:o,onRowsPerPageChange:V,labelRowsPerPage:"Lignes par page:",labelDisplayedRows:({from:N,to:re,count:te})=>`${N}-${re} sur ${te!==-1?te:`plus de ${re}`}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:967,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:706,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:705,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:513,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:498,columnNumber:5},void 0)},Qi=()=>{const{id:s}=zs(),t=Ze(),[r,u]=i.useState(!0),[m,E]=i.useState(!1),[x,B]=i.useState(null),[h,W]=i.useState([]),[v,P]=i.useState([]),[$,T]=i.useState(null),[_,k]=i.useState(null),[z,M]=i.useState({open:!1,action:null});i.useEffect(()=>{(async()=>{var c,l,p,C,I,K,F,be,H,o;if(!s){T("Identifiant du formulaire manquant"),u(!1);return}u(!0),T(null);try{const V=await U.get(`formulaires/${s}`),D=V.data||V;if(!D||typeof D!="object")throw new Error("Format de donn√©es du formulaire inattendu");const ue={id_formulaire:D.id_formulaire||"",id_acteur:((c=D.acteur)==null?void 0:c.id_acteur)||"",acteur_nom:((l=D.acteur)==null?void 0:l.nom_prenom)||"Utilisateur inconnu",id_application:((p=D.application)==null?void 0:p.id_application)||"",nom_application:((C=D.application)==null?void 0:C.nom_application)||"Application inconnue",id_entreprise:((I=D.entreprise)==null?void 0:I.id_entreprise)||"",nom_entreprise:((K=D.entreprise)==null?void 0:K.nom_entreprise)||"Entreprise inconnue",id_questionnaire:((F=D.questionnaire)==null?void 0:F.id_questionnaire)||"",questionnaire_nom:((be=D.questionnaire)==null?void 0:be.nom)||"Questionnaire inconnu",thematiques:Array.isArray((H=D.questionnaire)==null?void 0:H.thematiques)?D.questionnaire.thematiques.map(xe=>({id:xe.id||"",nom:xe.nom||"Th√©matique inconnue"})):[],fonctions:Array.isArray((o=D.questionnaire)==null?void 0:o.fonctions)?D.questionnaire.fonctions.map(xe=>xe.nom).filter(Boolean):[],date_creation:D.date_creation||new Date().toISOString(),date_modification:D.date_modification||D.date_creation||new Date().toISOString(),statut:D.statut||"Brouillon",progression:Number(D.progression)||0};if(B(ue),!ue.id_questionnaire)throw new Error("Questionnaire non valide associ√© au formulaire");const se=ue.thematiques.map(async xe=>{try{const Re=await U.get(`questions/thematique/${xe.id}`);return(Array.isArray(Re)?Re:[]).map(re=>({id_question:re.id_question||"",id_thematique:re.id_thematique||xe.id,texte:re.texte||"Question inconnue",ponderation:Number(re.ponderation)||1,ordre:Number(re.ordre)||0,aide_reponse:re.aide_reponse||void 0,date_creation:re.date_creation||new Date().toISOString(),date_modification:re.date_modification||re.date_creation||new Date().toISOString()}))}catch(Re){return console.warn(`Erreur lors du chargement des questions pour la th√©matique ${xe.nom}:`,Re),[]}}),Ie=(await Promise.all(se)).flat().sort((xe,Re)=>xe.ordre-Re.ordre);W(Ie);const Te=await U.get(`reponses/formulaire/${s}`),qe=(Array.isArray(Te)?Te:[]).map(xe=>({id_reponse:xe.id_reponse||"",id_formulaire:xe.id_formulaire||s,id_question:xe.id_question||"",question_texte:xe.question_texte||"",valeur_reponse:xe.valeur_reponse||"",score:Number(xe.score)||0,commentaire:xe.commentaire||void 0}));P(qe)}catch(V){T(V.message||"Erreur lors du chargement du formulaire.")}finally{u(!1)}})()},[s]);const O=i.useMemo(()=>h.length>0&&h.every(g=>v.some(c=>c.id_question===g.id_question)),[h,v]),y=i.useMemo(()=>h.length>0?v.length/h.length*100:0,[h.length,v.length]),S=i.useMemo(()=>v.filter(g=>g.commentaire&&g.commentaire.trim().length>0).length,[v]),q=i.useMemo(()=>v.filter(g=>{const c=parseFloat(g.valeur_reponse)||0,l=h.find(p=>p.id_question===g.id_question);return c<=2&&l&&l.ponderation>=3}).length,[v,h]),j=i.useMemo(()=>{if(!x)return{};const g={};return x.thematiques.forEach(c=>{g[c.id]=h.filter(l=>l.id_thematique===c.id).sort((l,p)=>l.ordre-p.ordre)}),g},[x,h]),L=g=>v.find(c=>c.id_question===g),ne=(g,c)=>{const l=v.findIndex(C=>C.id_question===g),p=h.find(C=>C.id_question===g);if(p)if(l>=0){const C=[...v];C[l]={...C[l],valeur_reponse:c,score:parseInt(c)||0},P(C)}else{const C={id_reponse:`temp_${Date.now()}`,id_formulaire:s||"",id_question:g,question_texte:p.texte,valeur_reponse:c,score:parseInt(c)||0};P([...v,C])}},pe=(g,c)=>{const l=v.findIndex(p=>p.id_question===g);if(l>=0){const p=[...v];p[l]={...p[l],commentaire:c||void 0},P(p)}},G=g=>{M({open:!0,action:g})},J=()=>{M({open:!1,action:null})},ae=async g=>{if(!(!x||!s)){E(!0),T(null);try{g&&g!==x.statut&&(await U.put(`formulaires/${s}`,{statut:g,progression:Math.round(y)}),B({...x,statut:g,progression:Math.round(y)}));const c=v.map(async(K,F)=>{var be;try{if(!K.id_question||!K.id_formulaire)return console.warn(`R√©ponse ${F+1} incompl√®te, ignor√©e:`,K),{skipped:!0,index:F};let H,o;if(K.id_reponse.startsWith("temp_"))if(H=await U.post("reponses",{id_formulaire:K.id_formulaire,id_question:K.id_question,valeur_reponse:K.valeur_reponse,score:K.score,commentaire:K.commentaire||""}),H&&H.data&&H.data.id_reponse)o=H.data;else if(H&&H.id_reponse)o=H;else if(H)console.warn(`Format de r√©ponse inattendu pour POST r√©ponse ${F+1}:`,H),o={id_reponse:"created",success:!0,originalResponse:H};else throw new Error("Aucune r√©ponse re√ßue de l'API");else H=await U.put(`reponses/${K.id_reponse}`,{valeur_reponse:K.valeur_reponse,score:K.score,commentaire:K.commentaire||""}),H&&H.data?o=H.data:H?o=H:o={id_reponse:K.id_reponse,success:!0};return{success:!0,index:F,result:o}}catch(H){return console.error(`‚ùå Erreur sauvegarde r√©ponse ${F+1}:`,{error:H,reponse:K,message:H==null?void 0:H.message,status:(be=H==null?void 0:H.response)==null?void 0:be.status}),{success:!1,index:F,error:(H==null?void 0:H.message)||"Erreur inconnue",reponse:K}}}),l=await Promise.all(c),p=l.filter(K=>K.success===!0),C=l.filter(K=>K.success===!1),I=l.filter(K=>K.skipped===!0);if(console.log(`üìä R√©sultats sauvegarde: ${p.length} r√©ussies, ${C.length} √©chou√©es, ${I.length} ignor√©es`),C.length>0){console.error("‚ùå D√©tails des √©checs:",C);const K=C.map(F=>`R√©ponse ${F.index+1}: ${F.error}`).join("; ");T(`${C.length} r√©ponses n'ont pas pu √™tre sauvegard√©es. D√©tails: ${K}`)}else if(I.length>0)T(`${I.length} r√©ponses incompl√®tes ont √©t√© ignor√©es.`);else{try{console.log("üî¢ D√©clenchement du calcul de score...");const F=await U.put(`formulaires/${s}`,{statut:x.statut,progression:Math.round(y),trigger_score_calculation:!0});F.score_actuel!==void 0&&F.score_maximum!==void 0&&(B(be=>({...be,...F,thematiques:be.thematiques,fonctions:be.fonctions})),console.log(`‚úÖ Score calcul√©: ${F.score_actuel}/${F.score_maximum}`))}catch(F){console.warn("‚ö†Ô∏è Erreur lors du calcul de score (r√©ponses sauvegard√©es avec succ√®s):",F)}k(g==="Soumis"?"Formulaire soumis avec succ√®s ! Score calcul√©.":g==="Valid√©"?"Formulaire valid√© avec succ√®s ! Score calcul√©.":"Formulaire enregistr√© avec succ√®s ! Score calcul√©.")}}catch(c){console.error("‚ùå Erreur g√©n√©rale lors de la sauvegarde:",c),T(c.message||"Erreur lors de la sauvegarde du formulaire.")}finally{E(!1)}}},Ne=g=>{switch(g){case"Valid√©":return{label:"Valid√©",color:"success"};case"Soumis":return{label:"Soumis",color:"primary"};default:return{label:"Brouillon",color:"warning"}}},Q=g=>{try{return new Date(g).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}catch{return"Date invalide"}};if(r)return e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:442,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:441,columnNumber:7},void 0);if(!x)return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(ce,{severity:"error",children:$||"Formulaire non trouv√©."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:450,columnNumber:9},void 0),e.jsxDEV(Y,{startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:451,columnNumber:28},void 0),onClick:()=>t("/formulaires"),sx:{mt:2},children:"Retour √† la liste"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:451,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:449,columnNumber:7},void 0);const Ce=Ne(x.statut);return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(Ha,{"aria-label":"breadcrumb",sx:{mb:2},children:[e.jsxDEV(kr,{underline:"hover",color:"inherit",sx:{display:"flex",alignItems:"center"},href:"/",children:[e.jsxDEV(Ya,{sx:{mr:.5},fontSize:"inherit"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:464,columnNumber:11},void 0),"Accueil"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:463,columnNumber:9},void 0),e.jsxDEV(kr,{underline:"hover",color:"inherit",sx:{display:"flex",alignItems:"center"},href:"/formulaires",children:"Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:467,columnNumber:9},void 0),e.jsxDEV(a,{color:"text.primary",sx:{display:"flex",alignItems:"center"},children:x.questionnaire_nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:470,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:462,columnNumber:7},void 0),e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(Me,{color:"primary",onClick:()=>t("/formulaires"),sx:{mr:1},children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:481,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:480,columnNumber:17},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:x.questionnaire_nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:483,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:479,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",alignItems:"center",children:[q>0&&e.jsxDEV(Be,{title:`${q} question(s) critique(s)`,children:e.jsxDEV(us,{badgeContent:q,color:"error",sx:{mr:2},children:e.jsxDEV(oa,{color:"error"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:491,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:490,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:489,columnNumber:19},void 0),S>0&&e.jsxDEV(Be,{title:`${S} commentaire(s)`,children:e.jsxDEV(us,{badgeContent:S,color:"info",sx:{mr:2},children:e.jsxDEV(Ka,{color:"info"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:498,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:497,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:496,columnNumber:19},void 0),e.jsxDEV(le,{label:Ce.label,color:Ce.color,variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:502,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:487,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:478,columnNumber:13},void 0),e.jsxDEV(b,{container:!0,spacing:2,children:[e.jsxDEV(b,{item:!0,xs:12,md:4,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(ir,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:509,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Entreprise:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:511,columnNumber:21},void 0)," ",x.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:510,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:508,columnNumber:17},void 0),e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(Ja,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:515,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Fonctions:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:517,columnNumber:21},void 0)," ",x.fonctions.join(", ")||"Aucune"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:516,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:514,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:507,columnNumber:15},void 0),e.jsxDEV(b,{item:!0,xs:12,md:4,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(cr,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:523,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle1",children:e.jsxDEV("strong",{children:"Th√©matiques:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:525,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:524,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:522,columnNumber:17},void 0),e.jsxDEV(d,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:x.thematiques.map((g,c)=>e.jsxDEV(le,{label:g.nom,size:"small",color:"secondary",variant:"outlined"},c,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:530,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:528,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:521,columnNumber:15},void 0),e.jsxDEV(b,{item:!0,xs:12,md:4,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(la,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:536,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Acteur:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:538,columnNumber:21},void 0)," ",x.acteur_nom]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:537,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:535,columnNumber:17},void 0),e.jsxDEV(a,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Date de cr√©ation:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:542,columnNumber:19},void 0)," ",Q(x.date_creation)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:541,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:534,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:506,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:477,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:476,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(me,{sx:{p:2},children:e.jsxDEV(d,{sx:{width:"100%"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(a,{variant:"body2",sx:{mb:1},children:["Progression: ",Math.round(y),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:553,columnNumber:17},void 0),e.jsxDEV(a,{variant:"body2",sx:{mb:1},children:[v.length," / ",h.length," questions r√©pondues"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:556,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:552,columnNumber:15},void 0),e.jsxDEV(d,{sx:{width:"100%",backgroundColor:"#e0e0e0",borderRadius:1,height:8},children:e.jsxDEV(d,{sx:{width:`${y}%`,backgroundColor:y<30?"#f44336":y<70?"#ff9800":"#4caf50",borderRadius:1,height:"100%",transition:"width 0.5s ease-in-out"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:561,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:560,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:551,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:550,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:549,columnNumber:9},void 0),$&&e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(ce,{severity:"error",onClose:()=>T(null),children:$},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:577,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:576,columnNumber:11},void 0),_&&e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(ce,{severity:"success",onClose:()=>k(null),children:_},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:585,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:584,columnNumber:11},void 0),e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(me,{sx:{p:3},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Questions par th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:593,columnNumber:13},void 0),e.jsxDEV(es,{sx:{mb:3}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:596,columnNumber:13},void 0),x.thematiques.length>0?x.thematiques.map(g=>{var c,l;return e.jsxDEV(Ls,{defaultExpanded:!0,children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:601,columnNumber:49},void 0),children:[e.jsxDEV(a,{variant:"subtitle1",children:g.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:602,columnNumber:21},void 0),e.jsxDEV(d,{sx:{ml:2},children:e.jsxDEV(le,{label:`${((c=j[g.id])==null?void 0:c.length)||0} questions`,size:"small",color:"primary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:604,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:603,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:601,columnNumber:19},void 0),e.jsxDEV(Ts,{children:((l=j[g.id])==null?void 0:l.length)>0?j[g.id].map(p=>{const C=L(p.id_question),I=p.ponderation>=3,K=C&&(parseInt(C.valeur_reponse)||0)<=2&&I;return e.jsxDEV(ye,{sx:{mb:3,position:"relative",border:K?"1px solid #f44336":I?"1px solid #ff9800":"none"},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{sx:{position:"absolute",top:-10,left:-10,width:30,height:30,borderRadius:"50%",backgroundColor:I?"warning.main":"primary.main",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:p.ordre},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:629,columnNumber:31},void 0),e.jsxDEV(d,{sx:{ml:3},children:[e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,fontWeight:I?"bold":"normal",children:[p.texte,I&&e.jsxDEV(Be,{title:"Question √† forte pond√©ration",children:e.jsxDEV(cr,{color:"warning",fontSize:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:652,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:651,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:648,columnNumber:33},void 0),p.aide_reponse&&e.jsxDEV(a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[e.jsxDEV("strong",{children:"Aide:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:658,columnNumber:37},void 0)," ",p.aide_reponse]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:657,columnNumber:35},void 0),e.jsxDEV(a,{variant:"caption",color:I?"warning.main":"text.secondary",sx:{display:"block",mb:2},children:["Pond√©ration: ",p.ponderation," ",I?"(Question importante)":""]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:661,columnNumber:33},void 0),e.jsxDEV(Oe,{component:"fieldset",sx:{width:"100%"},children:[e.jsxDEV(a,{variant:"body2",sx:{mb:1},children:"√âvaluation (1 = Niveau initial, 5 = Niveau optimis√©)"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:669,columnNumber:35},void 0),e.jsxDEV(Xa,{row:!0,name:`question-${p.id_question}`,value:(C==null?void 0:C.valeur_reponse)||"",onChange:F=>ne(p.id_question,F.target.value),children:[1,2,3,4,5].map(F=>e.jsxDEV(Zr,{value:F.toString(),control:e.jsxDEV(Za,{sx:{color:F<=2&&I?"error.main":void 0,"&.Mui-checked":{color:F<=2&&I?"error.main":void 0}}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:683,columnNumber:43},void 0),label:F.toString(),disabled:x.statut==="Valid√©"},F,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:679,columnNumber:39},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:672,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:668,columnNumber:33},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Commentaire (optionnel)",multiline:!0,rows:2,margin:"normal",value:(C==null?void 0:C.commentaire)||"",onChange:F=>pe(p.id_question,F.target.value),disabled:x.statut==="Valid√©",helperText:K?"Un commentaire est recommand√© pour cette question critique":"",error:K&&(!(C!=null&&C.commentaire)||C.commentaire.trim()==="")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:698,columnNumber:33},void 0),K&&(!(C!=null&&C.commentaire)||C.commentaire.trim()==="")&&e.jsxDEV(ce,{severity:"warning",sx:{mt:1},children:"Veuillez ajouter un commentaire pour justifier cette √©valuation critique."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:711,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:647,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:628,columnNumber:29},void 0)},p.id_question,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:620,columnNumber:27},void 0)}):e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"Aucune question pour cette th√©matique."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:721,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:612,columnNumber:19},void 0)]},g.id,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:600,columnNumber:17},void 0)}):e.jsxDEV(a,{variant:"body1",align:"center",sx:{py:2},children:"Aucune th√©matique associ√©e √† ce formulaire."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:729,columnNumber:15},void 0),e.jsxDEV(d,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[e.jsxDEV(Y,{variant:"outlined",color:"primary",onClick:()=>ae("Brouillon"),disabled:m||x.statut==="Valid√©",startIcon:e.jsxDEV(Vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:739,columnNumber:28},void 0),sx:{mr:1},children:"Enregistrer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:734,columnNumber:15},void 0),x.statut==="Brouillon"&&e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:()=>G("Soumis"),disabled:m||!O,startIcon:e.jsxDEV(da,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:750,columnNumber:30},void 0),sx:{mr:1},children:"Soumettre"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:745,columnNumber:17},void 0),x.statut==="Soumis"&&e.jsxDEV(Y,{variant:"contained",color:"success",onClick:()=>G("Valid√©"),disabled:m||!O,startIcon:e.jsxDEV(ei,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:762,columnNumber:30},void 0),children:"Valider"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:757,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:733,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:592,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:591,columnNumber:9},void 0),e.jsxDEV(b,{item:!0,xs:12,children:e.jsxDEV(Ls,{children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:772,columnNumber:43},void 0),"aria-controls":"reponses-content",id:"reponses-header",children:e.jsxDEV(a,{children:"Aper√ßu des r√©ponses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:773,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:772,columnNumber:13},void 0),e.jsxDEV(Ts,{children:e.jsxDEV(d,{sx:{width:"100%"},children:x.thematiques.map(g=>{var c;return e.jsxDEV(d,{sx:{mb:3},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:g.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:779,columnNumber:21},void 0),((c=j[g.id])==null?void 0:c.length)>0?j[g.id].map(l=>{const p=L(l.id_question),C=l.ponderation>=3,I=p&&(parseInt(p.valeur_reponse)||0)<=2&&C;return e.jsxDEV(d,{sx:{mb:2,p:2,border:I?"1px solid #f44336":C?"1px solid #ff9800":"1px solid #eee",borderRadius:1,bgcolor:I?"rgba(244, 67, 54, 0.05)":C?"rgba(255, 152, 0, 0.05)":"transparent"},children:[e.jsxDEV(a,{variant:"subtitle2",fontWeight:C?"bold":"normal",children:[l.ordre,". ",l.texte,C&&e.jsxDEV(Be,{title:"Question √† forte pond√©ration",children:e.jsxDEV(cr,{color:"warning",fontSize:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:803,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:802,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:799,columnNumber:29},void 0),p?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(a,{variant:"body2",sx:{mt:1,color:I?"error.main":"inherit"},children:[e.jsxDEV("strong",{children:"R√©ponse:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:810,columnNumber:35},void 0)," ",p.valeur_reponse," / 5"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:809,columnNumber:33},void 0),p.commentaire?e.jsxDEV(a,{variant:"body2",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Commentaire:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:814,columnNumber:37},void 0)," ",p.commentaire]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:813,columnNumber:35},void 0):I&&e.jsxDEV(a,{variant:"body2",color:"error",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Commentaire manquant"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:819,columnNumber:39},void 0)," pour une question critique"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:818,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:808,columnNumber:31},void 0):e.jsxDEV(a,{variant:"body2",sx:{mt:1,color:"error.main"},children:"Pas de r√©ponse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:825,columnNumber:31},void 0)]},l.id_question,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:789,columnNumber:27},void 0)}):e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"Aucune question pour cette th√©matique."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:833,columnNumber:23},void 0)]},g.id,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:778,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:776,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:775,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:771,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:770,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:475,columnNumber:7},void 0),e.jsxDEV(rs,{open:z.open,onClose:J,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsxDEV(as,{id:"alert-dialog-title",children:z.action==="Soumis"?"Soumettre le formulaire ?":"Valider le formulaire ?"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:851,columnNumber:9},void 0),e.jsxDEV(is,{children:[e.jsxDEV(si,{id:"alert-dialog-description",children:z.action==="Soumis"?"√ätes-vous s√ªr de vouloir soumettre ce formulaire ? Apr√®s soumission, il sera en attente de validation.":"√ätes-vous s√ªr de vouloir valider ce formulaire ? Cette action est d√©finitive."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:855,columnNumber:11},void 0),q>0&&e.jsxDEV(ce,{severity:"warning",sx:{mt:2},children:["Attention : ",q," question(s) critique(s) ont une note faible. Assurez-vous que tous les commentaires sont bien renseign√©s."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:861,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:854,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:J,color:"inherit",children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:867,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:()=>{z.action&&(ae(z.action),J())},color:z.action==="Valid√©"?"success":"primary",variant:"contained",autoFocus:!0,children:"Confirmer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:870,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:866,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:845,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:461,columnNumber:5},void 0)},Gi=()=>{const s=Ze(),[t,r]=i.useState(!0),[u,m]=i.useState(!1),[E,x]=i.useState([]),[B,h]=i.useState([]),[W,v]=i.useState([]),[P,$]=i.useState(null),[T,_]=i.useState(null),[k,z]=i.useState(0),[M,O]=i.useState({id_entreprise:"",id_acteur:"",questionnaires:[]}),[y,S]=i.useState({id_entreprise:!0,id_acteur:!0,questionnaires:!0}),q=[{label:"Entreprise",icon:e.jsxDEV(ir,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:93,columnNumber:34},void 0)},{label:"Acteur",icon:e.jsxDEV(la,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:94,columnNumber:30},void 0)},{label:"Questionnaires",icon:e.jsxDEV(Dr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:95,columnNumber:38},void 0)}],[j,L]=i.useState([]);i.useEffect(()=>{(async()=>{r(!0),$(null);try{const l=await U.get("entreprises");let p=[];Array.isArray(l)?p=l:l&&l.data&&Array.isArray(l.data)&&(p=l.data),v(p);const C=await U.get("acteurs");let I=[];Array.isArray(C)?I=C:C&&C.data&&Array.isArray(C.data)&&(I=C.data),x(I);const K=await U.get("questionnaires");let F=[];Array.isArray(K)?F=K:K&&K.data&&Array.isArray(K.data)&&(F=K.data);const be=F.map(H=>({id_questionnaire:H.id_questionnaire,nom:H.nom||H.questionnaire_nom||"Questionnaire sans nom",description:H.description||"",thematiques:Array.isArray(H.thematiques)?H.thematiques:H.thematiques?H.thematiques.split(",").map(o=>o.trim()):[],fonctions:Array.isArray(H.fonctions)?H.fonctions:H.fonctions?H.fonctions.split(",").map(o=>o.trim()):[]}));h(be)}catch(l){console.error("Erreur lors du chargement des donn√©es:",l),$("Erreur lors du chargement des donn√©es. Veuillez r√©essayer plus tard.")}finally{r(!1)}})()},[]),i.useEffect(()=>{if(M.id_entreprise){const c=E.filter(l=>l.id_entreprise===M.id_entreprise);L(c),M.id_acteur&&!c.some(l=>l.id_acteur===M.id_acteur)&&O(l=>({...l,id_acteur:""}))}else L(E)},[M.id_entreprise,E]);const ne=c=>{const l=c.target.name,p=c.target.value;l&&(O({...M,[l]:p}),l in y&&S({...y,[l]:!0}))},pe=c=>{const l=c.target.value;O({...M,questionnaires:l}),S({...y,questionnaires:!0})},G=()=>{let c=!0;const l={...y};switch(k){case 0:l.id_entreprise=!!M.id_entreprise,c=l.id_entreprise;break;case 1:l.id_acteur=!!M.id_acteur,c=l.id_acteur;break;case 2:l.questionnaires=M.questionnaires.length>0,c=l.questionnaires;break}return S(l),c},J=()=>{const c={id_entreprise:!!M.id_entreprise,id_acteur:!!M.id_acteur,questionnaires:M.questionnaires.length>0};return S(c),Object.values(c).every(Boolean)},ae=()=>{G()?z(c=>c+1):$("Veuillez remplir tous les champs obligatoires avant de continuer.")},Ne=()=>{z(c=>c-1),$(null)},Q=async c=>{if(c.preventDefault(),!J()){$("Veuillez remplir tous les champs obligatoires.");return}m(!0),$(null),_(null);try{const l="892daedf-3423-11f0-9f03-04bf1ba7bd1e",p=M.questionnaires.map(async F=>{const be={id_questionnaire:F,id_acteur:M.id_acteur,id_application:l,statut:"Brouillon"};try{return{success:!0,response:await U.post("formulaires",be),id_questionnaire:F}}catch(H){return{success:!1,error:H,id_questionnaire:F}}}),C=await Promise.all(p),I=C.filter(F=>F.success),K=C.filter(F=>!F.success);if(I.length===0)$("Erreur lors de la cr√©ation des formulaires. Aucun formulaire n'a pu √™tre cr√©√©.");else if(K.length>0)_(`${I.length} formulaire(s) cr√©√©(s) avec succ√®s. ${K.length} √©chec(s).`),setTimeout(()=>{s("/formulaires")},2e3);else{if(_(`${I.length} formulaire(s) cr√©√©(s) avec succ√®s !`),I.length===1){const F=I[0].response;let be="";if(F&&F.data&&F.data.id_formulaire?be=F.data.id_formulaire:F&&F.id_formulaire&&(be=F.id_formulaire),be){s(`/formulaires/${be}`);return}}setTimeout(()=>{s("/formulaires")},2e3)}}catch(l){console.error("Erreur lors de la cr√©ation des formulaires:",l),$("Erreur lors de la cr√©ation des formulaires. Veuillez r√©essayer plus tard.")}finally{m(!1)}},Ce=c=>{switch(c){case 0:return e.jsxDEV(b,{container:!0,spacing:3,children:e.jsxDEV(b,{size:12,children:e.jsxDEV(Oe,{fullWidth:!0,error:!y.id_entreprise,children:[e.jsxDEV(We,{id:"entreprise-label",children:"Entreprise *"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:347,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"entreprise-label",id:"id_entreprise",name:"id_entreprise",value:M.id_entreprise,onChange:ne,label:"Entreprise *",required:!0,children:W.map(l=>e.jsxDEV(De,{value:l.id_entreprise,children:l.nom_entreprise},l.id_entreprise,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:358,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:348,columnNumber:17},void 0),!y.id_entreprise&&e.jsxDEV(Zs,{children:"L'entreprise est requise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:364,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:346,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:345,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:344,columnNumber:11},void 0);case 1:return e.jsxDEV(b,{container:!0,spacing:3,children:e.jsxDEV(b,{size:12,children:[e.jsxDEV(Oe,{fullWidth:!0,error:!y.id_acteur,children:[e.jsxDEV(We,{id:"acteur-label",children:"Acteur *"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:376,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"acteur-label",id:"id_acteur",name:"id_acteur",value:M.id_acteur,onChange:ne,label:"Acteur *",required:!0,children:j.map(l=>e.jsxDEV(De,{value:l.id_acteur,children:l.nom_prenom},l.id_acteur,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:387,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:377,columnNumber:17},void 0),!y.id_acteur&&e.jsxDEV(Zs,{children:"L'acteur est requis"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:393,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:375,columnNumber:15},void 0),j.length===0&&M.id_entreprise&&e.jsxDEV(ce,{severity:"warning",sx:{mt:2},children:"Aucun acteur n'est associ√© √† cette entreprise. Veuillez en ajouter ou s√©lectionner une autre entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:397,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:374,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:373,columnNumber:11},void 0);case 2:return e.jsxDEV(b,{container:!0,spacing:3,children:e.jsxDEV(b,{size:12,children:[e.jsxDEV(Oe,{fullWidth:!0,error:!y.questionnaires,children:[e.jsxDEV(We,{id:"questionnaires-label",children:"Questionnaires *"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:410,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"questionnaires-label",id:"questionnaires",name:"questionnaires",multiple:!0,value:M.questionnaires,onChange:pe,label:"Questionnaires *",renderValue:l=>e.jsxDEV(d,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:l.map(p=>{const C=B.find(I=>I.id_questionnaire===p);return e.jsxDEV(le,{label:(C==null?void 0:C.nom)||"Questionnaire inconnu",size:"small"},p,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:424,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:420,columnNumber:21},void 0),children:B.map(l=>e.jsxDEV(De,{value:l.id_questionnaire,children:[e.jsxDEV(ys,{checked:M.questionnaires.indexOf(l.id_questionnaire)>-1},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:436,columnNumber:23},void 0),e.jsxDEV(ls,{primary:l.nom,secondary:e.jsxDEV(d,{children:[l.description&&e.jsxDEV(a,{variant:"caption",display:"block",children:l.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:442,columnNumber:31},void 0),l.fonctions&&l.fonctions.length>0&&e.jsxDEV(d,{sx:{mt:.5},children:e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:["Fonctions: ",l.fonctions.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:448,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:447,columnNumber:31},void 0),l.thematiques&&l.thematiques.length>0&&e.jsxDEV(d,{sx:{mt:.5},children:[l.thematiques.slice(0,3).map((p,C)=>e.jsxDEV(le,{label:p,size:"small",variant:"outlined",color:"secondary",sx:{mr:.5,mb:.5}},C,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:456,columnNumber:35},void 0)),l.thematiques.length>3&&e.jsxDEV(le,{label:`+${l.thematiques.length-3}`,size:"small",variant:"outlined",color:"default"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:466,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:454,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:440,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:437,columnNumber:23},void 0)]},l.id_questionnaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:435,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:411,columnNumber:17},void 0),!y.questionnaires&&e.jsxDEV(Zs,{children:"S√©lectionnez au moins un questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:482,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:409,columnNumber:15},void 0),e.jsxDEV(a,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[M.questionnaires.length," questionnaire(s) s√©lectionn√©(s). Un formulaire sera cr√©√© pour chaque questionnaire."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:485,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:408,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:407,columnNumber:11},void 0);default:return"√âtape inconnue"}},g=()=>{const c=W.find(C=>C.id_entreprise===M.id_entreprise),l=E.find(C=>C.id_acteur===M.id_acteur),p=B.filter(C=>M.questionnaires.includes(C.id_questionnaire));return e.jsxDEV(ye,{sx:{mb:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"R√©sum√© de la cr√©ation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:509,columnNumber:11},void 0),e.jsxDEV(b,{container:!0,spacing:2,children:e.jsxDEV(b,{size:12,children:[e.jsxDEV(a,{variant:"subtitle2",children:"Entreprise:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:514,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(c==null?void 0:c.nom_entreprise)||"Non s√©lectionn√©e"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:515,columnNumber:15},void 0),e.jsxDEV(a,{variant:"subtitle2",children:"Acteur:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:519,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(l==null?void 0:l.nom_prenom)||"Non s√©lectionn√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:520,columnNumber:15},void 0),e.jsxDEV(a,{variant:"subtitle2",sx:{mt:2},children:["Questionnaires s√©lectionn√©s (",p.length,"):"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:524,columnNumber:15},void 0),e.jsxDEV(d,{sx:{ml:2},children:p.map(C=>e.jsxDEV(d,{sx:{mb:2},children:[e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsxDEV(ri,{color:"success",fontSize:"small",sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:531,columnNumber:23},void 0),e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:C.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:532,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:530,columnNumber:21},void 0),C.fonctions&&C.fonctions.length>0&&e.jsxDEV(a,{variant:"caption",color:"text.secondary",sx:{ml:3,display:"block"},children:["Fonctions: ",C.fonctions.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:538,columnNumber:23},void 0),C.thematiques&&C.thematiques.length>0&&e.jsxDEV(d,{sx:{ml:3,mt:.5},children:C.thematiques.map((I,K)=>e.jsxDEV(le,{label:I,size:"small",variant:"outlined",color:"secondary",sx:{mr:.5,mb:.5}},K,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:546,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:544,columnNumber:23},void 0)]},C.id_questionnaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:529,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:527,columnNumber:15},void 0),e.jsxDEV(ce,{severity:"info",sx:{mt:2},children:[p.length," formulaire(s) seront cr√©√©s √† partir de cette s√©lection."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:561,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:513,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:512,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:508,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:507,columnNumber:7},void 0)};return t?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:574,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:573,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{size:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Me,{color:"primary",onClick:()=>s("/formulaires"),sx:{mr:1},children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:587,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:586,columnNumber:15},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Cr√©er des Formulaires d'√âvaluation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:589,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:585,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"S√©lectionnez une entreprise, un acteur et un ou plusieurs questionnaires pour cr√©er les formulaires correspondants."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:594,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:584,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:583,columnNumber:9},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(me,{sx:{p:2},children:e.jsxDEV(aa,{activeStep:k,alternativeLabel:!0,children:q.map((c,l)=>e.jsxDEV(ia,{children:e.jsxDEV(na,{children:c.label},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:606,columnNumber:19},void 0)},l,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:605,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:603,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:602,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:601,columnNumber:9},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(me,{sx:{p:2},children:e.jsxDEV(d,{component:"form",noValidate:!0,onSubmit:Q,children:[P&&e.jsxDEV(ce,{severity:"error",sx:{mb:2},onClose:()=>$(null),children:P},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:618,columnNumber:17},void 0),T&&e.jsxDEV(ce,{severity:"success",sx:{mb:2},children:T},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:624,columnNumber:17},void 0),k===q.length?e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Toutes les √©tapes sont compl√©t√©es"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:631,columnNumber:19},void 0),g(),e.jsxDEV(d,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(Y,{variant:"outlined",onClick:()=>z(k-1),startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:641,columnNumber:34},void 0),children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:638,columnNumber:21},void 0),e.jsxDEV(Y,{type:"submit",variant:"contained",color:"primary",disabled:u,startIcon:e.jsxDEV(Vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:651,columnNumber:34},void 0),children:u?"Cr√©ation en cours...":"Cr√©er les formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:646,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:637,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:630,columnNumber:17},void 0):e.jsxDEV(d,{children:[e.jsxDEV(d,{sx:{mb:3},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:q[k].label},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:660,columnNumber:21},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:663,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:659,columnNumber:19},void 0),Ce(k),e.jsxDEV(d,{display:"flex",justifyContent:"space-between",mt:3,children:[e.jsxDEV(Y,{variant:"outlined",onClick:k===0?()=>s("/formulaires"):Ne,startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:672,columnNumber:34},void 0),children:k===0?"Annuler":"Pr√©c√©dent"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:669,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:k===q.length-1?()=>ae():ae,children:k===q.length-1?"Finaliser":"Suivant"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:677,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:668,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:658,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:616,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:615,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:614,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:581,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:580,columnNumber:5},void 0)},_e=({children:s,className:t="h-5 w-5"})=>e.jsxDEV(d,{component:"span",sx:{display:"flex",alignItems:"center","& svg":{width:20,height:20}},children:vs.cloneElement(s,{className:t})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:189,columnNumber:3},void 0),Rs=s=>{const{children:t,value:r,index:u,...m}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==u,id:`admin-tabpanel-${u}`,"aria-labelledby":`admin-tab-${u}`,...m,children:r===u&&e.jsxDEV(d,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:206,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:198,columnNumber:5},void 0)},_s=()=>{const{hasPermission:s,canAccessAdminModule:t,isAdmin:r,isSuperAdmin:u,currentUser:m,hasGlobalAccess:E}=tr(),x=Ze();nr();const B=()=>{var n;return((n=m==null?void 0:m.nom_role)==null?void 0:n.toUpperCase())==="CONSULTANT"},h=()=>u()||E?"GLOBAL":(m==null?void 0:m.niveau_acces)||"ENTREPRISE",v=(()=>{const n=h();return u()?{canViewAll:!0,canManageUsers:!0,canManageRoles:!0,canManagePermissions:!0,canManageModules:!0,canEditAll:!0,canDeleteAll:!0,scope:"GLOBAL"}:r()?{canViewAll:!0,canManageUsers:!0,canManageRoles:n==="GLOBAL",canManagePermissions:n==="GLOBAL",canManageModules:n==="GLOBAL",canEditAll:!0,canDeleteAll:!1,scope:n}:B()?{canViewAll:!0,canManageUsers:!1,canManageRoles:!1,canManagePermissions:!1,canManageModules:!1,canEditAll:!1,canDeleteAll:!1,scope:n}:{canViewAll:!1,canManageUsers:!1,canManageRoles:!1,canManagePermissions:!1,canManageModules:!1,canEditAll:!1,canDeleteAll:!1,scope:"ENTREPRISE"}})(),P=()=>{const n=localStorage.getItem("admin-active-tab");return n&&parseInt(n)>=0&&parseInt(n)<=4?parseInt(n):0},[$,T]=i.useState(!0),[_,k]=i.useState(P()),[z,M]=i.useState({open:!1,message:"",severity:"info"}),[O,y]=i.useState([]),[S,q]=i.useState([]),[j,L]=i.useState([]),[ne,pe]=i.useState([]),[G,J]=i.useState([]),[ae,Ne]=i.useState([]),[Q,Ce]=i.useState(!1),[g,c]=i.useState(!1),[l,p]=i.useState(!1),[C,I]=i.useState(!1),[K,F]=i.useState(!1),[be,H]=i.useState([]),[o,V]=i.useState({nom_prenom:"",email:"",fonction:"",organisation:"DSIN",id_entreprise:"",mot_de_passe:"",id_role:""}),[D,ue]=i.useState({nom_role:"",description:"",niveau_acces:"ENTREPRISE"}),[se,je]=i.useState({nom_entreprise:"",secteur:"",description:"",adresse:"",telephone:"",email:"",site_web:""}),[Ie,Te]=i.useState("create"),[Ue,qe]=i.useState(null),[xe,Re]=i.useState(""),N=(n,de="info")=>{M({open:!0,message:n,severity:de})};i.useEffect(()=>{if(!v.canViewAll&&!B()){x("/");return}re()},[]),i.useEffect(()=>{localStorage.setItem("admin-active-tab",_.toString())},[_]);const re=async()=>{T(!0);try{await Promise.all([te(),Ve(),A(),ee()])}catch(n){console.error("Erreur lors du chargement des donn√©es:",n),N("Erreur lors du chargement des donn√©es","error")}finally{T(!1)}},te=async()=>{try{let n;try{n=await U.get("admin/users"),y(n.users||n||[])}catch{console.warn("Endpoint admin/users non disponible, utilisation de permissions-management/users"),n=await U.get("permissions-management/users"),y(n||[])}}catch(n){console.error("Erreur lors du chargement des utilisateurs:",n),N("Erreur lors du chargement des utilisateurs","error")}},Ve=async()=>{try{let n;try{n=await U.get("admin/roles"),q(n||[])}catch{console.warn("Endpoint admin/roles non disponible, utilisation de permissions-management/roles"),n=await U.get("permissions-management/roles"),q(n||[])}}catch(n){console.error("Erreur lors du chargement des r√¥les:",n),N("Erreur lors du chargement des r√¥les","error")}},A=async()=>{try{let n;try{n=await U.get("admin/modules"),L(n||[])}catch{console.warn("Endpoint admin/modules non disponible, utilisation de permissions-management/modules"),n=await U.get("permissions-management/modules"),L(n||[])}}catch(n){console.error("Erreur lors du chargement des modules:",n),N("Erreur lors du chargement des modules","error")}},ee=async()=>{try{console.log("üîç Chargement des entreprises...");const n=await U.get("entreprises");console.log("‚úÖ Entreprises re√ßues:",n);const de=(n.entreprises||n||[]).map(Le=>({id_entreprise:Le.id_entreprise,nom_entreprise:Le.nom_entreprise,secteur:Le.secteur,description:Le.description,adresse:Le.adresse,telephone:Le.telephone,email:Le.email,site_web:Le.site_web,date_creation:Le.date_creation,date_modification:Le.date_modification,nombre_utilisateurs:Le.nombre_utilisateurs||0,nombre_applications:Le.nombre_applications||0}));console.log("üè¢ Entreprises finales:",de),Ne(de)}catch(n){console.error("‚ùå Erreur chargement entreprises:",n),N("Erreur lors du chargement des entreprises","error"),Ne([{id_entreprise:"DSIN",nom_entreprise:"DSIN",secteur:"Public",description:"Direction du Syst√®me d'Information et du Num√©rique",adresse:"",telephone:"",email:"",site_web:"",nombre_utilisateurs:0,nombre_applications:0}])}},Fe=async n=>{try{let de;try{de=await U.get(`admin/roles/${n}/permissions`),J(de||[]),H(de||[])}catch{de=await U.get(`permissions-management/roles/${n}/permissions`),J(de||[]),H(de||[])}}catch(de){console.error("Erreur lors du chargement des permissions du r√¥le:",de),N("Erreur lors du chargement des permissions","error")}},R=(n,de)=>{[v.canViewAll,v.canManageRoles,v.canManagePermissions,v.canEditAll||v.canViewAll,v.canManageModules][de]?k(de):N("Vous n'avez pas les droits pour acc√©der √† cet onglet","warning")},X=()=>{if(!v.canManageUsers){N("Vous n'avez pas les droits pour cr√©er des utilisateurs","warning");return}Te("create"),V({nom_prenom:"",email:"",fonction:"",organisation:"",id_entreprise:v.scope==="ENTREPRISE"&&(m==null?void 0:m.id_entreprise)||"DSIN",mot_de_passe:"",id_role:""}),Ce(!0)},ie=n=>{if(!v.canEditAll){N("Vous n'avez pas les droits pour modifier des utilisateurs","warning");return}Te("edit"),qe(n),V({nom_prenom:n.nom_prenom,email:n.email,fonction:n.role||"",organisation:n.organisation,id_entreprise:n.id_entreprise||"DSIN",id_role:n.id_role||""}),Ce(!0)},Se=()=>{if(!v.canManageRoles){N("Vous n'avez pas les droits pour cr√©er des r√¥les","warning");return}Te("create"),ue({nom_role:"",description:"",niveau_acces:"ENTREPRISE"}),c(!0)},he=n=>{if(!v.canManageRoles){N("Vous n'avez pas les droits pour modifier des r√¥les","warning");return}Te("edit"),qe(n),ue({nom_role:n.nom_role,description:n.description,niveau_acces:n.niveau_acces}),c(!0)},ms=()=>{if(!v.canEditAll){N("Vous n'avez pas les droits pour cr√©er des entreprises","warning");return}Te("create"),je({nom_entreprise:"",secteur:"",description:"",adresse:"",telephone:"",email:"",site_web:""}),p(!0)},ws=n=>{if(!v.canEditAll){N("Vous n'avez pas les droits pour modifier des entreprises","warning");return}Te("edit"),qe(n),je({nom_entreprise:n.nom_entreprise,secteur:n.secteur||"",description:n.description||"",adresse:n.adresse||"",telephone:n.telephone||"",email:n.email||"",site_web:n.site_web||""}),p(!0)},dr=()=>{if(!v.canManagePermissions){N("Vous n'avez pas les droits pour modifier les permissions","warning");return}F(!0),H([...G])},or=async()=>{try{const n=be.map(de=>({id_module:de.id_module,peut_voir:de.peut_voir,peut_editer:de.peut_editer,peut_supprimer:de.peut_supprimer,peut_administrer:de.peut_administrer}));try{await U.put(`admin/roles/${xe}/permissions`,{permissions:n})}catch{await U.put(`permissions-management/roles/${xe}/permissions`,{permissions:n})}J([...be]),F(!1),N("Permissions mises √† jour avec succ√®s","success")}catch(n){console.error("Erreur lors de la sauvegarde des permissions:",n),N("Erreur lors de la sauvegarde des permissions","error")}},lr=()=>{H([...G]),F(!1)},Us=(n,de,Le)=>{H(Ca=>Ca.map(mr=>mr.id_module===n?{...mr,[de]:Le}:mr))},Z=async()=>{try{const n={nom_prenom:o.nom_prenom,email:o.email,organisation:o.organisation,id_entreprise:o.id_entreprise,id_role:o.id_role,...Ie==="create"&&{mot_de_passe:o.mot_de_passe}};if(console.log("üì§ Envoi donn√©es utilisateur:",n),Ie==="create"){try{await U.post("admin/users",n)}catch{console.warn("Endpoint admin/users non disponible, utilisation de permissions-management/users"),await U.post("permissions-management/users",n)}N("Utilisateur cr√©√© avec succ√®s","success")}else if(Ue){try{await U.put(`admin/users/${Ue.id_acteur}`,n)}catch{await U.put(`acteurs/${Ue.id_acteur}`,n)}N("Utilisateur mis √† jour avec succ√®s","success")}await te(),Ce(!1),console.log("‚úÖ Utilisateur sauvegard√© avec succ√®s")}catch(n){console.error("‚ùå Erreur lors de la sauvegarde de l'utilisateur:",n),N("Erreur lors de la sauvegarde de l'utilisateur","error")}},w=async()=>{try{if(Ie==="create"){try{await U.post("admin/roles",D)}catch{await U.post("permissions-management/roles",D)}N("R√¥le cr√©√© avec succ√®s","success")}else if(Ue){try{await U.put(`admin/roles/${Ue.id_role}`,D)}catch{await U.put(`permissions-management/roles/${Ue.id_role}`,D)}N("R√¥le mis √† jour avec succ√®s","success")}await Ve(),c(!1)}catch(n){console.error("Erreur lors de la sauvegarde du r√¥le:",n),N("Erreur lors de la sauvegarde du r√¥le","error")}},fe=async()=>{try{Ie==="create"?(await U.post("entreprises",se),N("Entreprise cr√©√©e avec succ√®s","success")):Ue&&(await U.put(`entreprises/${Ue.id_entreprise}`,se),N("Entreprise mise √† jour avec succ√®s","success")),await ee(),p(!1)}catch(n){console.error("Erreur lors de la sauvegarde de l'entreprise:",n),N("Erreur lors de la sauvegarde de l'entreprise","error")}},ve=async()=>{try{if(!Ue)return;if(_===0){try{await U.delete(`admin/users/${Ue.id_acteur}`)}catch{await U.delete(`acteurs/${Ue.id_acteur}`)}await te(),N("Utilisateur supprim√© avec succ√®s","success")}else if(_===1){try{await U.delete(`admin/roles/${Ue.id_role}`)}catch{await U.delete(`permissions-management/roles/${Ue.id_role}`)}await Ve(),N("R√¥le supprim√© avec succ√®s","success")}else _===3&&(await U.delete(`entreprises/${Ue.id_entreprise}`),await ee(),N("Entreprise supprim√©e avec succ√®s","success"));I(!1),qe(null)}catch(n){console.error("Erreur lors de la suppression:",n),N("Erreur lors de la suppression","error")}},Pe=(n,de)=>{switch(de||n){case"SUPER_ADMINISTRATEUR":case"SuperAdmin":return{label:"Super Admin",color:"error",icon:e.jsxDEV(_e,{children:e.jsxDEV(br,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:825,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:825,columnNumber:17},void 0)};case"ADMINISTRATEUR":case"Admin":return{label:"Admin",color:"primary",icon:e.jsxDEV(_e,{children:e.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:832,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:832,columnNumber:17},void 0)};case"CONSULTANT":return{label:"Consultant",color:"secondary",icon:e.jsxDEV(_e,{children:e.jsxDEV(Ys,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:838,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:838,columnNumber:17},void 0)};case"MANAGER":return{label:"Manager",color:"info",icon:e.jsxDEV(_e,{children:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:844,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:844,columnNumber:17},void 0)};case"INTERVENANT":default:return{label:"Intervenant",color:"default",icon:e.jsxDEV(_e,{children:e.jsxDEV(Tr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:851,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:851,columnNumber:17},void 0)}}},js=n=>u()?!0:r()?Pe(n.role,n.nom_role).label!=="Super Admin":!1,cs=n=>{if(!n)return"Non sp√©cifi√©e";const de=ae.find(Le=>Le.id_entreprise===n);return de?de.nom_entreprise:n},Os=()=>[{label:"Utilisateurs",icon:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:876,columnNumber:38},void 0),enabled:v.canViewAll},{label:"R√¥les",icon:e.jsxDEV(Ys,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:877,columnNumber:31},void 0),enabled:v.canManageRoles},{label:"Permissions",icon:e.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:878,columnNumber:37},void 0),enabled:v.canManagePermissions},{label:"Entreprises",icon:e.jsxDEV(hi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:879,columnNumber:37},void 0),enabled:v.canEditAll||v.canViewAll},{label:"Modules",icon:e.jsxDEV(Pr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:880,columnNumber:33},void 0),enabled:v.canManageModules}];return $?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:889,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:888,columnNumber:7},void 0):!v.canViewAll&&!B()?e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(ce,{severity:"error",children:"Acc√®s non autoris√©. Vous devez avoir les permissions appropri√©es pour acc√©der √† cette page."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:897,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:896,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{size:12,children:e.jsxDEV(me,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",gap:2,children:[e.jsxDEV(_e,{children:e.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:912,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:912,columnNumber:17},void 0),e.jsxDEV(d,{children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Administration Syst√®me"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:914,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle2",color:"text.secondary",children:[v.scope==="GLOBAL"?"Vue globale":`Vue limit√©e - ${cs((m==null?void 0:m.id_entreprise)||"")}`,B()&&" (Consultation seule)"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:917,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:913,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:911,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",gap:1,children:[e.jsxDEV(le,{icon:e.jsxDEV(_e,{children:e.jsxDEV(br,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:926,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:926,columnNumber:25},void 0),label:u()?"Super Administrateur":r()?"Administrateur":B()?"Consultant":"Utilisateur",color:u()?"error":r()?"primary":B()?"secondary":"default",variant:"filled"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:925,columnNumber:17},void 0),!v.canEditAll&&e.jsxDEV(le,{icon:e.jsxDEV(_e,{children:e.jsxDEV(xi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:933,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:933,columnNumber:27},void 0),label:"Lecture seule",color:"warning",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:932,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:924,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:910,columnNumber:13},void 0),e.jsxDEV(b,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxDEV(b,{size:{xs:12,sm:3},children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(a,{variant:"h4",color:"primary",children:O.length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:947,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:["Utilisateurs",v.scope==="ENTREPRISE"?" (Entreprise)":""]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:950,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:946,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:945,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:944,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:3},children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(a,{variant:"h4",color:"secondary",children:S.length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:959,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"R√¥les"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:962,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:958,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:957,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:956,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:3},children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(a,{variant:"h4",color:"info",children:ae.length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:971,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:974,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:970,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:969,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:968,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:3},children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(a,{variant:"h4",color:"success",children:O.filter(n=>Pe(n.role,n.nom_role).label==="Admin").length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:983,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"Administrateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:986,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:982,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:981,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:980,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:943,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:909,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:908,columnNumber:9},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(me,{sx:{width:"100%"},children:[e.jsxDEV(Ss,{value:_,onChange:R,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider"},children:Os().map((n,de)=>e.jsxDEV(Xe,{label:n.label,icon:e.jsxDEV(_e,{children:n.icon},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1011,columnNumber:25},void 0),iconPosition:"start",disabled:!n.enabled},de,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1008,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:999,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:0,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{variant:"h6",children:"Gestion des Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1021,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(fr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1025,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1025,columnNumber:30},void 0),onClick:X,disabled:!v.canManageUsers,children:"Nouvel Utilisateur"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1022,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1020,columnNumber:15},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1037,columnNumber:23},void 0),e.jsxDEV(f,{children:"Email"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1038,columnNumber:23},void 0),e.jsxDEV(f,{children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1039,columnNumber:23},void 0),e.jsxDEV(f,{children:"Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1040,columnNumber:23},void 0),e.jsxDEV(f,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1041,columnNumber:23},void 0),e.jsxDEV(f,{children:"R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1042,columnNumber:23},void 0),v.canEditAll&&e.jsxDEV(f,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1043,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1036,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1035,columnNumber:19},void 0),e.jsxDEV(Ke,{children:O.map(n=>{const de=Pe(n.role,n.nom_role),Le=js(n);return e.jsxDEV(Ee,{hover:!0,children:[e.jsxDEV(f,{children:n.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1053,columnNumber:27},void 0),e.jsxDEV(f,{children:n.email},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1054,columnNumber:27},void 0),e.jsxDEV(f,{children:n.role},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1055,columnNumber:27},void 0),e.jsxDEV(f,{children:n.organisation},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1056,columnNumber:27},void 0),e.jsxDEV(f,{children:cs(n.id_entreprise)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1057,columnNumber:27},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{label:de.label,color:de.color,icon:de.icon,size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1059,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1058,columnNumber:27},void 0),v.canEditAll&&e.jsxDEV(f,{children:[e.jsxDEV(Be,{title:Le?"Modifier l'utilisateur":"Droits insuffisants",children:e.jsxDEV("span",{children:e.jsxDEV(Me,{color:"primary",onClick:()=>ie(n),disabled:!Le,children:e.jsxDEV(_e,{children:e.jsxDEV(Hs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1075,columnNumber:47},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1075,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1070,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1069,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1068,columnNumber:31},void 0),e.jsxDEV(Be,{title:Le&&v.canDeleteAll?"Supprimer l'utilisateur":"Droits insuffisants",children:e.jsxDEV("span",{children:e.jsxDEV(Me,{color:"error",onClick:()=>{qe(n),I(!0)},disabled:!Le||!v.canDeleteAll,children:e.jsxDEV(_e,{children:e.jsxDEV(Nr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1089,columnNumber:47},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1089,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1081,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1080,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1079,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1067,columnNumber:29},void 0)]},n.id_acteur,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1052,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1046,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1034,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1033,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1019,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:1,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{variant:"h6",children:"Gestion des R√¥les"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1106,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(fr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1110,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1110,columnNumber:30},void 0),onClick:Se,disabled:!v.canManageRoles,children:"Nouveau R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1107,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1105,columnNumber:15},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Nom du R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1122,columnNumber:23},void 0),e.jsxDEV(f,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1123,columnNumber:23},void 0),e.jsxDEV(f,{children:"Niveau d'Acc√®s"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1124,columnNumber:23},void 0),e.jsxDEV(f,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1125,columnNumber:23},void 0),v.canManageRoles&&e.jsxDEV(f,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1126,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1121,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1120,columnNumber:19},void 0),e.jsxDEV(Ke,{children:S.map(n=>e.jsxDEV(Ee,{hover:!0,children:[e.jsxDEV(f,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",gap:1,children:[n.nom_role==="SUPER_ADMINISTRATEUR"&&e.jsxDEV(_e,{children:e.jsxDEV(br,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1134,columnNumber:84},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1134,columnNumber:74},void 0),n.nom_role==="ADMINISTRATEUR"&&e.jsxDEV(_e,{children:e.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1135,columnNumber:78},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1135,columnNumber:68},void 0),n.nom_role==="CONSULTANT"&&e.jsxDEV(_e,{children:e.jsxDEV(Ys,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1136,columnNumber:74},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1136,columnNumber:64},void 0),n.nom_role==="MANAGER"&&e.jsxDEV(_e,{children:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1137,columnNumber:71},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1137,columnNumber:61},void 0),n.nom_role==="INTERVENANT"&&e.jsxDEV(_e,{children:e.jsxDEV(Tr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1138,columnNumber:75},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1138,columnNumber:65},void 0),e.jsxDEV(a,{variant:"body2",children:n.nom_role},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1139,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1133,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1132,columnNumber:25},void 0),e.jsxDEV(f,{children:n.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1142,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{label:n.niveau_acces,color:n.niveau_acces==="GLOBAL"?"primary":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1144,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1143,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(us,{badgeContent:n.nombre_utilisateurs||0,color:"primary",children:e.jsxDEV(_e,{children:e.jsxDEV(Ys,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1152,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1152,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1151,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1150,columnNumber:25},void 0),v.canManageRoles&&e.jsxDEV(f,{children:[e.jsxDEV(Me,{color:"primary",onClick:()=>he(n),children:e.jsxDEV(_e,{children:e.jsxDEV(Hs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1161,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1161,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1157,columnNumber:29},void 0),e.jsxDEV(Me,{color:"error",onClick:()=>{qe(n),I(!0)},disabled:!v.canDeleteAll||(n.nombre_utilisateurs||0)>0,children:e.jsxDEV(_e,{children:e.jsxDEV(Nr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1171,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1171,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1163,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1156,columnNumber:27},void 0)]},n.id_role,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1131,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1129,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1119,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1118,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1104,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:2,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{variant:"h6",children:"Gestion des Permissions par R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1185,columnNumber:17},void 0),xe&&G.length>0&&e.jsxDEV(d,{children:K?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(pi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1193,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1193,columnNumber:38},void 0),onClick:or,sx:{mr:1},children:"Sauvegarder"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1190,columnNumber:25},void 0),e.jsxDEV(Y,{variant:"outlined",color:"secondary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(Ci,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1202,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1202,columnNumber:38},void 0),onClick:lr,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1199,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1189,columnNumber:23},void 0):e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(Hs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1212,columnNumber:46},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1212,columnNumber:36},void 0),onClick:dr,disabled:!v.canManagePermissions,children:"Modifier les Permissions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1209,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1187,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1184,columnNumber:15},void 0),e.jsxDEV(Oe,{fullWidth:!0,sx:{mb:3},children:[e.jsxDEV(We,{children:"S√©lectionner un r√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1224,columnNumber:17},void 0),e.jsxDEV(Qe,{value:xe,onChange:n=>{Re(n.target.value),F(!1),n.target.value&&Fe(n.target.value)},children:S.map(n=>e.jsxDEV(De,{value:n.id_role,children:[n.nom_role," - ",n.description]},n.id_role,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1236,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1225,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1223,columnNumber:15},void 0),xe&&(K?be:G).length>0&&e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Module"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1248,columnNumber:25},void 0),e.jsxDEV(f,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1249,columnNumber:25},void 0),e.jsxDEV(f,{align:"center",children:"Voir"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1250,columnNumber:25},void 0),e.jsxDEV(f,{align:"center",children:"√âditer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1251,columnNumber:25},void 0),e.jsxDEV(f,{align:"center",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1252,columnNumber:25},void 0),e.jsxDEV(f,{align:"center",children:"Administrer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1253,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1247,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1246,columnNumber:21},void 0),e.jsxDEV(Ke,{children:(K?be:G).map(n=>e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:n.nom_module},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1260,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1259,columnNumber:27},void 0),e.jsxDEV(f,{children:e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:n.module_description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1265,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1264,columnNumber:27},void 0),e.jsxDEV(f,{align:"center",children:K?e.jsxDEV(Qs,{checked:n.peut_voir,onChange:de=>Us(n.id_module,"peut_voir",de.target.checked),color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1271,columnNumber:31},void 0):e.jsxDEV(ys,{checked:n.peut_voir,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1277,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1269,columnNumber:27},void 0),e.jsxDEV(f,{align:"center",children:K?e.jsxDEV(Qs,{checked:n.peut_editer,onChange:de=>Us(n.id_module,"peut_editer",de.target.checked),color:"primary",disabled:!n.peut_voir},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1282,columnNumber:31},void 0):e.jsxDEV(ys,{checked:n.peut_editer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1289,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1280,columnNumber:27},void 0),e.jsxDEV(f,{align:"center",children:K?e.jsxDEV(Qs,{checked:n.peut_supprimer,onChange:de=>Us(n.id_module,"peut_supprimer",de.target.checked),color:"primary",disabled:!n.peut_editer},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1294,columnNumber:31},void 0):e.jsxDEV(ys,{checked:n.peut_supprimer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1301,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1292,columnNumber:27},void 0),e.jsxDEV(f,{align:"center",children:K?e.jsxDEV(Qs,{checked:n.peut_administrer,onChange:de=>Us(n.id_module,"peut_administrer",de.target.checked),color:"primary",disabled:!n.peut_editer},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1306,columnNumber:31},void 0):e.jsxDEV(ys,{checked:n.peut_administrer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1313,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1304,columnNumber:27},void 0)]},n.id_role_permission||n.id_module,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1258,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1256,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1245,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1244,columnNumber:17},void 0),xe&&G.length===0&&e.jsxDEV(ce,{severity:"info",sx:{mt:2},children:"Aucune permission d√©finie pour ce r√¥le."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1324,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1183,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:3,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{variant:"h6",children:"Gestion des Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1333,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(fr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1337,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1337,columnNumber:30},void 0),onClick:ms,disabled:!v.canEditAll,children:"Nouvelle Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1334,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1332,columnNumber:15},void 0),!v.canEditAll&&v.canViewAll&&e.jsxDEV(ce,{severity:"info",sx:{mb:2},children:"Vous consultez les entreprises en mode lecture seule."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1346,columnNumber:17},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1355,columnNumber:23},void 0),e.jsxDEV(f,{children:"Secteur"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1356,columnNumber:23},void 0),e.jsxDEV(f,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1357,columnNumber:23},void 0),e.jsxDEV(f,{children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1358,columnNumber:23},void 0),e.jsxDEV(f,{children:"Date Cr√©ation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1359,columnNumber:23},void 0),v.canEditAll&&e.jsxDEV(f,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1360,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1354,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1353,columnNumber:19},void 0),e.jsxDEV(Ke,{children:ae.map(n=>e.jsxDEV(Ee,{hover:!0,children:[e.jsxDEV(f,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:n.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1368,columnNumber:29},void 0),n.description&&e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:n.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1372,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1367,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1366,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{label:n.secteur||"Non d√©fini",size:"small",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1379,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1378,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(us,{badgeContent:n.nombre_utilisateurs||0,color:"primary",children:e.jsxDEV(_e,{children:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1387,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1387,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1386,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1385,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(us,{badgeContent:n.nombre_applications||0,color:"secondary",children:e.jsxDEV(_e,{children:e.jsxDEV(Pr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1392,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1392,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1391,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1390,columnNumber:25},void 0),e.jsxDEV(f,{children:n.date_creation?new Date(n.date_creation).toLocaleDateString():"Non d√©finie"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1395,columnNumber:25},void 0),v.canEditAll&&e.jsxDEV(f,{children:[e.jsxDEV(Me,{color:"primary",onClick:()=>ws(n),children:e.jsxDEV(_e,{children:e.jsxDEV(Hs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1407,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1407,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1403,columnNumber:29},void 0),e.jsxDEV(Me,{color:"error",onClick:()=>{qe(n),I(!0)},disabled:!v.canDeleteAll||(n.nombre_utilisateurs||0)>0,children:e.jsxDEV(_e,{children:e.jsxDEV(Nr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1417,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1417,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1409,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1402,columnNumber:27},void 0)]},n.id_entreprise,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1365,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1363,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1352,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1351,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1331,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:4,children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Configuration des Modules"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1430,columnNumber:15},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:"Module"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1436,columnNumber:23},void 0),e.jsxDEV(f,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1437,columnNumber:23},void 0),e.jsxDEV(f,{children:"Route"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1438,columnNumber:23},void 0),e.jsxDEV(f,{children:"Ordre"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1439,columnNumber:23},void 0),e.jsxDEV(f,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1440,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1435,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1434,columnNumber:19},void 0),e.jsxDEV(Ke,{children:j.map(n=>e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:n.nom_module},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1446,columnNumber:25},void 0),e.jsxDEV(f,{children:n.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1447,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV("code",{children:n.route_base},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1449,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1448,columnNumber:25},void 0),e.jsxDEV(f,{children:n.ordre_affichage},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1451,columnNumber:25},void 0),e.jsxDEV(f,{children:e.jsxDEV(le,{label:n.actif?"Actif":"Inactif",color:n.actif?"success":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1453,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1452,columnNumber:25},void 0)]},n.id_module,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1445,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1443,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1433,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1432,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1429,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:998,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:997,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:906,columnNumber:7},void 0),e.jsxDEV(rs,{open:Q,onClose:()=>Ce(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:Ie==="create"?"Cr√©er un nouvel utilisateur":"Modifier l'utilisateur"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1472,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(b,{container:!0,spacing:2,children:[e.jsxDEV(b,{size:12,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,label:"Nom et pr√©nom",value:o.nom_prenom,onChange:n=>V({...o,nom_prenom:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1479,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1478,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:6},children:e.jsxDEV(oe,{required:!0,fullWidth:!0,type:"email",label:"Email",value:o.email,onChange:n=>V({...o,email:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1489,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1488,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:6},children:e.jsxDEV(oe,{fullWidth:!0,label:"Fonction",value:o.fonction,onChange:n=>V({...o,fonction:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1500,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1499,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:6},children:e.jsxDEV(oe,{fullWidth:!0,label:"Organisation/D√©partement",placeholder:"ex: IT, RH, Finance...",value:o.organisation,onChange:n=>V({...o,organisation:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1509,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1508,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:6},children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1520,columnNumber:19},void 0),e.jsxDEV(Qe,{value:o.id_role,onChange:n=>V({...o,id_role:n.target.value}),children:S.filter(n=>v.scope==="ENTREPRISE"?n.niveau_acces==="ENTREPRISE"||n.nom_role==="INTERVENANT":!0).map(n=>e.jsxDEV(De,{value:n.id_role,children:n.nom_role},n.id_role,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1532,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1521,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1519,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1518,columnNumber:15},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(Oe,{fullWidth:!0,required:!0,children:[e.jsxDEV(We,{id:"entreprise-label",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1542,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"entreprise-label",value:o.id_entreprise,label:"Entreprise",onChange:n=>V({...o,id_entreprise:n.target.value}),disabled:v.scope==="ENTREPRISE",children:ae.map(n=>e.jsxDEV(De,{value:n.id_entreprise,children:n.nom_entreprise},n.id_entreprise,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1551,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1543,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1541,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1540,columnNumber:15},void 0),Ie==="create"&&e.jsxDEV(b,{size:12,children:e.jsxDEV(oe,{fullWidth:!0,type:"password",label:"Mot de passe",value:o.mot_de_passe,onChange:n=>V({...o,mot_de_passe:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1561,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1560,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1477,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1476,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1475,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>Ce(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1574,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:Z,variant:"contained",color:"primary",children:Ie==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1575,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1573,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1471,columnNumber:7},void 0),e.jsxDEV(rs,{open:g,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxDEV(as,{children:Ie==="create"?"Cr√©er un nouveau r√¥le":"Modifier le r√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1583,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(b,{container:!0,spacing:2,children:[e.jsxDEV(b,{size:12,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,label:"Nom du r√¥le",value:D.nom_role,onChange:n=>ue({...D,nom_role:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1590,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1589,columnNumber:15},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(oe,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:D.description,onChange:n=>ue({...D,description:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1599,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1598,columnNumber:15},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"Niveau d'acc√®s"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1610,columnNumber:19},void 0),e.jsxDEV(Qe,{value:D.niveau_acces,onChange:n=>ue({...D,niveau_acces:n.target.value}),children:[e.jsxDEV(De,{value:"ENTREPRISE",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1615,columnNumber:21},void 0),e.jsxDEV(De,{value:"GLOBAL",children:"Global"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1616,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1611,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1609,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1608,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1588,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1587,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1586,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>c(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1624,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:w,variant:"contained",color:"primary",children:Ie==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1625,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1623,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1582,columnNumber:7},void 0),e.jsxDEV(rs,{open:l,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:Ie==="create"?"Cr√©er une nouvelle entreprise":"Modifier l'entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1633,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(b,{container:!0,spacing:2,children:[e.jsxDEV(b,{size:{xs:12,sm:6},children:e.jsxDEV(oe,{required:!0,fullWidth:!0,label:"Nom de l'entreprise",value:se.nom_entreprise,onChange:n=>je({...se,nom_entreprise:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1640,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1639,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:6},children:e.jsxDEV(oe,{required:!0,fullWidth:!0,label:"Secteur",value:se.secteur,onChange:n=>je({...se,secteur:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1649,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1648,columnNumber:15},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(oe,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:se.description,onChange:n=>je({...se,description:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1658,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1657,columnNumber:15},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(oe,{fullWidth:!0,label:"Adresse",value:se.adresse,onChange:n=>je({...se,adresse:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1668,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1667,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:6},children:e.jsxDEV(oe,{fullWidth:!0,label:"T√©l√©phone",value:se.telephone,onChange:n=>je({...se,telephone:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1676,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1675,columnNumber:15},void 0),e.jsxDEV(b,{size:{xs:12,sm:6},children:e.jsxDEV(oe,{fullWidth:!0,type:"email",label:"Email",value:se.email,onChange:n=>je({...se,email:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1684,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1683,columnNumber:15},void 0),e.jsxDEV(b,{size:12,children:e.jsxDEV(oe,{fullWidth:!0,label:"Site web",placeholder:"https://",value:se.site_web,onChange:n=>je({...se,site_web:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1693,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1692,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1638,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1637,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1636,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>p(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1705,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:fe,variant:"contained",color:"primary",children:Ie==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1706,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1704,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1632,columnNumber:7},void 0),e.jsxDEV(rs,{open:C,onClose:()=>I(!1),children:[e.jsxDEV(as,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1714,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(a,{children:"√ätes-vous s√ªr de vouloir supprimer cet √©l√©ment ? Cette action est irr√©versible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1716,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1715,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>I(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1721,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:ve,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1722,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1720,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1713,columnNumber:7},void 0),e.jsxDEV($s,{open:z.open,autoHideDuration:6e3,onClose:()=>M({...z,open:!1}),children:e.jsxDEV(ce,{onClose:()=>M({...z,open:!1}),severity:z.severity,sx:{width:"100%"},children:z.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1734,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1729,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:905,columnNumber:5},void 0)},Hi=()=>{var I,K,F,be,H;const[s,t]=i.useState([]),[r,u]=i.useState(null),[m,E]=i.useState(!1),[x,B]=i.useState(0),[h,W]=i.useState({open:!1,message:"",severity:"success"}),[v,P]=i.useState({}),$=async o=>{try{const V=await U.get(`/questions/thematique/${o}`);P(D=>({...D,[o]:V}))}catch{J("Erreur chargement des questions","error")}},[T,_]=i.useState(!1),[k,z]=i.useState(""),[M,O]=i.useState(null),[y,S]=i.useState({}),[q,j]=i.useState(!1),[L,ne]=i.useState(null);i.useEffect(()=>{pe()},[]),i.useEffect(()=>{var o;(o=r==null?void 0:r.thematiques)==null||o.forEach(V=>$(V.id_thematique))},[r]);const pe=async()=>{E(!0);try{const o=await U.get("/maturity-model/fonctions");t(o.data||o),(o.data||o).length>0&&!r&&G((o.data||o)[0].id_fonction)}catch(o){console.error("Erreur lors du chargement des fonctions:",o),J("Erreur lors du chargement des fonctions","error")}finally{E(!1)}},G=async o=>{E(!0);try{const V=await U.get(`/maturity-model/fonctions/${o}`);u(V.data||V)}catch(V){console.error("Erreur lors du chargement des d√©tails:",V),J("Erreur lors du chargement des d√©tails","error")}finally{E(!1)}},J=(o,V="success")=>{W({open:!0,message:o,severity:V})},ae=(o,V=null)=>{z(o),O(V),S(V||{}),_(!0)},Ne=()=>{_(!1),O(null),S({}),z("")},Q=(o,V,D)=>{ne({type:o,id:V,name:D}),j(!0)},Ce=o=>{S({id_thematique:o.id_thematique,texte:"",ponderation:1,aide_reponse:""}),z("question"),O(null),_(!0)},g=async()=>{try{let o;switch(k){case"fonction":M?(o=await U.put(`/maturity-model/fonctions/${M.id_fonction}`,y),J("Fonction mise √† jour avec succ√®s")):(o=await U.post("/maturity-model/fonctions",y),J("Fonction cr√©√©e avec succ√®s")),await pe();break;case"thematique":M?(o=await U.put(`/maturity-model/thematiques/${M.id_thematique}`,y),J("Th√©matique mise √† jour avec succ√®s")):(o=await U.post(`/maturity-model/fonctions/${r==null?void 0:r.id_fonction}/thematiques`,y),J("Th√©matique cr√©√©e avec succ√®s")),r&&await G(r.id_fonction);break;case"niveau-global":M?(o=await U.put(`/maturity-model/niveaux-globaux/${M.id_niveau}`,y),J("Niveau global mis √† jour avec succ√®s")):(o=await U.post(`/maturity-model/fonctions/${r==null?void 0:r.id_fonction}/niveaux-globaux`,y),J("Niveau global cr√©√© avec succ√®s")),r&&await G(r.id_fonction);break;case"niveau-thematique":const{id_thematique:V}=y;M?(o=await U.put(`/maturity-model/niveaux-thematiques/${M.id_niveau}`,y),J("Niveau th√©matique mis √† jour avec succ√®s")):(o=await U.post(`/maturity-model/thematiques/${V}/niveaux`,{...y,id_fonction:r==null?void 0:r.id_fonction}),J("Niveau th√©matique cr√©√© avec succ√®s")),r&&await G(r.id_fonction);break;case"question":{if(!y.texte||y.texte.trim()===""){J("Le texte est obligatoire","warning");return}M?(await U.put(`/questions/${M.id_question}`,y),J("Question modifi√©e")):(await U.post("/questions",y),J("Question ajout√©e")),await $(y.id_thematique),Ne();break}}Ne()}catch(o){console.error("Erreur lors de la sauvegarde:",o),J("Erreur lors de la sauvegarde","error")}},c=async()=>{if(L)try{switch(L.type){case"fonction":await U.delete(`/maturity-model/fonctions/${L.id}`),J("Fonction supprim√©e avec succ√®s"),await pe(),(r==null?void 0:r.id_fonction)===L.id&&u(null);break;case"thematique":await U.delete(`/maturity-model/thematiques/${L.id}`),J("Th√©matique supprim√©e avec succ√®s"),r&&await G(r.id_fonction);break;case"niveau-global":await U.delete(`/maturity-model/niveaux-globaux/${L.id}`),J("Niveau global supprim√© avec succ√®s"),r&&await G(r.id_fonction);break;case"niveau-thematique":await U.delete(`/maturity-model/niveaux-thematiques/${L.id}`),J("Niveau th√©matique supprim√© avec succ√®s"),r&&await G(r.id_fonction);break}j(!1),ne(null)}catch(o){console.error("Erreur lors de la suppression:",o),J("Erreur lors de la suppression","error")}},l=async()=>{try{const o=await U.get("/maturity-model/export"),V=JSON.stringify(o.data||o,null,2),D="data:application/json;charset=utf-8,"+encodeURIComponent(V),ue=`maturity-model-${new Date().toISOString().split("T")[0]}.json`,se=document.createElement("a");se.setAttribute("href",D),se.setAttribute("download",ue),se.click(),J("Mod√®le export√© avec succ√®s")}catch(o){console.error("Erreur lors de l'export:",o),J("Erreur lors de l'export","error")}},p=o=>o>=4?"#4CAF50":o>=3?"#FF9800":o>=2?"#F44336":"#9E9E9E",C=()=>{var V;const o=()=>{const D=M?"Modifier":"Cr√©er";switch(k){case"fonction":return`${D} une fonction`;case"thematique":return`${D} une th√©matique`;case"niveau-global":return`${D} un niveau global`;case"niveau-thematique":return`${D} un niveau th√©matique`;default:return""}};return e.jsxDEV(rs,{open:T,onClose:Ne,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:o()},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:403,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[(k==="fonction"||k==="thematique")&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(oe,{fullWidth:!0,label:"Nom",value:y.nom||"",onChange:D=>S({...y,nom:D.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:408,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:y.description||"",onChange:D=>S({...y,description:D.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:415,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Ordre",type:"number",value:y.ordre||999,onChange:D=>S({...y,ordre:parseInt(D.target.value)||999})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:424,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:407,columnNumber:15},void 0),k==="thematique"&&e.jsxDEV(oe,{fullWidth:!0,label:"Nombre de questions",type:"number",value:y.nombre_questions||0,onChange:D=>S({...y,nombre_questions:parseInt(D.target.value)||0})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:435,columnNumber:15},void 0),(k==="niveau-global"||k==="niveau-thematique")&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(d,{children:[e.jsxDEV(a,{gutterBottom:!0,children:"Plage de scores"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:447,columnNumber:19},void 0),e.jsxDEV(d,{sx:{display:"flex",gap:2},children:[e.jsxDEV(oe,{label:"Score min",type:"number",inputProps:{min:0,max:5,step:.1},value:y.score_min??"",onChange:D=>S({...y,score_min:parseFloat(D.target.value)||0}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:449,columnNumber:21},void 0),e.jsxDEV(oe,{label:"Score max",type:"number",inputProps:{min:0,max:5,step:.1},value:y.score_max??"",onChange:D=>S({...y,score_max:parseFloat(D.target.value)||0}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:457,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:448,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:446,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Niveau",value:y.niveau||"",onChange:D=>S({...y,niveau:D.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:468,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:y.description||"",onChange:D=>S({...y,description:D.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:476,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Recommandations",multiline:!0,rows:3,value:y.recommandations||"",onChange:D=>S({...y,recommandations:D.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:486,columnNumber:17},void 0),k==="niveau-global"&&e.jsxDEV(oe,{fullWidth:!0,label:"Ordre",type:"number",value:y.ordre||999,onChange:D=>S({...y,ordre:parseInt(D.target.value)||999})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:496,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:445,columnNumber:15},void 0),k==="niveau-thematique"&&!M&&e.jsxDEV(Oe,{fullWidth:!0,required:!0,children:[e.jsxDEV(We,{children:"Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:509,columnNumber:17},void 0),e.jsxDEV(Qe,{value:y.id_thematique||"",onChange:D=>S({...y,id_thematique:D.target.value}),label:"Th√©matique",children:(V=r==null?void 0:r.thematiques)==null?void 0:V.map(D=>e.jsxDEV(De,{value:D.id_thematique,children:D.nom},D.id_thematique,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:516,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:510,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:508,columnNumber:15},void 0),k==="question"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(oe,{label:"Texte de la question",fullWidth:!0,multiline:!0,rows:3,required:!0,value:y.texte||"",onChange:D=>S({...y,texte:D.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:526,columnNumber:17},void 0),e.jsxDEV(oe,{label:"Pond√©ration",type:"number",fullWidth:!0,value:y.ponderation||1,onChange:D=>S({...y,ponderation:parseInt(D.target.value)||1})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:535,columnNumber:17},void 0),e.jsxDEV(oe,{label:"Aide √† la r√©ponse",fullWidth:!0,multiline:!0,rows:2,value:y.aide_reponse||"",onChange:D=>S({...y,aide_reponse:D.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:542,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:525,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:405,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:404,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:Ne,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:555,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:g,variant:"contained",startIcon:e.jsxDEV(Vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:559,columnNumber:24},void 0),disabled:!y.nom&&(k==="fonction"||k==="thematique")||!y.niveau&&(k==="niveau-global"||k==="niveau-thematique"),children:"Enregistrer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:556,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:554,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:402,columnNumber:7},void 0)};return e.jsxDEV($e,{maxWidth:"xl",sx:{mt:4,mb:4},children:[e.jsxDEV(b,{container:!0,spacing:3,children:[e.jsxDEV(b,{xs:12,children:e.jsxDEV(me,{sx:{p:3},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(d,{display:"flex",alignItems:"center",gap:2,children:[e.jsxDEV(Xr,{color:"primary",fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:581,columnNumber:17},void 0),e.jsxDEV(a,{component:"h1",variant:"h4",color:"primary",children:"Administration du Mod√®le de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:582,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:580,columnNumber:15},void 0),e.jsxDEV(d,{children:[e.jsxDEV(Y,{variant:"outlined",startIcon:e.jsxDEV(ai,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:589,columnNumber:30},void 0),onClick:l,sx:{mr:2},children:"Exporter"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:587,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:597,columnNumber:30},void 0),onClick:()=>ae("fonction"),children:"Nouvelle Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:595,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:586,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:579,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:578,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:577,columnNumber:9},void 0),e.jsxDEV(b,{xs:12,md:4,children:e.jsxDEV(me,{sx:{p:2,height:"calc(100vh - 200px)",overflow:"auto"},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:"Fonctions d'√©valuation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:610,columnNumber:13},void 0),m&&e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:614,columnNumber:25},void 0),e.jsxDEV(Ns,{children:s.map(o=>e.jsxDEV(ye,{sx:{mb:2,cursor:"pointer",border:(r==null?void 0:r.id_fonction)===o.id_fonction?"2px solid #0B4E87":"1px solid #e0e0e0",transition:"all 0.3s","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},onClick:()=>G(o.id_fonction),children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(a,{variant:"h6",color:"primary",children:o.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:634,columnNumber:23},void 0),e.jsxDEV(d,{children:[e.jsxDEV(Me,{size:"small",onClick:V=>{V.stopPropagation(),ae("fonction",o)},children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:645,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:638,columnNumber:25},void 0),e.jsxDEV(Me,{size:"small",color:"error",onClick:V=>{V.stopPropagation(),Q("fonction",o.id_fonction,o.nom)},children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:655,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:647,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:637,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:633,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",sx:{mt:1,mb:2},children:o.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:660,columnNumber:21},void 0),e.jsxDEV(d,{display:"flex",gap:1,children:[e.jsxDEV(le,{size:"small",icon:e.jsxDEV(ii,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:667,columnNumber:31},void 0),label:`${o.nb_thematiques||0} th√©matiques`,color:"primary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:665,columnNumber:23},void 0),e.jsxDEV(le,{size:"small",icon:e.jsxDEV(ta,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:674,columnNumber:31},void 0),label:`${o.nb_niveaux_globaux||0} niveaux`,color:"secondary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:672,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:664,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:632,columnNumber:19},void 0)},o.id_fonction,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:618,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:616,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:609,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:608,columnNumber:9},void 0),e.jsxDEV(b,{xs:12,md:8,children:r?e.jsxDEV(me,{sx:{p:2,height:"calc(100vh - 200px)",overflow:"auto"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h5",gutterBottom:!0,children:r.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:693,columnNumber:19},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:r.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:696,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:692,columnNumber:17},void 0),e.jsxDEV(d,{children:[e.jsxDEV(le,{label:r.actif?"Actif":"Inactif",color:r.actif?"success":"default",sx:{mr:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:701,columnNumber:19},void 0),e.jsxDEV(Be,{title:"Modifier",children:e.jsxDEV(Me,{onClick:()=>ae("fonction",r),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:710,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:707,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:706,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:700,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:691,columnNumber:15},void 0),e.jsxDEV(Ss,{value:x,onChange:(o,V)=>B(V),sx:{mb:3},children:[e.jsxDEV(Xe,{label:"Th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:717,columnNumber:17},void 0),e.jsxDEV(Xe,{label:"Niveaux Globaux"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:718,columnNumber:17},void 0),e.jsxDEV(Xe,{label:"Niveaux Th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:719,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:716,columnNumber:15},void 0),x===0&&e.jsxDEV(d,{children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(a,{variant:"h6",children:["Th√©matiques (",((I=r.thematiques)==null?void 0:I.length)||0,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:726,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",size:"small",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:730,columnNumber:34},void 0),onClick:()=>ae("thematique"),children:"Ajouter une th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:727,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:725,columnNumber:19},void 0),(K=r.thematiques)==null?void 0:K.map(o=>{var V,D,ue;return e.jsxDEV(Ls,{sx:{mb:1},children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:739,columnNumber:53},void 0),children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"subtitle1",sx:{fontWeight:500},children:o.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:742,columnNumber:29},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:[o.nombre_questions," questions ‚Ä¢ ",((V=o.niveauxThematiques)==null?void 0:V.length)||0," niveaux d√©finis"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:745,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:741,columnNumber:27},void 0),e.jsxDEV(d,{onClick:se=>se.stopPropagation(),children:[e.jsxDEV(Me,{size:"small",onClick:()=>ae("thematique",o),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:754,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:750,columnNumber:29},void 0),e.jsxDEV(Me,{size:"small",color:"error",onClick:()=>Q("thematique",o.id_thematique,o.nom),children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:761,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:756,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:749,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:740,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:739,columnNumber:23},void 0),e.jsxDEV(Ts,{children:[e.jsxDEV(a,{variant:"body2",color:"textSecondary",sx:{mb:2},children:o.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:767,columnNumber:25},void 0),e.jsxDEV(Y,{variant:"outlined",size:"small",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:773,columnNumber:38},void 0),onClick:()=>Ce(o),disabled:(((D=v[o.id_thematique])==null?void 0:D.length)||0)>=o.nombre_questions,children:"Ajouter une question"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:770,columnNumber:25},void 0),e.jsxDEV(d,{sx:{mt:2},children:[e.jsxDEV(a,{variant:"subtitle2",children:"Questions :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:780,columnNumber:25},void 0),(console.log("Questions affich√©es :",v[o.id_thematique]),null),(ue=v[o.id_thematique])==null?void 0:ue.map((se,je)=>e.jsxDEV(me,{sx:{p:1,mb:1},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(a,{children:[je+1,". ",se.texte]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:788,columnNumber:31},void 0),e.jsxDEV(d,{children:e.jsxDEV(Me,{size:"small",onClick:()=>ae("question",se),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:791,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:790,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:789,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:787,columnNumber:29},void 0)},se.id_question,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:786,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:779,columnNumber:24},void 0),o.niveauxThematiques&&o.niveauxThematiques.length>0&&e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"subtitle2",gutterBottom:!0,children:"Niveaux d√©finis:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:801,columnNumber:29},void 0),e.jsxDEV(d,{display:"flex",flexWrap:"wrap",gap:1,children:o.niveauxThematiques.map(se=>e.jsxDEV(le,{label:`${se.score_min}-${se.score_max}: ${se.niveau}`,size:"small",sx:{bgcolor:p((se.score_min+se.score_max)/2),color:"white"}},se.id_niveau,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:806,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:804,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:800,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:766,columnNumber:23},void 0)]},o.id_thematique,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:738,columnNumber:21},void 0)}),(!r.thematiques||r.thematiques.length===0)&&e.jsxDEV(d,{textAlign:"center",py:4,children:e.jsxDEV(a,{variant:"body1",color:"textSecondary",children:"Aucune th√©matique d√©finie pour cette fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:825,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:824,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:724,columnNumber:17},void 0),x===1&&e.jsxDEV(d,{children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(a,{variant:"h6",children:["Niveaux Globaux (",((F=r.niveauxGlobaux)==null?void 0:F.length)||0,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:837,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",size:"small",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:841,columnNumber:34},void 0),onClick:()=>ae("niveau-global"),children:"Ajouter un niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:838,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:836,columnNumber:19},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{width:"120",children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:852,columnNumber:27},void 0),e.jsxDEV(f,{width:"200",children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:853,columnNumber:27},void 0),e.jsxDEV(f,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:854,columnNumber:27},void 0),e.jsxDEV(f,{width:"100",children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:855,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:851,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:850,columnNumber:23},void 0),e.jsxDEV(Ke,{children:(be=r.niveauxGlobaux)==null?void 0:be.map(o=>e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",gap:1,children:[e.jsxDEV(d,{sx:{width:16,height:16,borderRadius:"50%",bgcolor:p((o.score_min+o.score_max)/2)}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:863,columnNumber:33},void 0),o.score_min," - ",o.score_max]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:862,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:861,columnNumber:29},void 0),e.jsxDEV(f,{children:e.jsxDEV(a,{variant:"subtitle2",children:o.niveau},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:875,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:874,columnNumber:29},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",children:o.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:881,columnNumber:33},void 0),o.recommandations&&e.jsxDEV(a,{variant:"caption",color:"textSecondary",sx:{mt:1,display:"block"},children:[e.jsxDEV("strong",{children:"Recommandations:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:886,columnNumber:37},void 0)," ",o.recommandations]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:885,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:880,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:879,columnNumber:29},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{children:[e.jsxDEV(Me,{size:"small",onClick:()=>ae("niveau-global",o),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:897,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:893,columnNumber:33},void 0),e.jsxDEV(Me,{size:"small",color:"error",onClick:()=>Q("niveau-global",o.id_niveau,o.niveau),children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:904,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:899,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:892,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:891,columnNumber:29},void 0)]},o.id_niveau,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:860,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:858,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:849,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:848,columnNumber:19},void 0),(!r.niveauxGlobaux||r.niveauxGlobaux.length===0)&&e.jsxDEV(d,{textAlign:"center",py:4,children:e.jsxDEV(a,{variant:"body1",color:"textSecondary",children:"Aucun niveau global d√©fini pour cette fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:916,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:915,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:835,columnNumber:17},void 0),x===2&&e.jsxDEV(d,{children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(a,{variant:"h6",children:"Niveaux Th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:928,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",size:"small",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:932,columnNumber:34},void 0),onClick:()=>ae("niveau-thematique"),disabled:!r.thematiques||r.thematiques.length===0,children:"Ajouter un niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:929,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:927,columnNumber:19},void 0),(H=r.thematiques)==null?void 0:H.map(o=>e.jsxDEV(d,{mb:3,children:[e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:500,color:"#0B4E87"},children:o.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:942,columnNumber:23},void 0),o.niveauxThematiques&&o.niveauxThematiques.length>0?e.jsxDEV(Ge,{sx:{mb:2},children:e.jsxDEV(He,{size:"small",children:[e.jsxDEV(Ye,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(f,{width:"100",children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:951,columnNumber:33},void 0),e.jsxDEV(f,{width:"200",children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:952,columnNumber:33},void 0),e.jsxDEV(f,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:953,columnNumber:33},void 0),e.jsxDEV(f,{width:"80",children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:954,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:950,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:949,columnNumber:29},void 0),e.jsxDEV(Ke,{children:o.niveauxThematiques.map(V=>e.jsxDEV(Ee,{children:[e.jsxDEV(f,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",gap:1,children:[e.jsxDEV(d,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:p((V.score_min+V.score_max)/2)}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:962,columnNumber:39},void 0),V.score_min," - ",V.score_max]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:961,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:960,columnNumber:35},void 0),e.jsxDEV(f,{children:V.niveau},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:973,columnNumber:35},void 0),e.jsxDEV(f,{children:e.jsxDEV(a,{variant:"body2",sx:{fontSize:"0.875rem"},children:V.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:975,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:974,columnNumber:35},void 0),e.jsxDEV(f,{children:e.jsxDEV(d,{children:[e.jsxDEV(Me,{size:"small",onClick:()=>ae("niveau-thematique",V),children:e.jsxDEV(ts,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:985,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:981,columnNumber:39},void 0),e.jsxDEV(Me,{size:"small",color:"error",onClick:()=>Q("niveau-thematique",V.id_niveau,V.niveau),children:e.jsxDEV(fs,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:992,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:987,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:980,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:979,columnNumber:35},void 0)]},V.id_niveau,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:959,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:957,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:948,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:947,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body2",color:"textSecondary",sx:{ml:2,mb:2},children:"Aucun niveau d√©fini pour cette th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1002,columnNumber:25},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1007,columnNumber:23},void 0)]},o.id_thematique,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:941,columnNumber:21},void 0)),(!r.thematiques||r.thematiques.length===0)&&e.jsxDEV(d,{textAlign:"center",py:4,children:e.jsxDEV(a,{variant:"body1",color:"textSecondary",children:"Aucune th√©matique d√©finie. Cr√©ez d'abord des th√©matiques pour d√©finir leurs niveaux."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1013,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1012,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:926,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:690,columnNumber:13},void 0):e.jsxDEV(me,{sx:{p:6,textAlign:"center",height:"calc(100vh - 200px)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxDEV(d,{children:[e.jsxDEV(Ps,{sx:{fontSize:80,color:"#e0e0e0",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1024,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",color:"textSecondary",children:"S√©lectionnez une fonction pour voir les d√©tails"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1025,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1023,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1022,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:688,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:575,columnNumber:7},void 0),C(),e.jsxDEV(rs,{open:q,onClose:()=>j(!1),children:[e.jsxDEV(as,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1042,columnNumber:9},void 0),e.jsxDEV(is,{children:[e.jsxDEV(a,{children:['√ätes-vous s√ªr de vouloir supprimer "',L==null?void 0:L.name,'" ?']},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1044,columnNumber:11},void 0),e.jsxDEV(a,{variant:"caption",color:"error",sx:{mt:1,display:"block"},children:"Cette action est irr√©versible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1047,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1043,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>j(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1052,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:c,color:"error",variant:"contained",startIcon:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1059,columnNumber:24},void 0),children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1055,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1051,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1038,columnNumber:7},void 0),e.jsxDEV($s,{open:h.open,autoHideDuration:6e3,onClose:()=>W({...h,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsxDEV(ce,{onClose:()=>W({...h,open:!1}),severity:h.severity,sx:{width:"100%"},children:h.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1073,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1067,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:574,columnNumber:5},void 0)},xa=({children:s,module:t,action:r="voir",adminOnly:u=!1,fallbackUrl:m="/auth/login",showDetailedError:E=!0})=>{const{isAuthenticated:x,isLoading:B,currentUser:h,hasPermission:W,canAccessRoute:v,isAdmin:P,isSuperAdmin:$}=tr(),T=nr(),[_,k]=i.useState(!0),[z,M]=i.useState(!1),[O,y]=i.useState(null),S=i.useCallback(()=>P(),[P]),q=i.useCallback(()=>$(),[$]);return i.useEffect(()=>{let j=!0;return B||(async()=>{console.log("üîç ProtectedRoute - V√©rification permissions pour:",T.pathname);try{if(!j)return;if(k(!0),y(null),!x){console.log("‚ùå Utilisateur non authentifi√©"),j&&(y({type:"auth",message:"Vous devez √™tre connect√© pour acc√©der √† cette page.",suggestion:"Veuillez vous connecter avec vos identifiants."}),M(!1),k(!1));return}if(u&&!S()&&!q()){console.log("‚ùå Acc√®s administrateur requis mais utilisateur non admin"),j&&(y({type:"admin",message:"Acc√®s r√©serv√© aux administrateurs.",suggestion:"Contactez votre administrateur syst√®me pour obtenir les droits n√©cessaires."}),M(!1),k(!1));return}if(t&&W){const ne=W(t,r);if(console.log(`üîç Permission ${t}:${r} = ${ne?"‚úÖ":"‚ùå"}`),!ne){j&&(y({type:"permission",message:`Vous n'avez pas les permissions n√©cessaires pour ${r==="voir"?"consulter":r} ce module.`,suggestion:`Module requis: ${t} (${r}). Contactez votre administrateur pour obtenir ces permissions.`}),M(!1),k(!1));return}}if(v){const ne=v(T.pathname);if(console.log(`üö¶ Acc√®s route ${T.pathname} = ${ne?"‚úÖ":"‚ùå"}`),!ne){j&&(y({type:"permission",message:"Vous n'avez pas acc√®s √† cette page.",suggestion:"V√©rifiez que vous avez les permissions n√©cessaires ou contactez votre administrateur."}),M(!1),k(!1));return}}console.log("‚úÖ Acc√®s autoris√©"),j&&(M(!0),k(!1))}catch(ne){console.error("‚ùå Erreur lors de la v√©rification des permissions:",ne),j&&(y({type:"permission",message:"Erreur lors de la v√©rification des permissions.",suggestion:"Veuillez rafra√Æchir la page ou contacter le support technique."}),M(!1),k(!1))}})(),()=>{j=!1}},[x,B,t,r,u,T.pathname,h==null?void 0:h.id_acteur,h==null?void 0:h.nom_role]),B||_&&x?e.jsxDEV(d,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"80vh",gap:2,children:[e.jsxDEV(ze,{size:48},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:195,columnNumber:9},void 0),e.jsxDEV(a,{variant:"body1",color:"text.secondary",children:"V√©rification des permissions..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:196,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:187,columnNumber:7},void 0):x?!z&&O?E?e.jsxDEV($e,{maxWidth:"md",sx:{mt:8,mb:4},children:e.jsxDEV(me,{elevation:3,sx:{p:4,textAlign:"center"},children:e.jsxDEV(d,{display:"flex",flexDirection:"column",alignItems:"center",gap:3,children:[O.type==="auth"&&e.jsxDEV(ni,{color:"error",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:221,columnNumber:15},void 0),O.type==="admin"&&e.jsxDEV(hr,{color:"warning",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:224,columnNumber:15},void 0),O.type==="permission"&&e.jsxDEV(oa,{color:"error",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:227,columnNumber:15},void 0),e.jsxDEV(ce,{severity:O.type==="admin"?"warning":"error",sx:{width:"100%",textAlign:"left"},children:[e.jsxDEV(ti,{children:[O.type==="auth"&&"Authentification requise",O.type==="admin"&&"Acc√®s administrateur requis",O.type==="permission"&&"Permissions insuffisantes"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:235,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body1",gutterBottom:!0,children:O.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:240,columnNumber:15},void 0),O.suggestion&&e.jsxDEV(a,{variant:"body2",sx:{mt:1,opacity:.8},children:["üí° ",O.suggestion]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:244,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:231,columnNumber:13},void 0),e.jsxDEV(d,{display:"flex",gap:2,mt:2,children:[e.jsxDEV(Y,{variant:"contained",onClick:()=>window.history.back(),color:"primary",children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:252,columnNumber:15},void 0),e.jsxDEV(Y,{variant:"outlined",onClick:()=>window.location.href="/",color:"primary",children:"Accueil"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:259,columnNumber:15},void 0),O.type==="auth"&&e.jsxDEV(Y,{variant:"contained",onClick:()=>window.location.href=m,color:"secondary",children:"Se connecter"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:267,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:218,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:217,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:216,columnNumber:7},void 0):e.jsxDEV(Cs,{to:"/",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:212,columnNumber:14},void 0):(console.log("‚úÖ Affichage du contenu prot√©g√©"),e.jsxDEV(e.Fragment,{children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:284,columnNumber:10},void 0)):(console.log("üîÑ Redirection vers page de connexion"),e.jsxDEV(Cs,{to:m,state:{from:T},replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:206,columnNumber:12},void 0))};typeof window<"u"&&(window.onerror=(s,t,r,u,m)=>(we.error("Erreur globale non g√©r√©e",{message:s,source:t,lineno:r,colno:u,stack:m==null?void 0:m.stack}),!1),window.addEventListener("unhandledrejection",s=>{var t,r;we.error("Promesse rejet√©e non g√©r√©e",{reason:((t=s.reason)==null?void 0:t.message)||String(s.reason),stack:(r=s.reason)==null?void 0:r.stack})}),window.initialLoadTime=performance.now());const Yi=di({palette:{primary:{main:"#0B4E87"},secondary:{main:"#09C4B8"}},typography:{fontFamily:'"Ubuntu", sans-serif'},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}}}},oi),ke=({children:s,module:t,action:r="voir",adminOnly:u=!1})=>e.jsxDEV(xa,{module:t,action:r,adminOnly:u,showDetailedError:!0,children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:107,columnNumber:5},void 0),Ki=()=>(i.useEffect(()=>{we.info("Application initialis√©e avec administration unifi√©e",{version:"1.0.0",environment:"production",features:["unified_administration","enhanced_permissions"]});const s=performance.now()-(window.initialLoadTime||0);return s>0&&we.logPerformance("app-initial-load",s),()=>{we.flush().catch(console.error)}},[]),e.jsxDEV(li,{theme:Yi,children:e.jsxDEV(ea,{dateAdapter:sa,adapterLocale:ma,children:e.jsxDEV(Di,{children:e.jsxDEV(ui,{children:[e.jsxDEV(Ae,{path:"/auth",element:e.jsxDEV(Ui,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:142,columnNumber:42},void 0),children:e.jsxDEV(Ae,{path:"login",element:e.jsxDEV(ji,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:143,columnNumber:44},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:143,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:142,columnNumber:13},void 0),e.jsxDEV(Ae,{path:"/",element:e.jsxDEV(xa,{fallbackUrl:"/auth/login",children:e.jsxDEV(Ei,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:152,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:151,columnNumber:17},void 0),children:[e.jsxDEV(Ae,{index:!0,element:e.jsxDEV(ke,{module:"DASHBOARD",children:e.jsxDEV(Vi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:161,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:160,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:157,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses-interpretations",element:e.jsxDEV(ke,{module:"ANALYSES",children:e.jsxDEV(Hr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:171,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:170,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:167,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses-fonctions",element:e.jsxDEV(ke,{module:"ANALYSES",children:e.jsxDEV(Yr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:179,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:178,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:175,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses-fonctions/:id",element:e.jsxDEV(ke,{module:"ANALYSES",children:e.jsxDEV(Yr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:187,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:186,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:183,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses-interpretations/:id",element:e.jsxDEV(ke,{module:"ANALYSES",children:e.jsxDEV(Hr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:195,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:194,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:191,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses/calculer/:id",element:e.jsxDEV(ke,{module:"ANALYSES",action:"editer",children:e.jsxDEV(Bi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:203,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:202,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:199,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"applications",element:e.jsxDEV(ke,{module:"APPLICATIONS",children:e.jsxDEV(qi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:213,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:212,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:209,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"formulaires",element:e.jsxDEV(ke,{module:"FORMULAIRES",children:e.jsxDEV(Wi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:223,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:222,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:219,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"formulaires/new",element:e.jsxDEV(ke,{module:"FORMULAIRES",action:"editer",children:e.jsxDEV(Gi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:231,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:230,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:227,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"formulaires/:id",element:e.jsxDEV(ke,{module:"FORMULAIRES",children:e.jsxDEV(Qi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:239,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:238,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:235,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"questionnaires",element:e.jsxDEV(ke,{module:"QUESTIONNAIRES",children:e.jsxDEV(Ai,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:249,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:248,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:245,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"questionnaires/:id",element:e.jsxDEV(ke,{module:"QUESTIONNAIRES",children:e.jsxDEV(_i,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:257,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:256,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:253,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"questionnaires/admin",element:e.jsxDEV(ke,{module:"QUESTIONNAIRES",action:"administrer",children:e.jsxDEV(Si,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:265,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:264,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:261,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"organisations",element:e.jsxDEV(ke,{module:"ENTREPRISES",children:e.jsxDEV(Gr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:275,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:274,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:271,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"organisations/:name",element:e.jsxDEV(ke,{module:"ENTREPRISES",children:e.jsxDEV(Gr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:283,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:282,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:279,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin",element:e.jsxDEV(ke,{module:"ADMINISTRATION",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:294,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:293,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:290,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/users",element:e.jsxDEV(ke,{module:"ADMIN_USERS",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:303,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:302,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:299,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/users/:id",element:e.jsxDEV(ke,{module:"ADMIN_USERS",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:312,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:311,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:308,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/permissions",element:e.jsxDEV(ke,{module:"ADMIN_PERMISSIONS",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:321,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:320,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:317,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/roles",element:e.jsxDEV(ke,{module:"ADMIN_ROLES",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:330,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:329,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:326,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/maturity-model",element:e.jsxDEV(ke,{module:"ADMIN_MATURITY",adminOnly:!0,children:e.jsxDEV(Hi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:339,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:338,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:335,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/system",element:e.jsxDEV(ke,{module:"ADMIN_SYSTEM",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:348,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:347,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:344,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"users",element:e.jsxDEV(Cs,{to:"/admin/users",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:356,columnNumber:26},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:354,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"users/:id",element:e.jsxDEV(Cs,{to:"/admin/users",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:360,columnNumber:26},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:358,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"permissions",element:e.jsxDEV(Cs,{to:"/admin/permissions",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:364,columnNumber:26},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:362,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV(Ae,{path:"/login",element:e.jsxDEV(Cs,{to:"/auth/login",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:369,columnNumber:43},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:369,columnNumber:13},void 0),e.jsxDEV(Ae,{path:"*",element:e.jsxDEV(Cs,{to:"/auth/login",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:370,columnNumber:38},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:370,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:140,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:139,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:138,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:137,columnNumber:5},void 0)),Ji=({message:s,type:t,duration:r=3e3,onClose:u})=>{const[m,E]=i.useState(!0);if(i.useEffect(()=>{const h=setTimeout(()=>{E(!1),u&&u()},r);return()=>clearTimeout(h)},[r,u]),!m)return null;const x={success:"bg-success-500",error:"bg-danger-500",info:"bg-primary-500",warning:"bg-warning-500"}[t],B={success:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:40,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:39,columnNumber:7},void 0),error:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:45,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:44,columnNumber:7},void 0),info:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:50,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:49,columnNumber:7},void 0),warning:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:55,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:54,columnNumber:7},void 0)};return e.jsxDEV("div",{className:"fixed bottom-4 right-4 z-50 flex items-center p-4 mb-4 rounded-lg shadow-lg text-white animate-slideIn-right min-w-64 max-w-md",children:[e.jsxDEV("div",{className:`flex items-center justify-center rounded-full p-2 ${x}`,children:B[t]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:62,columnNumber:7},void 0),e.jsxDEV("div",{className:"ml-3 text-sm font-medium",children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:65,columnNumber:7},void 0),e.jsxDEV("button",{onClick:()=>{E(!1),u&&u()},className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex h-8 w-8 text-white hover:bg-white hover:bg-opacity-20",children:[e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:77,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:76,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:68,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:61,columnNumber:5},void 0)},Xi=i.createContext(void 0),pa=({children:s})=>{const[t,r]=i.useState([]),u=(E,x)=>{const B=Math.random().toString(36).substring(2,9);r(h=>[...h,{id:B,message:E,type:x}])},m=E=>{r(x=>x.filter(B=>B.id!==E))};return e.jsxDEV(Xi.Provider,{value:{toasts:t,addToast:u,removeToast:m},children:[s,e.jsxDEV("div",{className:"toast-container",children:t.map(E=>e.jsxDEV(Ji,{message:E.message,type:E.type,onClose:()=>m(E.id)},E.id,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:50,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:48,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:46,columnNumber:5},void 0)},Zi=()=>{const s=document.getElementById("splash-screen");s&&(s.style.opacity="0",setTimeout(()=>{s.style.display="none"},500))},en=()=>e.jsxDEV(Ma,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxDEV(pa,{children:e.jsxDEV(Ki,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:32,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:31,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:25,columnNumber:3},void 0);ga.createRoot(document.getElementById("root")).render(e.jsxDEV(vs.StrictMode,{children:e.jsxDEV(pa,{children:e.jsxDEV(en,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:40,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:38,columnNumber:3},void 0));setTimeout(Zi,1e3);
//# sourceMappingURL=index-BB50JTR2.js.map
