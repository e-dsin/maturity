var mi=Object.defineProperty;var ui=(i,t,n)=>t in i?mi(i,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[t]=n;var ur=(i,t,n)=>ui(i,typeof t!="symbol"?t+"":t,n);import{r as a,c as e,b as gs}from"./react-CW6gyLGC.js";import{a as ci}from"./react-dom-VufzJFnG.js";import{L as $r,u as bi,B as fi}from"./react-router-dom-C1NkVR1J.js";import{u as Ga,a as Qa,B as r,C as Ni,A as xi,T as ta,I as Ie,M as pi,b as s,c as ie,d as Ss,e as Ca,L as Ci,D as Ha,f as hi,g as ss,h as hs,P as Xs,i as gi,j as Aa,k as Ya,l as Gr,m as rr,Q as Ma,n as Ur,o as xs,S as jr,p as yi,q as Ka,r as us,s as Or,t as Is,v as is,E as vi,w as Ws,x as _a,y as ze,z as Ce,F as fe,G as ne,H as P,J as Pe,K as Ei,N as Qr,O as ge,R as Ee,U as ys,V as Vr,W as gr,X as Ar,Y as ar,Z as ir,_ as as,$ as vs,a0 as Ja,a1 as js,a2 as Xa,a3 as d,a4 as ha,a5 as Mi,a6 as Di,a7 as ts,a8 as Ds,a9 as cs,aa as bs,ab as fs,ac as $e,ad as Za,ae as Da,af as yr,ag as Hr,ah as Ns,ai as Ke,aj as Yr,ak as Wr,al as Zs,am as Xr,an as Ge,ao as Qe,ap as De,aq as er,ar as Ui,as as pr,at as Ia,au as ji,av as Cr,aw as Vi,ax as Ai,ay as _i,az as ga,aA as Ls,aB as Js,aC as Ii,aD as Si,aE as Kr,aF as ds,aG as os,aH as ls,aI as Te,aJ as h,aK as ms,aL as Cs,aM as vr,aN as Er,aO as Mr,aP as Vs,aQ as Je,aR as es,aS as wi,aT as Os,aU as tr,aV as ei,aW as si,aX as Ri,aY as ya,aZ as va,a_ as sr,a$ as Zr,b0 as ea,b1 as qi,b2 as Sa,b3 as Fi,b4 as ri,b5 as ki,b6 as Li,b7 as Ti,b8 as Pi,b9 as da,ba as sa,bb as zi,bc as $i,bd as Oi,be as wa,bf as Wi,bg as wr,bh as Bi,bi as cr,bj as Gi,bk as Qi,bl as Hi,bm as Rr,bn as oa,bo as la,bp as Yi,bq as Ra,br as Ki,bs as Ji,bt as Xi,bu as Zi,bv as en}from"./@mui-yJ_tduD0.js";import{a4 as ai}from"./date-fns-0_aLd2RI.js";import{a as sn}from"./axios-xsH4HHeE.js";import{b as ns,a as dr,O as ii,g as Gs,h as zs,i as rn,j as Le}from"./react-router-X8OZmSDE.js";import{R as Ts,B as ni,C as Ua,X as ja,Y as Va,T as Jr,L as nr,a as ti,b as Ea,P as an,c as nn,d as ra,e as aa,f as ia,g as na,h as Dr,i as tn,j as dn}from"./recharts-BacKPPsp.js";import{F as qr,a as ma,b as on,c as ua,d as Fr,e as ca,f as kr,g as Lr,h as qa,i as ln,j as mn,k as Fa,l as un}from"./@heroicons-gDIRfMkb.js";import"./scheduler-BdgtklXn.js";import"./@remix-run-DUCO3W-r.js";import"./@emotion-DcY20CWh.js";import"./hoist-non-react-statics-ChoYklYu.js";import"./@babel-BtohYyOd.js";import"./stylis-Blw2ohPC.js";import"./prop-types-BhEpm81J.js";import"./object-assign-Dw8nQtKq.js";import"./react-is-6VGF0abh.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-BFOp6jtI.js";import"./dom-helpers-D0mFdbeO.js";import"./@popperjs-CMBiYTiD.js";import"./lodash-DjiupQAW.js";import"./react-smooth-CGlHDv2K.js";import"./fast-equals-BIyco3rD.js";import"./tiny-invariant-7zSWqrSz.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BfpcI_6t.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))b(m);new MutationObserver(m=>{for(const A of m)if(A.type==="childList")for(const p of A.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&b(p)}).observe(document,{childList:!0,subtree:!0});function n(m){const A={};return m.integrity&&(A.integrity=m.integrity),m.referrerPolicy&&(A.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?A.credentials="include":m.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function b(m){if(m.ep)return;m.ep=!0;const A=n(m);fetch(m.href,A)}})();const cn={minLevel:"DEBUG",sendToServer:!1,serverUrl:"/api/logs",batchSize:10,sendInterval:3e4,includeUserInfo:!0},ka={DEBUG:0,INFO:1,WARN:2,ERROR:3};class bn{constructor(t={}){ur(this,"config");ur(this,"logBuffer",[]);ur(this,"sendTimer",null);ur(this,"sessionId");this.config={...cn,...t},this.sessionId=this.getOrCreateSessionId(),this.config.sendToServer&&(this.startSendTimer(),this.setupUnloadHandler()),this.setupErrorCapture()}getOrCreateSessionId(){let t=sessionStorage.getItem("logSessionId");return t||(t=Date.now().toString(36)+Math.random().toString(36).substring(2),sessionStorage.setItem("logSessionId",t)),t}startSendTimer(){this.sendTimer&&window.clearInterval(this.sendTimer),this.sendTimer=window.setInterval(()=>{this.sendLogs()},this.config.sendInterval)}setupErrorCapture(){window.addEventListener("error",t=>{var n;return this.error("Erreur non gérée",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:(n=t.error)==null?void 0:n.stack}),!1}),window.addEventListener("unhandledrejection",t=>{var n,b;return this.error("Promesse rejetée non gérée",{reason:((n=t.reason)==null?void 0:n.message)||String(t.reason),stack:(b=t.reason)==null?void 0:b.stack}),!1})}async sendLogs(t=!1){if(!this.config.sendToServer||this.logBuffer.length<this.config.batchSize&&!t||this.logBuffer.length===0)return;const n=[...this.logBuffer];this.logBuffer=[];try{const b={sessionId:this.sessionId,batchId:Date.now().toString(36),userAgent:navigator.userAgent,language:navigator.language,screenSize:`${window.innerWidth}x${window.innerHeight}`,userId:localStorage.getItem("userId")||void 0,url:window.location.href,referrer:document.referrer},m=await fetch(this.config.serverUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:n,metadata:b}),signal:AbortSignal.timeout?AbortSignal.timeout(5e3):void 0});m.ok||(console.error(`Échec d'envoi des logs: ${m.status}`),this.logBuffer=[...n,...this.logBuffer])}catch(b){console.error("Erreur lors de l'envoi des logs:",b),this.logBuffer=[...n,...this.logBuffer]}}setupUnloadHandler(){window.addEventListener("beforeunload",()=>{this.sendLogs(!0)})}addLog(t,n,b={}){if(ka[t]<ka[this.config.minLevel])return;const m={level:t,message:n,timestamp:new Date().toISOString(),details:{...b}};switch(this.logBuffer.push(m),t){case"DEBUG":console.debug(`[${t}] ${n}`,b);break;case"INFO":console.info(`[${t}] ${n}`,b);break;case"WARN":console.warn(`[${t}] ${n}`,b);break;case"ERROR":console.error(`[${t}] ${n}`,b),this.sendLogs(!0);break}}debug(t,n={}){this.addLog("DEBUG",t,n)}info(t,n={}){this.addLog("INFO",t,n)}warn(t,n={}){this.addLog("WARN",t,n)}error(t,n={}){this.addLog("ERROR",t,n)}flush(){return this.sendLogs(!0)}setConfig(t){this.config={...this.config,...t},this.config.sendToServer?this.startSendTimer():this.sendTimer&&(window.clearInterval(this.sendTimer),this.sendTimer=null)}logUserAction(t,n={}){this.info(`Action utilisateur: ${t}`,{type:"user_action",action:t,...n})}logNavigation(t,n={}){this.info(`Navigation: ${t}`,{type:"navigation",path:t,...n})}logPerformance(t,n,b={}){this.info(`Performance: ${t} (${n}ms)`,{type:"performance",operation:t,durationMs:n,...b})}logApiCall(t,n,b,m,A={}){const p=b>=400?"ERROR":"INFO";this.addLog(p,`API ${n} ${t}: ${b} (${m}ms)`,{type:"api_call",endpoint:t,method:n,status:b,durationMs:m,...A})}}const Ze=new bn,fn=()=>"https://api-dev.dev-maturity.e-dsin.fr",Bs=fn(),La="/api";console.log("🌐 Configuration API:",{baseURL:Bs,environment:"production",isDev:!0,customUrl:"https://api-dev.dev-maturity.e-dsin.fr"});const Us=sn.create({baseURL:Bs,headers:{"Content-Type":"application/json"},timeout:3e4,withCredentials:!0});Us.interceptors.request.use(i=>{var b;i.metadata={startTime:Date.now()};const t=localStorage.getItem("auth_token");t&&i.headers&&(i.headers.Authorization=`Bearer ${t}`),i.headers&&(i.headers.Accept="application/json",i.headers["Cache-Control"]="no-cache");const n={method:((b=i.method)==null?void 0:b.toUpperCase())||"GET",url:i.url||"unknown",baseURL:i.baseURL,hasToken:!!t};if(i.data)try{const m=typeof i.data=="string"?i.data:JSON.stringify(i.data);n.data=m.substring(0,500)}catch{}return Ze.debug(`API Request: ${n.method} ${n.url}`,n),i},i=>{const t=(i==null?void 0:i.message)||"Erreur inconnue de requête API",n=(i==null?void 0:i.stack)||"";return Ze.error("Erreur de requête API",{message:t,stack:n}),Promise.reject(i)});Us.interceptors.response.use(i=>{var m,A,p;const t=Ta(i.config),n=((m=i.config)==null?void 0:m.url)||"unknown",b=((p=(A=i.config)==null?void 0:A.method)==null?void 0:p.toUpperCase())||"GET";return Ze.info(`API Response: ${b} ${n} - ${i.status}`,{status:i.status,statusText:i.statusText||"",duration:t,size:i.data?JSON.stringify(i.data).length:0,url:n}),i},i=>{var n,b,m,A,p,W,S,O,f,w;const t={url:((n=i.config)==null?void 0:n.url)||"unknown",method:((m=(b=i.config)==null?void 0:b.method)==null?void 0:m.toUpperCase())||"UNKNOWN",status:(A=i.response)==null?void 0:A.status,statusText:((p=i.response)==null?void 0:p.statusText)||"",duration:i.config?Ta(i.config):null,message:(i==null?void 0:i.message)||"Erreur inconnue",baseURL:(W=i.config)==null?void 0:W.baseURL};return((S=i.response)==null?void 0:S.status)===401?(Ze.warn("Session expirée ou non authentifiée",t),localStorage.removeItem("auth_token"),window.location.pathname.includes("/auth/login")||(window.location.href="/auth/login")):((O=i.response)==null?void 0:O.status)===0||i.code==="NETWORK_ERROR"?Ze.error("Erreur de réseau - Backend inaccessible",{...t,type:"NETWORK_ERROR",backendURL:Bs}):((f=i.response)==null?void 0:f.status)>=500?Ze.error("Erreur serveur backend",{...t,type:"SERVER_ERROR"}):Ze.error("Erreur de réponse API",{...t,...((w=i.response)==null?void 0:w.data)&&{response:JSON.stringify(i.response.data).substring(0,500),stack:(i==null?void 0:i.stack)||""}}),Promise.reject(i)});const ks=i=>{if(i.startsWith(La)||["/health","/health-simple"].some(b=>i.startsWith(b)))return i;const n=`${La}${i.startsWith("/")?i:`/${i}`}`;return console.log(`🔄 URL Normalization: "${i}" → "${n}"`),n},Ta=i=>{var t;try{if((t=i==null?void 0:i.metadata)!=null&&t.startTime)return Date.now()-i.metadata.startTime}catch{}return 0},Ps=async(i,t,n,b={})=>{const m=ks(t),A=performance.now();try{const p=await n(),W=performance.now()-A;return W>2e3&&Ze.warn(`API Performance: ${i} ${m} - ${Math.round(W)}ms (SLOW)`,{...b,duration:W,baseURL:Bs}),p}catch(p){throw p}},Nn=async()=>{try{return await Us.get("/health",{timeout:5e3}),Ze.info("✅ Test de connectivité réussi",{backendURL:Bs}),!0}catch(i){return Ze.error("❌ Test de connectivité échoué",{backendURL:Bs,error:i instanceof Error?i.message:"Unknown error"}),!1}},U={testConnection:Nn,getBaseURL:()=>Bs,get:(i,t)=>{const n=ks(i);return Ps("GET",n,()=>Us.get(n,t).then(b=>b.data),{params:t==null?void 0:t.params})},post:(i,t,n)=>{const b=ks(i);return Ps("POST",b,()=>Us.post(b,t,n).then(m=>m.data),{dataSize:t?JSON.stringify(t).length:0})},put:(i,t,n)=>{const b=ks(i);return Ps("PUT",b,()=>Us.put(b,t,n).then(m=>m.data),{dataSize:t?JSON.stringify(t).length:0})},patch:(i,t,n)=>{const b=ks(i);return Ps("PATCH",b,()=>Us.patch(b,t,n).then(m=>m.data),{dataSize:t?JSON.stringify(t).length:0})},delete:(i,t)=>{const n=ks(i);return Ps("DELETE",n,()=>Us.delete(n,t).then(b=>b.data),{})},downloadFile:(i,t)=>{const n=ks(i);return Ps("GET",n,()=>Us.get(n,{...t,responseType:"blob"}).then(b=>b.data),{responseType:"blob"})},uploadFile:(i,t,n)=>{const b=ks(i);return Ps("POST",b,()=>Us.post(b,t,{...n,headers:{...n==null?void 0:n.headers,"Content-Type":"multipart/form-data"}}).then(m=>m.data),{formDataEntries:Array.from(t.keys()).join(",")})}},Br={DASHBOARD:{nom_module:"DASHBOARD",route_base:"/",description:"Tableau de bord principal",icone:"dashboard",ordre:1},QUESTIONNAIRES:{nom_module:"QUESTIONNAIRES",route_base:"/questionnaires",description:"Gestion des questionnaires",icone:"quiz",ordre:2},FORMULAIRES:{nom_module:"FORMULAIRES",route_base:"/formulaires",description:"Gestion des formulaires",icone:"assignment",ordre:3},ANALYSES:{nom_module:"ANALYSES",route_base:"/analyses-fonctions",description:"Analyses et recommandations",icone:"analytics",ordre:4},APPLICATIONS:{nom_module:"APPLICATIONS",route_base:"/applications",description:"Portfolio applications",icone:"apps",ordre:5},ENTREPRISES:{nom_module:"ENTREPRISES",route_base:"/organisations",description:"Gestion des organisations",icone:"business",ordre:6},ADMINISTRATION:{nom_module:"ADMINISTRATION",route_base:"/admin",description:"Administration système",icone:"admin_panel_settings",ordre:10,sous_modules:{USERS:{nom_module:"ADMIN_USERS",route_base:"/admin/users",description:"Gestion des utilisateurs",icone:"people"},PERMISSIONS:{nom_module:"ADMIN_PERMISSIONS",route_base:"/admin/permissions",description:"Gestion des permissions",icone:"security"},ROLES:{nom_module:"ADMIN_ROLES",route_base:"/admin/roles",description:"Gestion des rôles",icone:"account_circle"},MATURITY:{nom_module:"ADMIN_MATURITY",route_base:"/admin/maturity-model",description:"Modèle de maturité",icone:"model_training"},SYSTEM:{nom_module:"ADMIN_SYSTEM",route_base:"/admin/system",description:"Configuration système",icone:"settings"}}}},di=a.createContext({currentUser:null,isAuthenticated:!1,isLoading:!0,login:async()=>{},logout:async()=>{},register:async()=>{},forgotPassword:async()=>{},updateProfile:async()=>{},error:null,permissions:[],hasGlobalAccess:!1,hasPermission:()=>!1,canAccessRoute:()=>!1,canAccessAdminModule:()=>!1,getAccessibleModules:()=>[],getAdminSubModules:()=>[],refreshPermissions:async()=>{},isAdmin:()=>!1,isSuperAdmin:()=>!1,getAllAppModules:()=>Br}),or=()=>a.useContext(di),xn=({children:i})=>{const[t,n]=a.useState(null),[b,m]=a.useState(!1),[A,p]=a.useState(!0),[W,S]=a.useState(null),[O,f]=a.useState([]),[w,Q]=a.useState(!1),q=a.useCallback(c=>{var g;if(!c)return!1;const N=(g=c.nom_role)==null?void 0:g.toUpperCase();return N==="ADMINISTRATEUR"||N==="SUPER_ADMINISTRATEUR"||c.niveau_acces==="GLOBAL"},[]),M=a.useCallback(c=>{var g;return c?((g=c.nom_role)==null?void 0:g.toUpperCase())==="SUPER_ADMINISTRATEUR":!1},[]),T=a.useCallback(()=>{const c=[];return Object.values(Br).forEach(N=>{const g={nom_module:N.nom_module,route_base:N.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0};"sous_modules"in N&&N.sous_modules&&(g.sous_permissions=Object.values(N.sous_modules).map(o=>({nom_module:o.nom_module,route_base:o.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0}))),c.push(g)}),c},[]),$=a.useCallback((c,N)=>{const g=[{nom_module:"DASHBOARD",route_base:"/",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1},{nom_module:"QUESTIONNAIRES",route_base:"/questionnaires",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"FORMULAIRES",route_base:"/formulaires",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"ANALYSES",route_base:"/analyses-fonctions",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1}],o=c==null?void 0:c.toUpperCase();return console.log("🔑 Analyse du rôle:",{nomRole:c,roleUpper:o,niveauAcces:N}),o==="SUPER_ADMINISTRATEUR"||o==="ADMINISTRATEUR"||N==="GLOBAL"?(console.log("🔑 Génération permissions Administrateur (TOUTES PERMISSIONS)"),T()):o==="CONSULTANT"?(console.log("🔑 Génération permissions Consultant (ÉTENDUES)"),g.map(v=>({...v,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!1})).concat([{nom_module:"APPLICATIONS",route_base:"/applications",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"ENTREPRISES",route_base:"/organisations",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1}])):o==="MANAGER"?(console.log("🔑 Génération permissions Manager (MOYENNES)"),g.map(v=>({...v,peut_voir:!0,peut_editer:v.nom_module!=="DASHBOARD",peut_supprimer:!1,peut_administrer:!1})).concat([{nom_module:"APPLICATIONS",route_base:"/applications",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1}])):(console.log("🔑 Génération permissions Intervenant (BASE)"),g)},[T]),_=a.useCallback(async()=>{var c;try{if(p(!0),localStorage.getItem("auth_token")){console.log("🔑 Token trouvé, vérification...");try{const g=await U.get("user/permissions");n(g.user),f(g.permissions||[]),Q(g.hasGlobalAccess||q(g.user)),m(!0),S(null),console.log("✅ Utilisateur authentifié avec système de permissions")}catch{console.log("⚠️ Endpoint permissions non disponible, utilisation /auth/me...");const o=await U.get("auth/me"),v=o.user||((c=o.data)==null?void 0:c.user);v&&(console.log("🔍 Utilisateur depuis /auth/me:",v),n(v),f($(v.nom_role,v.niveau_acces)),Q(q(v)),m(!0),S(null),console.log("✅ Utilisateur authentifié (fallback /auth/me)"))}}else console.log("ℹ️ Aucun token trouvé")}catch(N){console.warn("⚠️ Erreur d'authentification:",N.message),localStorage.removeItem("auth_token"),n(null),f([]),Q(!1),m(!1)}finally{p(!1)}},[q,$]),Y=async(c,N)=>{var g,o,v,B;try{S(null),p(!0),console.log("🔄 === DÉBUT LOGIN ==="),console.log("📧 Email:",c);const L=await U.post("auth/login",{email:c,password:N});if(L.token&&L.user)console.log("🔍 Réponse login complète:",L),console.log("🔍 Utilisateur reçu:",L.user),localStorage.setItem("auth_token",L.token),n(L.user),f($(L.user.nom_role,L.user.niveau_acces)),Q(q(L.user)),m(!0),console.log("✅ === LOGIN RÉUSSI ==="),console.log("👤 Utilisateur:",{email:L.user.email,nom_role:L.user.nom_role,niveau_acces:L.user.niveau_acces,isAdmin:q(L.user),isSuperAdmin:M(L.user)});else throw new Error("Réponse de connexion invalide")}catch(L){console.error("❌ === ERREUR LOGIN ==="),console.error("Message:",((o=(g=L.response)==null?void 0:g.data)==null?void 0:o.message)||L.message);const le=((B=(v=L.response)==null?void 0:v.data)==null?void 0:B.message)||L.message||"Erreur de connexion";throw S(le),new Error(le)}finally{p(!1),console.log("🏁 === FIN LOGIN ===")}},R=async()=>{try{await U.post("auth/logout")}catch(c){console.warn("Erreur lors de la déconnexion:",c)}finally{localStorage.removeItem("auth_token"),n(null),f([]),Q(!1),m(!1),console.log("✅ Déconnexion réussie")}},H=async c=>{var N,g;try{S(null),p(!0);const o=await U.post("auth/register",c);o.token&&o.user&&(localStorage.setItem("auth_token",o.token),n(o.user),f($(o.user.nom_role,o.user.niveau_acces)),Q(q(o.user)),m(!0))}catch(o){const v=((g=(N=o.response)==null?void 0:N.data)==null?void 0:g.message)||"Erreur lors de l'inscription";throw S(v),new Error(v)}finally{p(!1)}},z=async c=>{var N,g;try{S(null),await U.post("auth/forgot-password",{email:c})}catch(o){const v=((g=(N=o.response)==null?void 0:N.data)==null?void 0:g.message)||"Erreur lors de la récupération";throw S(v),new Error(v)}},j=async c=>{var N,g;try{S(null);const o=await U.put("auth/profile",c);o.user&&(n(o.user),Q(q(o.user)))}catch(o){const v=((g=(N=o.response)==null?void 0:N.data)==null?void 0:g.message)||"Erreur lors de la mise à jour";throw S(v),new Error(v)}},X=a.useCallback(()=>q(t),[t,q]),V=a.useCallback(()=>M(t),[t,M]),pe=a.useCallback((c,N)=>{if(q(t)||M(t)||w)return!0;let g=O.find(o=>o.nom_module.toUpperCase()===c.toUpperCase());if(!g){for(const o of O)if(o.sous_permissions&&(g=o.sous_permissions.find(v=>v.nom_module.toUpperCase()===c.toUpperCase()),g))break}if(!g)return!1;switch(N.toLowerCase()){case"voir":case"view":return g.peut_voir;case"editer":case"edit":return g.peut_editer;case"supprimer":case"delete":return g.peut_supprimer;case"administrer":case"admin":return g.peut_administrer;default:return!1}},[t,O,w,q,M]),E=a.useCallback(c=>{if(q(t)||M(t)||w)return!0;const N=c.startsWith("/")?c.substring(1):c,g={"":"DASHBOARD",dashboard:"DASHBOARD",questionnaires:"QUESTIONNAIRES",formulaires:"FORMULAIRES","analyses-fonctions":"ANALYSES","analyses-interpretations":"ANALYSES",applications:"APPLICATIONS",organisations:"ENTREPRISES",admin:"ADMINISTRATION","admin/users":"ADMIN_USERS","admin/permissions":"ADMIN_PERMISSIONS","admin/roles":"ADMIN_ROLES","admin/maturity-model":"ADMIN_MATURITY","admin/system":"ADMIN_SYSTEM",users:"ADMIN_USERS"};let o=null;for(const[v,B]of Object.entries(g))if(N.startsWith(v)){o=B;break}return o?pe(o,"voir"):!1},[t,w,pe,q,M]),Z=a.useCallback(c=>q(t)||M(t)||w?!0:pe(`ADMIN_${c.toUpperCase()}`,"voir"),[t,w,pe,q,M]),Ve=a.useCallback(()=>q(t)||M(t)||w?T():O.filter(c=>c.peut_voir),[t,w,O,T,q,M]),Se=a.useCallback(()=>{var N;if(q(t)||M(t)||w){const g=Br.ADMINISTRATION;if(g.sous_modules)return Object.values(g.sous_modules).map(o=>({nom_module:o.nom_module,route_base:o.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0}))}const c=O.find(g=>g.nom_module==="ADMINISTRATION");return((N=c==null?void 0:c.sous_permissions)==null?void 0:N.filter(g=>g.peut_voir))||[]},[t,w,O,q,M]),u=a.useCallback(async()=>{b&&await _()},[b,_]),y=a.useCallback(()=>Br,[]);a.useEffect(()=>{_()},[_]);const D={currentUser:t,isAuthenticated:b,isLoading:A,login:Y,logout:R,register:H,forgotPassword:z,updateProfile:j,error:W,permissions:O,hasGlobalAccess:w,hasPermission:pe,canAccessRoute:E,canAccessAdminModule:Z,getAccessibleModules:Ve,getAdminSubModules:Se,refreshPermissions:u,isAdmin:X,isSuperAdmin:V,getAllAppModules:y};return e.jsxDEV(di.Provider,{value:D,children:i},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/contexts/AuthContext.tsx",lineNumber:666,columnNumber:5},void 0)},Ys=300,pn=()=>{const i=Ga(),t=Qa(i.breakpoints.down("md")),[n,b]=a.useState(!t),[m,A]=a.useState(!1),[p,W]=a.useState(!1),S=ns(),O=dr(),{currentUser:f,hasPermission:w,canAccessRoute:Q,canAccessAdminModule:q,isAdmin:M,isSuperAdmin:T,logout:$,getAdminSubModules:_}=or(),Y=[{text:"Dashboard",icon:e.jsxDEV(gi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:92,columnNumber:13},void 0),path:"/",module:"DASHBOARD",action:"voir"},{text:"Analyses & Recommandations",icon:e.jsxDEV(Gr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:101,columnNumber:13},void 0),module:"ANALYSES",action:"voir",subItems:[{text:"Vue Entreprise",icon:e.jsxDEV(Aa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:107,columnNumber:17},void 0),path:"/analyses-interpretations-entreprises",module:"ANALYSES",action:"voir"},{text:"Vue par Fonctions",icon:e.jsxDEV(Ya,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:114,columnNumber:17},void 0),path:"/analyses-interpretations-functions",module:"ANALYSES",action:"voir"}]},{text:"Formulaires",icon:e.jsxDEV(rr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:125,columnNumber:13},void 0),path:"/forms",module:"FORMULAIRES",action:"voir"},{text:"Questionnaires",icon:e.jsxDEV(Ma,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:132,columnNumber:13},void 0),path:"/questionnaires",module:"QUESTIONNAIRES",action:"voir"},{text:"Applications",icon:e.jsxDEV(Ur,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:139,columnNumber:13},void 0),path:"/applications",module:"APPLICATIONS",action:"voir"},{text:"Organisations",icon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:146,columnNumber:13},void 0),path:"/organisations",module:"ENTREPRISES",action:"voir"},{text:"",icon:e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:155,columnNumber:13},void 0),divider:!0},{text:"Administration",icon:e.jsxDEV(Ca,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:162,columnNumber:13},void 0),module:"ADMINISTRATION",action:"voir",adminOnly:!0,subItems:[{text:"Gestion des Utilisateurs",icon:e.jsxDEV(Xs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:169,columnNumber:17},void 0),path:"/administration",module:"ADMIN_USERS",action:"voir"},{text:"Gestion des Entreprises",icon:e.jsxDEV(Aa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:176,columnNumber:17},void 0),path:"/administration",module:"ADMINISTRATION",action:"voir",newFeature:!0},{text:"Permissions & Rôles",icon:e.jsxDEV(jr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:184,columnNumber:17},void 0),path:"/administration",module:"ADMIN_PERMISSIONS",action:"voir"},{text:"Modèle de Maturité",icon:e.jsxDEV(yi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:191,columnNumber:17},void 0),path:"/maturity-model-admin",module:"ADMIN_MATURITY",action:"voir"},{text:"Configuration Système",icon:e.jsxDEV(Ka,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:198,columnNumber:17},void 0),path:"/administration",module:"ADMIN_SYSTEM",action:"voir"}]}],R=()=>{b(!n)},H=y=>{S(y),t&&b(!1)},z=()=>{W(!p)},j=()=>{A(!m)},X=async()=>{try{await $(),S("/auth/login")}catch(y){console.error("Erreur lors de la déconnexion:",y)}},V=y=>y.adminOnly&&!M()&&!T()?!1:y.module&&y.action?w(y.module,y.action):y.path?Q(y.path):!0,pe=y=>y.path?y.path==="/administration"&&O.pathname.startsWith("/administration")?!0:O.pathname===y.path||O.pathname.startsWith(y.path+"/"):!1,E=()=>O.pathname.includes("analyses")||O.pathname.includes("calculate-score"),Z=()=>O.pathname.startsWith("/administration")||O.pathname.startsWith("/maturity-model-admin"),Ve=(y,D=!1)=>{if(y.divider)return e.jsxDEV(ss,{sx:{my:1}},"divider",!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:280,columnNumber:14},void 0);if(!V(y))return null;const c=pe(y),N=y.subItems&&y.subItems.length>0;return e.jsxDEV(us,{disablePadding:!0,sx:{pl:D?2:0},children:e.jsxDEV(Or,{selected:c&&!N,onClick:()=>{N?y.text==="Administration"?j():y.text==="Analyses & Recommandations"&&z():y.path&&H(y.path)},sx:{borderRadius:1,mx:1,mb:.5,minHeight:48,...c&&!N&&{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"},"& .MuiListItemIcon-root":{color:"primary.contrastText"}}},children:[e.jsxDEV(Is,{sx:{minWidth:40},children:y.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:322,columnNumber:11},void 0),e.jsxDEV(is,{primary:e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxDEV(s,{variant:"body2",sx:{fontWeight:c&&!N?600:400},children:y.text},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:328,columnNumber:17},void 0),e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:.5},children:[y.newFeature&&e.jsxDEV(ie,{label:"Nouveau",size:"small",color:"success",sx:{height:18,fontSize:"0.65rem",fontWeight:600}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:333,columnNumber:21},void 0),y.badge&&e.jsxDEV(ie,{label:y.badge,size:"small",color:"primary",sx:{height:18,fontSize:"0.65rem",fontWeight:600,...c&&!N&&{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:345,columnNumber:21},void 0),y.adminOnly&&e.jsxDEV(ie,{label:"Admin",size:"small",color:"secondary",sx:{height:18,fontSize:"0.65rem",...c&&!N&&{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:361,columnNumber:21},void 0),N&&(y.text==="Administration"&&m||y.text==="Analyses & Recommandations"&&p?e.jsxDEV(vi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:378,columnNumber:21},void 0):e.jsxDEV(Ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:378,columnNumber:38},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:331,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:327,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:325,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:292,columnNumber:9},void 0)},y.text,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:291,columnNumber:7},void 0)},Se=()=>{const y=Y.find(D=>D.text==="Analyses & Recommandations");return!y||!y.subItems?null:e.jsxDEV(_a,{in:p,timeout:"auto",unmountOnExit:!0,children:e.jsxDEV(hs,{component:"div",disablePadding:!0,children:y.subItems.map(D=>{if(!V(D))return null;const c=pe(D);return e.jsxDEV(us,{disablePadding:!0,sx:{pl:2},children:e.jsxDEV(Or,{selected:c,onClick:()=>D.path&&H(D.path),sx:{borderRadius:1,mx:1,mb:.5,minHeight:40,backgroundColor:c?"primary.main":"transparent",color:c?"primary.contrastText":"inherit","&:hover":{backgroundColor:c?"primary.dark":"rgba(0, 0, 0, 0.04)"},...c&&{"& .MuiListItemIcon-root":{color:"primary.contrastText"}}},children:[e.jsxDEV(Is,{sx:{minWidth:40,ml:1},children:D.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:424,columnNumber:19},void 0),e.jsxDEV(is,{primary:e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxDEV(s,{variant:"body2",sx:{fontWeight:c?600:400,fontSize:"0.875rem"},children:D.text},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:430,columnNumber:25},void 0),e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:.5},children:[D.newFeature&&e.jsxDEV(ie,{label:"Nouveau",size:"small",color:"success",sx:{height:16,fontSize:"0.6rem",fontWeight:600,...c&&{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:435,columnNumber:29},void 0),D.badge&&e.jsxDEV(ie,{label:D.badge,size:"small",color:"primary",sx:{height:16,fontSize:"0.6rem",fontWeight:600,...c&&{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:451,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:433,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:429,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:427,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:404,columnNumber:17},void 0)},D.text,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:403,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:396,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:395,columnNumber:7},void 0)},u=()=>{const y=Y.find(D=>D.text==="Administration");return!y||!y.subItems?null:e.jsxDEV(_a,{in:m,timeout:"auto",unmountOnExit:!0,children:e.jsxDEV(hs,{component:"div",disablePadding:!0,children:y.subItems.map(D=>{if(!V(D))return null;const c=pe(D);return e.jsxDEV(us,{disablePadding:!0,sx:{pl:2},children:e.jsxDEV(Or,{selected:c,onClick:()=>D.path&&H(D.path),sx:{borderRadius:1,mx:1,mb:.5,minHeight:40,backgroundColor:c?"primary.main":"transparent",color:c?"primary.contrastText":"inherit","&:hover":{backgroundColor:c?"primary.dark":"rgba(0, 0, 0, 0.04)"},...c&&{"& .MuiListItemIcon-root":{color:"primary.contrastText"}}},children:[e.jsxDEV(Is,{sx:{minWidth:40,ml:1},children:D.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:514,columnNumber:19},void 0),e.jsxDEV(is,{primary:e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxDEV(s,{variant:"body2",sx:{fontWeight:c?600:400,fontSize:"0.875rem"},children:D.text},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:520,columnNumber:25},void 0),D.newFeature&&e.jsxDEV(ie,{label:"Nouveau",size:"small",color:"success",sx:{height:16,fontSize:"0.6rem",fontWeight:600,...c&&{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:524,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:519,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:517,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:494,columnNumber:17},void 0)},D.text,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:493,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:486,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:485,columnNumber:7},void 0)};return gs.useEffect(()=>{E()&&W(!0),Z()&&A(!0)},[O.pathname]),e.jsxDEV(r,{sx:{display:"flex"},children:[e.jsxDEV(Ni,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:563,columnNumber:7},void 0),e.jsxDEV(xi,{position:"fixed",sx:{zIndex:i.zIndex.drawer+1,width:{sm:n?`calc(100% - ${Ys}px)`:"100%"},ml:{sm:n?`${Ys}px`:0},transition:i.transitions.create(["width","margin"],{easing:i.transitions.easing.sharp,duration:i.transitions.duration.leavingScreen})},children:e.jsxDEV(ta,{children:[e.jsxDEV(Ie,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:R,sx:{mr:2},children:e.jsxDEV(pi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:584,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:577,columnNumber:11},void 0),e.jsxDEV(s,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"Plateforme d'Évaluation de Maturité DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:586,columnNumber:11},void 0),e.jsxDEV(ie,{label:"V2",color:"success",size:"small",sx:{mr:2,fontWeight:600,display:{xs:"none",sm:"flex"}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:591,columnNumber:11},void 0),e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxDEV(r,{sx:{textAlign:"right",display:{xs:"none",sm:"block"}},children:[e.jsxDEV(s,{variant:"body2",sx:{opacity:.9},children:f==null?void 0:f.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:605,columnNumber:15},void 0),e.jsxDEV(s,{variant:"caption",sx:{opacity:.7},children:[(f==null?void 0:f.nom_role)||(f==null?void 0:f.role)," - ",f==null?void 0:f.organisation]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:608,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:604,columnNumber:13},void 0),(M()||T())&&e.jsxDEV(Ss,{color:"secondary",variant:"dot",children:e.jsxDEV(Ca,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:615,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:614,columnNumber:15},void 0),e.jsxDEV(Ie,{color:"inherit",onClick:X,title:"Déconnexion",children:e.jsxDEV(Ci,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:624,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:619,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:603,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:576,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:564,columnNumber:7},void 0),e.jsxDEV(Ha,{variant:t?"temporary":"permanent",open:n,onClose:()=>b(!1),sx:{width:Ys,flexShrink:0,"& .MuiDrawer-paper":{width:Ys,boxSizing:"border-box",...t&&{boxShadow:i.shadows[8]}}},children:[e.jsxDEV(ta,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2},children:[e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1},children:e.jsxDEV("img",{src:"/logo_stdigital.svg",alt:"Logo",style:{height:32,width:"auto"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:655,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:654,columnNumber:11},void 0),e.jsxDEV(Ie,{onClick:R,children:e.jsxDEV(hi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:663,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:662,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:646,columnNumber:9},void 0),e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:666,columnNumber:9},void 0),e.jsxDEV(r,{sx:{overflow:"auto",flex:1},children:e.jsxDEV(hs,{component:"nav",sx:{px:1,py:2},children:Y.map(y=>y.text==="Analyses & Recommandations"?e.jsxDEV(gs.Fragment,{children:[Ve(y),Se()]},"analyses",!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:674,columnNumber:19},void 0):y.text==="Administration"?e.jsxDEV(gs.Fragment,{children:[Ve(y),u()]},"administration",!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:682,columnNumber:19},void 0):Ve(y))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:669,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:668,columnNumber:9},void 0),e.jsxDEV(r,{sx:{p:2,borderTop:"1px solid",borderColor:"divider"},children:[e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.jsxDEV(Xs,{sx:{fontSize:16,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:696,columnNumber:13},void 0),e.jsxDEV(s,{variant:"caption",sx:{color:"text.secondary"},children:"Connecté en tant que:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:697,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:695,columnNumber:11},void 0),e.jsxDEV(s,{variant:"body2",sx:{fontWeight:600,mb:.5},children:f==null?void 0:f.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:701,columnNumber:11},void 0),e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxDEV(s,{variant:"caption",sx:{color:"text.secondary"},children:(f==null?void 0:f.nom_role)||(f==null?void 0:f.role)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:705,columnNumber:13},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:.5},children:[(M()||T())&&e.jsxDEV(ie,{label:"Admin",size:"small",color:"primary",sx:{height:16,fontSize:"0.65rem"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:710,columnNumber:17},void 0),e.jsxDEV(ie,{label:"V2",size:"small",color:"success",sx:{height:16,fontSize:"0.65rem"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:717,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:708,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:704,columnNumber:11},void 0),(f==null?void 0:f.nom_entreprise)&&e.jsxDEV(s,{variant:"caption",sx:{color:"text.secondary",display:"block",mt:.5},children:["📍 ",f.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:728,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:694,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:630,columnNumber:7},void 0),e.jsxDEV(r,{component:"main",sx:{flexGrow:1,p:3,width:{sm:`calc(100% - ${n?Ys:0}px)`},ml:{sm:n?`${Ys}px`:0},transition:i.transitions.create("margin",{easing:i.transitions.easing.sharp,duration:i.transitions.duration.leavingScreen})},children:[e.jsxDEV(ta,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:748,columnNumber:9},void 0)," ",e.jsxDEV(ii,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:749,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:735,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:562,columnNumber:5},void 0)},Cn=({children:i})=>{const t=dr(),n=Ga(),b=Qa(n.breakpoints.down("sm")),m=t.pathname.includes("/auth/enterprise-registration"),A=t.pathname.includes("/maturity-evaluation"),p=()=>m?"md":A?"lg":"sm";return e.jsxDEV(r,{sx:{minHeight:"100vh",backgroundColor:"grey.50",display:"flex",flexDirection:"column",justifyContent:"center",py:{xs:2,sm:4},px:{xs:1,sm:2}},children:[e.jsxDEV(ze,{maxWidth:"sm",sx:{textAlign:"center",mb:4},children:[e.jsxDEV($r,{to:"/",style:{textDecoration:"none"},children:e.jsxDEV(r,{component:"img",src:"/logo_stdigital.svg",alt:"Plateforme Évaluation Maturité DSIN",sx:{height:{xs:40,sm:48},width:"auto",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:41,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:40,columnNumber:9},void 0),e.jsxDEV(r,{children:[e.jsxDEV(r,{component:"h1",sx:{fontSize:{xs:"1.5rem",sm:"1.875rem"},fontWeight:800,color:"grey.900",mb:1,mt:0},children:"Plateforme d'Évaluation Maturité DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:54,columnNumber:11},void 0),m&&e.jsxDEV(r,{component:"p",sx:{fontSize:"0.875rem",color:"grey.600",mt:1,mb:0},children:"Créez votre compte entreprise et évaluez votre maturité DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:69,columnNumber:13},void 0),!m&&!A&&e.jsxDEV(r,{component:"p",sx:{fontSize:"0.875rem",color:"grey.600",mt:1,mb:0},children:"Accédez à votre plateforme de maturité numérique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:83,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:53,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:39,columnNumber:7},void 0),e.jsxDEV(ze,{maxWidth:p(),children:e.jsxDEV(Ce,{elevation:b?1:3,sx:{py:{xs:3,sm:4},px:{xs:2,sm:4},borderRadius:2,backgroundColor:"white",boxShadow:b?"0 1px 3px rgba(0, 0, 0, 0.1)":"0 10px 25px rgba(0, 0, 0, 0.1)"},children:e.jsxDEV(ii,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:113,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:100,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:99,columnNumber:7},void 0),e.jsxDEV(ze,{maxWidth:"sm",sx:{textAlign:"center",mt:4},children:[e.jsxDEV(r,{component:"p",sx:{fontSize:"0.75rem",color:"grey.500",mb:0},children:"© ST Digital 2025 - All rights reserved"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:119,columnNumber:9},void 0),e.jsxDEV(r,{component:"p",sx:{fontSize:"0.7rem",color:"grey.400",mt:1,mb:0,fontStyle:"italic"},children:"Platform V2.0 • Powered by Mundo Archi"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:131,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:118,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:27,columnNumber:5},void 0)},hn=()=>{var q,M;const i=ns(),t=dr(),{login:n}=or(),[b,m]=a.useState({email:"",password:""}),[A,p]=a.useState(!1),[W,S]=a.useState(""),O=((M=(q=t.state)==null?void 0:q.from)==null?void 0:M.pathname)||"/",f=T=>{const{name:$,value:_}=T.target;m(Y=>({...Y,[$]:_}))},w=async T=>{var $,_;T.preventDefault(),p(!0),S("");try{await n(b.email,b.password),i(O,{replace:!0})}catch(Y){console.error("Erreur de connexion:",Y),S(((_=($=Y.response)==null?void 0:$.data)==null?void 0:_.message)||"Email ou mot de passe incorrect")}finally{p(!1)}},Q=b.email.trim()!==""&&b.password.trim()!=="";return e.jsxDEV(r,{children:[e.jsxDEV(r,{component:"form",onSubmit:w,noValidate:!0,children:[e.jsxDEV(s,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",color:"primary",children:"Connexion"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:79,columnNumber:9},void 0),e.jsxDEV(s,{variant:"body2",align:"center",color:"text.secondary",sx:{mb:3},children:"Accédez à votre plateforme d'évaluation de maturité DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:83,columnNumber:9},void 0),W&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:W},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:88,columnNumber:11},void 0),e.jsxDEV(ne,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Adresse e-mail",name:"email",autoComplete:"email",autoFocus:!0,value:b.email,onChange:f,disabled:A,placeholder:"votre.email@entreprise.com"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:93,columnNumber:9},void 0),e.jsxDEV(ne,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"current-password",value:b.password,onChange:f,disabled:A},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:108,columnNumber:9},void 0),e.jsxDEV(P,{type:"submit",fullWidth:!0,variant:"contained",disabled:!Q||A,startIcon:A?e.jsxDEV(Pe,{size:20},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:127,columnNumber:32},void 0):e.jsxDEV(Ei,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:127,columnNumber:65},void 0),sx:{mt:3,mb:2,py:1.5},children:A?"Connexion...":"Se connecter"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:122,columnNumber:9},void 0),e.jsxDEV(r,{sx:{textAlign:"center",mb:3},children:e.jsxDEV(Qr,{component:$r,to:"/auth/forgot-password",variant:"body2",sx:{color:"text.secondary",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"Mot de passe oublié ?"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:135,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:134,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:78,columnNumber:7},void 0),e.jsxDEV(ss,{sx:{my:3},children:e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"ou"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:148,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:147,columnNumber:7},void 0),e.jsxDEV(ge,{variant:"outlined",sx:{backgroundColor:"rgba(25, 118, 210, 0.02)",border:"1px solid rgba(25, 118, 210, 0.1)"},children:e.jsxDEV(Ee,{sx:{textAlign:"center",py:3},children:[e.jsxDEV(r,{sx:{display:"flex",justifyContent:"center",mb:2},children:e.jsxDEV(xs,{color:"primary",sx:{fontSize:40}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:157,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:156,columnNumber:11},void 0),e.jsxDEV(s,{variant:"h6",gutterBottom:!0,color:"primary",children:"Nouvelle entreprise ?"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:160,columnNumber:11},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Créez votre compte entreprise et bénéficiez d'une évaluation complète de votre maturité DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:164,columnNumber:11},void 0),e.jsxDEV(r,{sx:{display:"flex",justifyContent:"center",gap:1,mb:3,flexWrap:"wrap"},children:[e.jsxDEV(ie,{icon:e.jsxDEV(ys,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:171,columnNumber:21},void 0),label:"Évaluation gratuite",variant:"outlined",color:"primary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:170,columnNumber:13},void 0),e.jsxDEV(ie,{label:"30 questions expertes",variant:"outlined",color:"primary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:177,columnNumber:13},void 0),e.jsxDEV(ie,{label:"Recommandations personnalisées",variant:"outlined",color:"primary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:183,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:169,columnNumber:11},void 0),e.jsxDEV(P,{component:$r,to:"/auth/enterprise-registration",variant:"contained",size:"large",startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:197,columnNumber:24},void 0),sx:{mb:2,minWidth:240,py:1.2,fontSize:"1rem",fontWeight:600},children:"Créer un compte entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:192,columnNumber:11},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",sx:{display:"block",fontStyle:"italic",opacity:.8},children:"✨ Évaluation de maturité DSIN • 5 fonctions • Résultats immédiats ✨"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:210,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:155,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:154,columnNumber:7},void 0),e.jsxDEV(r,{sx:{textAlign:"center",mt:3},children:e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:["Vous avez déjà un compte d'entreprise créé ?"," ",e.jsxDEV(Qr,{component:$r,to:"/auth/login",sx:{color:"primary.main",textDecoration:"none",fontWeight:600,"&:hover":{textDecoration:"underline"}},children:"Utilisez le formulaire ci-dessus"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:224,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:222,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:221,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:76,columnNumber:5},void 0)},be=[{label:"Informations entreprise",icon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:67,columnNumber:45},void 0),color:"#0B4E87",description:"Données complètes de l'entreprise"},{label:"Manager du compte",icon:e.jsxDEV(js,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:68,columnNumber:39},void 0),color:"#C55A57",description:"Administrateur principal"},{label:"Équipe d'évaluation",icon:e.jsxDEV(Xa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:69,columnNumber:42},void 0),color:"#7E64A8",description:"Membres participants"},{label:"Résumé & Liens",icon:e.jsxDEV(Gr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:70,columnNumber:36},void 0),color:"#09C4B8",description:"Génération des évaluations"}],gn=["Banque/Finance","Assurance","Industrie","Commerce/Distribution","AgroPastoral","Santé","Éducation","Administration publique","Transport/Logistique","Énergie/Utilities","Télécommunications","Services et conseils","Autre"],ba=[{value:"TPE",label:"TPE - Très Petite Entreprise",description:"Moins de 10 salariés",minEffectif:1,maxEffectif:9,color:"#A9C255"},{value:"PME",label:"PME - Petite et Moyenne Entreprise",description:"10 à 249 salariés",minEffectif:10,maxEffectif:249,color:"#4AACC5"},{value:"ETI",label:"ETI - Entreprise de Taille Intermédiaire",description:"250 à 4 999 salariés",minEffectif:250,maxEffectif:4999,color:"#7E64A8"},{value:"GE",label:"GE - Grande Entreprise",description:"5 000 salariés et plus",minEffectif:5e3,maxEffectif:1/0,color:"#C55A57"}],Pa=()=>{const i=ns(),[t,n]=a.useState(0),[b,m]=a.useState(!1),[A,p]=a.useState(""),[W,S]=a.useState(!1),[O,f]=a.useState(!1),[w,Q]=a.useState({}),[q,M]=a.useState([]),[T,$]=a.useState({nom_prenom:"",email:"",fonction:"",role:"Evaluateur"}),[_,Y]=a.useState(!1),[R,H]=a.useState(null),z=o=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(o),j=(o,v)=>{if(!o||!v||o==="")return;const B=ba.find(le=>le.value===v),L=Number(o);B&&L>0&&(L<B.minEffectif||L>B.maxEffectif?Q(le=>({...le,effectif_coherence:`L'effectif ${L} ne correspond pas à la taille "${B.label}" (${B.description})`})):Q(le=>{const re={...le};return delete re.effectif_coherence,re}))},X=o=>{var v;return((v=ba.find(B=>o>=B.minEffectif&&o<=B.maxEffectif))==null?void 0:v.value)||""},[V,pe]=a.useState({nom_entreprise:"",secteur:"",description:"",adresse:"",telephone:"",email:"",site_web:"",taille_entreprise:"",chiffre_affaires:"",effectif_total:"",ville_siege_social:"",pays_siege_social:"France",manager_nom_prenom:"",manager_email:"",manager_mot_de_passe:""}),E=o=>v=>{const B=v.target.value;pe(L=>({...L,[o]:B})),w[o]&&Q(L=>{const le={...L};return delete le[o],le}),(o==="effectif_total"||o==="taille_entreprise")&&j(o==="effectif_total"?Number(B):V.effectif_total,o==="taille_entreprise"?B:V.taille_entreprise)};a.useEffect(()=>{if(V.effectif_total&&!V.taille_entreprise){const o=X(Number(V.effectif_total));o&&pe(v=>({...v,taille_entreprise:o}))}},[V.effectif_total]);const Z=()=>{if(!T.nom_prenom||!T.email||!T.fonction){p("Veuillez remplir tous les champs pour le membre");return}if(q.some(v=>v.email===T.email)){p("Cette adresse email est déjà utilisée par un autre membre");return}if(!z(T.email)){p("Veuillez saisir un email valide");return}const o={id:`member_${Date.now()}`,...T};M(v=>[...v,o]),$({nom_prenom:"",email:"",fonction:"",role:"Evaluateur"}),Y(!1),p("")},Ve=o=>{M(v=>v.filter(B=>B.id!==o))},Se=async()=>{console.log(`🔍 Validation de l'étape ${t}`);const o={};try{switch(t){case 0:console.log("📋 Validation informations entreprise complètes..."),V.nom_entreprise.trim()||(o.nom_entreprise="Le nom de l'entreprise est obligatoire"),V.secteur||(o.secteur="Veuillez sélectionner un secteur d'activité"),V.email.trim()?z(V.email)||(o.email="Veuillez saisir un email valide"):o.email="L'email est obligatoire",V.description.trim()?V.description.length<20&&(o.description="La description doit contenir au moins 20 caractères"):o.description="Une description de l'entreprise est obligatoire",V.taille_entreprise||(o.taille_entreprise="Veuillez sélectionner la taille de votre entreprise"),(!V.effectif_total||V.effectif_total<=0)&&(o.effectif_total="Veuillez saisir l'effectif total"),V.ville_siege_social.trim()||(o.ville_siege_social="Veuillez saisir la ville du siège social"),j(V.effectif_total,V.taille_entreprise),w.effectif_coherence&&(o.effectif_coherence=w.effectif_coherence);break;case 1:console.log("👤 Validation manager..."),V.manager_nom_prenom.trim()||(o.manager_nom_prenom="Le nom du manager est obligatoire"),V.manager_email.trim()?z(V.manager_email)||(o.manager_email="Veuillez saisir un email valide pour le manager"):o.manager_email="L'email du manager est obligatoire",V.manager_mot_de_passe?V.manager_mot_de_passe.length<8&&(o.manager_mot_de_passe="Le mot de passe doit contenir au moins 8 caractères"):o.manager_mot_de_passe="Le mot de passe est obligatoire";break;case 2:console.log("👥 Validation équipe..."),q.length<2&&(o.team="Vous devez ajouter au moins 2 membres à l'équipe d'évaluation");break;case 3:console.log("📊 Validation résumé (automatique)...");break;default:console.log("❓ Étape inconnue");break}Q(o);const v=Object.keys(o).length===0;return console.log(`✅ Validation étape ${t} terminée:`,v?"SUCCÈS":"ÉCHEC"),v}catch(v){return console.error(`❌ Erreur lors de la validation étape ${t}:`,v),Q({}),!0}},u=async()=>{try{if(console.log(`🚀 Passage à l'étape suivante - Étape actuelle: ${t}`),!await Se()){console.log("❌ Validation échouée:",w);return}t===1?(console.log("🏢 Étape Manager terminée - Création entreprise..."),await D()):t===2&&(console.log("👥 Étape Équipe terminée - Génération des liens..."),await c()),console.log(`➡️ Passage à l'étape ${t+1}`),n(v=>v+1),p("")}catch(o){console.error(`❌ Erreur lors du passage étape ${t}:`,o),p(`Erreur à l'étape ${t+1}: ${o.message||"Erreur inconnue"}`)}},y=()=>{n(o=>o-1),p("")},D=async()=>{var o,v;m(!0);try{console.log("🏢 Création de l'entreprise...",V);const B=await U.post("entreprise-registration",V);console.log("✅ Entreprise créée:",B),H({enterpriseId:B.entreprise.id_entreprise,managerId:B.manager.id_manager,teamMembers:[],evaluationLinks:[]})}catch(B){throw console.error("❌ Erreur lors de la création de l'entreprise:",B),p(((v=(o=B.response)==null?void 0:o.data)==null?void 0:v.message)||"Erreur lors de la création de l'entreprise"),B}finally{m(!1)}},c=async()=>{if(R)try{console.log("🔗 Génération des liens d'évaluation...");const o=[];let v;try{v=(await U.get(`maturity-evaluation/current/${R.enterpriseId}`)).data.id_evaluation||`eval_${R.enterpriseId}_${Date.now()}`}catch{v=`eval_${R.enterpriseId}_${Date.now()}`,await U.post("maturity-evaluation/start",{id_entreprise:R.enterpriseId,id_acteur:R.managerId})}const B=`mgr_${R.enterpriseId}_${R.managerId}_${Date.now()}`,L=await U.post("/evaluation-invite/create",{enterpriseId:R.enterpriseId,actorId:R.managerId,nom_prenom:V.manager_nom_prenom,email:V.manager_email,fonction:"Manager",role:"Manager",token:B,id_evaluation:v});o.push({acteurId:R.managerId,nom_prenom:V.manager_nom_prenom,email:V.manager_email,fonction:"Manager",role:"Manager",evaluationLink:`${window.location.origin}/evaluation-invite/${B}`,isManager:!0,inviteId:L.data.id_invite});for(const le of q){const re=`mbr_${R.enterpriseId}_${le.id}_${Date.now()}`,F=await U.post("/evaluation-invite/create",{enterpriseId:R.enterpriseId,actorId:le.id,nom_prenom:le.nom_prenom,email:le.email,fonction:le.fonction,role:le.role,token:re,id_evaluation:v});o.push({acteurId:le.id,nom_prenom:le.nom_prenom,email:le.email,fonction:le.fonction,role:le.role,evaluationLink:`${window.location.origin}/evaluation-invite/${re}`,isManager:!1,inviteId:F.data.id_invite})}H(le=>({...le,teamMembers:q,evaluationLinks:o})),console.log("✅ Liens d'invitation générés:",o)}catch(o){throw console.error("❌ Erreur lors de la génération des liens:",o),p("Erreur lors de la génération des liens d'évaluation"),o}},N=()=>{switch(t){case 0:return e.jsxDEV(r,{sx:{p:4},children:[e.jsxDEV(r,{sx:{textAlign:"center",mb:4},children:[e.jsxDEV(xs,{sx:{fontSize:48,color:be[0].color,mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:392,columnNumber:17},void 0),e.jsxDEV(s,{variant:"h5",gutterBottom:!0,sx:{color:be[0].color,fontWeight:700},children:"Informations de votre entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:393,columnNumber:17},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Renseignez toutes les informations de votre organisation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:396,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:391,columnNumber:15},void 0),e.jsxDEV(d,{container:!0,spacing:4,children:[w.effectif_coherence&&e.jsxDEV(d,{size:12,children:e.jsxDEV(fe,{severity:"warning",icon:e.jsxDEV(Xr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:405,columnNumber:53},void 0),children:w.effectif_coherence},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:405,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:404,columnNumber:19},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(s,{variant:"h6",gutterBottom:!0,sx:{color:be[0].color,mb:3},children:"📋 Informations de base"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:413,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:412,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{required:!0,fullWidth:!0,label:"Nom de l'entreprise",value:V.nom_entreprise,onChange:E("nom_entreprise"),error:!!w.nom_entreprise,helperText:w.nom_entreprise,InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(xs,{sx:{color:be[0].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:430,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:429,columnNumber:25},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:419,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:418,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV($e,{required:!0,fullWidth:!0,error:!!w.secteur,sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}},children:[e.jsxDEV(Ge,{children:"Secteur d'activité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:463,columnNumber:21},void 0),e.jsxDEV(Qe,{value:V.secteur,onChange:E("secteur"),label:"Secteur d'activité",children:gn.map(o=>e.jsxDEV(De,{value:o,children:o},o,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:470,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:464,columnNumber:21},void 0),w.secteur&&e.jsxDEV(er,{children:w.secteur},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:476,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:448,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:447,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{required:!0,fullWidth:!0,type:"email",label:"Email entreprise",value:V.email,onChange:E("email"),error:!!w.email,helperText:w.email,InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Yr,{sx:{color:be[0].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:494,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:493,columnNumber:25},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:482,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:481,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{fullWidth:!0,label:"Téléphone",value:V.telephone,onChange:E("telephone"),placeholder:"+237 699 45 67 89",InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Ui,{sx:{color:be[0].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:521,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:520,columnNumber:25},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:512,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:511,columnNumber:17},void 0),e.jsxDEV(d,{size:12,children:[e.jsxDEV(ne,{required:!0,fullWidth:!0,multiline:!0,rows:4,label:"Description de l'entreprise",value:V.description,onChange:E("description"),placeholder:"Décrivez votre entreprise, ses activités principales, sa mission et ses objectifs stratégiques...",error:!!w.description,helperText:w.description||"Minimum 20 caractères requis",sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:539,columnNumber:19},void 0),e.jsxDEV(r,{sx:{mt:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:["Caractères: ",V.description.length]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:562,columnNumber:21},void 0),e.jsxDEV(ie,{size:"small",label:V.description.length>=100?"✓ Suffisant":"Trop court",color:V.description.length>=100?"success":"warning"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:565,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:561,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:538,columnNumber:17},void 0),e.jsxDEV(d,{size:12,children:[e.jsxDEV(ss,{sx:{my:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:575,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h6",gutterBottom:!0,sx:{color:be[0].color,mb:3},children:"🏢 Détails complémentaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:576,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:574,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV($e,{required:!0,fullWidth:!0,error:!!w.taille_entreprise,sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}},children:[e.jsxDEV(Ge,{children:"Taille de l'entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:597,columnNumber:21},void 0),e.jsxDEV(Qe,{value:V.taille_entreprise,onChange:E("taille_entreprise"),label:"Taille de l'entreprise",children:ba.map(o=>e.jsxDEV(De,{value:o.value,children:e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[e.jsxDEV(r,{sx:{width:12,height:12,backgroundColor:o.color,borderRadius:"50%",mr:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:606,columnNumber:29},void 0),e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"body1",fontWeight:"bold",children:o.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:616,columnNumber:31},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:o.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:619,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:615,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:605,columnNumber:27},void 0)},o.value,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:604,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:598,columnNumber:21},void 0),w.taille_entreprise&&e.jsxDEV(er,{children:w.taille_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:628,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:582,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:581,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{required:!0,fullWidth:!0,type:"number",label:"Effectif total",value:V.effectif_total,onChange:E("effectif_total"),placeholder:"150",error:!!w.effectif_total,helperText:w.effectif_total||"Nombre total d'employés dans l'entreprise",InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Xs,{sx:{color:be[0].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:647,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:646,columnNumber:25},void 0),endAdornment:e.jsxDEV(Ke,{position:"end",children:e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"employés"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:652,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:651,columnNumber:25},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:634,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:633,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{fullWidth:!0,type:"number",label:"Chiffre d'affaires annuel (optionnel)",value:V.chiffre_affaires,onChange:E("chiffre_affaires"),placeholder:"5000000",helperText:"En euros - Information optionnelle",InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(pr,{sx:{color:be[0].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:683,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:682,columnNumber:25},void 0),endAdornment:e.jsxDEV(Ke,{position:"end",children:e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"€"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:688,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:687,columnNumber:25},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:672,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:671,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{required:!0,fullWidth:!0,label:"Ville du siège social",value:V.ville_siege_social,onChange:E("ville_siege_social"),placeholder:"Paris",error:!!w.ville_siege_social,helperText:w.ville_siege_social,InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Ia,{sx:{color:be[0].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:720,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:719,columnNumber:25},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:708,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:707,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{fullWidth:!0,label:"Pays du siège social",value:V.pays_siege_social,onChange:E("pays_siege_social"),placeholder:"France",sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:738,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:737,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{fullWidth:!0,label:"Site web",value:V.site_web,onChange:E("site_web"),placeholder:"https://www.entreprise.com",InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(ji,{sx:{color:be[0].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:767,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:766,columnNumber:25},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:758,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:757,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{fullWidth:!0,multiline:!0,rows:2,label:"Adresse complète",value:V.adresse,onChange:E("adresse"),placeholder:"123 Rue de l'Innovation, 75001 Paris, France",InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Ia,{sx:{color:be[0].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:796,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:795,columnNumber:25},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[0].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[0].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:785,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:784,columnNumber:17},void 0),V.taille_entreprise&&V.effectif_total&&e.jsxDEV(d,{size:12,children:e.jsxDEV(ge,{variant:"outlined",sx:{backgroundColor:"rgba(11, 78, 135, 0.05)",border:`1px solid ${be[0].color}`},children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,sx:{color:be[0].color},children:"Récapitulatif de votre entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:818,columnNumber:25},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[e.jsxDEV(ie,{label:`Taille: ${V.taille_entreprise}`,color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:822,columnNumber:27},void 0),e.jsxDEV(ie,{label:`Effectif: ${V.effectif_total} employés`,color:"secondary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:826,columnNumber:27},void 0),V.ville_siege_social&&e.jsxDEV(ie,{label:`Siège: ${V.ville_siege_social}`,variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:831,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:821,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:817,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:816,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:815,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:401,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:390,columnNumber:13},void 0);case 1:return e.jsxDEV(r,{sx:{p:4},children:[e.jsxDEV(r,{sx:{textAlign:"center",mb:4},children:[e.jsxDEV(js,{sx:{fontSize:48,color:be[1].color,mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:849,columnNumber:17},void 0),e.jsxDEV(s,{variant:"h5",gutterBottom:!0,sx:{color:be[1].color,fontWeight:700},children:"Manager du compte"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:850,columnNumber:17},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Cette personne sera l'administrateur principal de votre entreprise sur la plateforme"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:853,columnNumber:17},void 0),e.jsxDEV(fe,{severity:"info",sx:{textAlign:"left"},children:"Le manager pourra inviter d'autres utilisateurs et participera également à l'évaluation de maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:856,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:848,columnNumber:15},void 0),e.jsxDEV(d,{container:!0,spacing:4,justifyContent:"center",children:e.jsxDEV(d,{size:{xs:12,md:8},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{required:!0,fullWidth:!0,label:"Nom et prénom du manager",value:V.manager_nom_prenom,onChange:E("manager_nom_prenom"),placeholder:"Jean Dupont",error:!!w.manager_nom_prenom,helperText:w.manager_nom_prenom,InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(js,{sx:{color:be[1].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:877,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:876,columnNumber:29},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[1].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[1].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:865,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:864,columnNumber:21},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{required:!0,fullWidth:!0,type:"email",label:"Email du manager",value:V.manager_email,onChange:E("manager_email"),placeholder:"jean.dupont@entreprise.com",error:!!w.manager_email,helperText:w.manager_email||"Cette adresse servira pour la connexion à la plateforme",InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Yr,{sx:{color:be[1].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:908,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:907,columnNumber:29},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[1].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[1].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:895,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:894,columnNumber:21},void 0),e.jsxDEV(d,{size:12,children:[e.jsxDEV(ne,{required:!0,fullWidth:!0,type:O?"text":"password",label:"Mot de passe",value:V.manager_mot_de_passe,onChange:E("manager_mot_de_passe"),placeholder:"Minimum 8 caractères",error:!!w.manager_mot_de_passe,helperText:w.manager_mot_de_passe||"Le manager pourra modifier ce mot de passe après connexion",InputProps:{endAdornment:e.jsxDEV(Ke,{position:"end",children:e.jsxDEV(Ie,{onClick:()=>f(!O),edge:"end",children:O?e.jsxDEV(Wr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:943,columnNumber:49},void 0):e.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:943,columnNumber:69},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:939,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:938,columnNumber:29},void 0)},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:be[1].color}},"& .MuiInputLabel-root.Mui-focused":{color:be[1].color}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:926,columnNumber:23},void 0),e.jsxDEV(r,{sx:{mt:1},children:[e.jsxDEV(gr,{variant:"determinate",value:Math.min(V.manager_mot_de_passe.length/8*100,100),color:V.manager_mot_de_passe.length>=8?"success":"warning"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:960,columnNumber:25},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:["Force du mot de passe: ",V.manager_mot_de_passe.length>=8?"Suffisant":"Trop court"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:965,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:959,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:925,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:863,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:862,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:861,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:847,columnNumber:13},void 0);case 2:return e.jsxDEV(r,{sx:{p:4},children:[e.jsxDEV(r,{sx:{textAlign:"center",mb:4},children:[e.jsxDEV(Xa,{sx:{fontSize:48,color:be[2].color,mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:980,columnNumber:17},void 0),e.jsxDEV(s,{variant:"h5",gutterBottom:!0,sx:{color:be[2].color,fontWeight:700},children:"Équipe d'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:981,columnNumber:17},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Ajoutez au moins 2 membres qui participeront à l'évaluation de maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:984,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:979,columnNumber:15},void 0),e.jsxDEV(d,{container:!0,spacing:4,children:[w.team&&e.jsxDEV(d,{size:12,children:e.jsxDEV(fe,{severity:"warning",children:w.team},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:992,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:991,columnNumber:19},void 0),e.jsxDEV(d,{size:12,children:[e.jsxDEV(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsxDEV(s,{variant:"h6",children:["Membres de l'équipe (",q.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:998,columnNumber:21},void 0),e.jsxDEV(P,{variant:"contained",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1003,columnNumber:34},void 0),onClick:()=>Y(!0),sx:{backgroundColor:be[2].color},children:"Ajouter un membre"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1001,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:997,columnNumber:19},void 0),q.length===0?e.jsxDEV(ge,{sx:{p:4,textAlign:"center",backgroundColor:"grey.50"},children:[e.jsxDEV(Xs,{sx:{fontSize:48,color:"grey.400",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1013,columnNumber:23},void 0),e.jsxDEV(s,{variant:"h6",color:"text.secondary",children:"Aucun membre ajouté"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1014,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Ajoutez au moins 2 membres pour continuer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1017,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1012,columnNumber:21},void 0):e.jsxDEV(hs,{children:q.map((o,v)=>e.jsxDEV(us,{divider:!0,children:[e.jsxDEV(Is,{children:e.jsxDEV(js,{sx:{color:be[2].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1026,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1025,columnNumber:27},void 0),e.jsxDEV(is,{primary:o.nom_prenom,secondary:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(s,{variant:"body2",color:"text.secondary",component:"span",children:[o.email," • ",o.fonction]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1032,columnNumber:33},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1035,columnNumber:33},void 0),e.jsxDEV(ie,{size:"small",label:o.role,color:o.role==="Evaluateur"?"primary":"default",sx:{mt:.5}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1036,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1031,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1028,columnNumber:27},void 0),e.jsxDEV(ha,{children:e.jsxDEV(Ie,{onClick:()=>Ve(o.id),color:"error",children:e.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1050,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1046,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1045,columnNumber:27},void 0)]},o.id,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1024,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1022,columnNumber:21},void 0),q.length>0&&q.length<2&&e.jsxDEV(fe,{severity:"warning",sx:{mt:2},children:["Vous devez ajouter au moins ",2-q.length," membre(s) supplémentaire(s)"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1059,columnNumber:21},void 0),q.length>=2&&e.jsxDEV(fe,{severity:"success",sx:{mt:2},children:"✅ Équipe d'évaluation complète ! Des liens d'évaluation seront générés pour tous les membres."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1065,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:996,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:989,columnNumber:15},void 0),e.jsxDEV(cs,{open:_,onClose:()=>Y(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxDEV(bs,{children:"Ajouter un membre à l'équipe"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1074,columnNumber:17},void 0),e.jsxDEV(fs,{children:e.jsxDEV(d,{container:!0,spacing:3,sx:{mt:1},children:[e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{required:!0,fullWidth:!0,label:"Nom et prénom",value:T.nom_prenom,onChange:o=>$(v=>({...v,nom_prenom:o.target.value}))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1078,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1077,columnNumber:21},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{required:!0,fullWidth:!0,type:"email",label:"Email",value:T.email,onChange:o=>$(v=>({...v,email:o.target.value}))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1087,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1086,columnNumber:21},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{required:!0,fullWidth:!0,label:"Fonction/Poste",value:T.fonction,onChange:o=>$(v=>({...v,fonction:o.target.value})),placeholder:"Ex: Responsable IT, DPO, RSSI..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1097,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1096,columnNumber:21},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV($e,{component:"fieldset",children:[e.jsxDEV(Za,{component:"legend",children:"Rôle dans l'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1108,columnNumber:25},void 0),e.jsxDEV(Da,{value:T.role,onChange:o=>$(v=>({...v,role:o.target.value})),children:[e.jsxDEV(yr,{value:"Evaluateur",control:e.jsxDEV(Hr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1115,columnNumber:38},void 0),label:"Évaluateur - Participe activement à l'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1113,columnNumber:27},void 0),e.jsxDEV(yr,{value:"Observateur",control:e.jsxDEV(Hr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1120,columnNumber:38},void 0),label:"Observateur - Consulte les résultats uniquement"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1118,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1109,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1107,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1106,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1076,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1075,columnNumber:17},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:()=>Y(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1129,columnNumber:19},void 0),e.jsxDEV(P,{onClick:Z,variant:"contained",children:"Ajouter"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1130,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1128,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1073,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:978,columnNumber:13},void 0);case 3:return e.jsxDEV(r,{sx:{p:4},children:[e.jsxDEV(r,{sx:{textAlign:"center",mb:4},children:[e.jsxDEV(Gr,{sx:{fontSize:48,color:be[3].color,mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1140,columnNumber:17},void 0),e.jsxDEV(s,{variant:"h5",gutterBottom:!0,sx:{color:be[3].color,fontWeight:700},children:"Résumé & Liens d'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1141,columnNumber:17},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Votre entreprise est créée. Voici les liens d'évaluation pour tous les participants."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1144,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1139,columnNumber:15},void 0),e.jsxDEV(d,{container:!0,spacing:4,children:[e.jsxDEV(d,{size:{xs:12,md:6},children:e.jsxDEV(ge,{sx:{p:3,height:"100%"},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"🏢 Entreprise créée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1153,columnNumber:21},void 0),e.jsxDEV(r,{sx:{mb:2},children:[e.jsxDEV(s,{variant:"body1",fontWeight:"bold",children:V.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1157,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:[V.secteur," • ",V.taille_entreprise," • ",V.effectif_total," employés"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1160,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:[V.ville_siege_social,", ",V.pays_siege_social]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1163,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1156,columnNumber:21},void 0),e.jsxDEV(ss,{sx:{my:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1167,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",fontWeight:"bold",children:["Manager: ",V.manager_nom_prenom]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1168,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:V.manager_email},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1171,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1152,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1151,columnNumber:17},void 0),e.jsxDEV(d,{size:{xs:12,md:6},children:e.jsxDEV(ge,{sx:{p:3,height:"100%"},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"👥 Équipe d'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1180,columnNumber:21},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:2,flexWrap:"wrap",mb:2},children:[e.jsxDEV(ie,{label:"Manager: 1",color:"primary",icon:e.jsxDEV(js,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1187,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1184,columnNumber:23},void 0),e.jsxDEV(ie,{label:`Équipe: ${q.length}`,color:"secondary",icon:e.jsxDEV(Xs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1192,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1189,columnNumber:23},void 0),e.jsxDEV(ie,{label:`Total: ${q.length+1}`,variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1194,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1183,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Chaque participant recevra un lien personnalisé pour effectuer son évaluation de maturité DSIN."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1199,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1179,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1178,columnNumber:17},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ge,{sx:{p:3},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"🔗 Liens d'évaluation générés"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1208,columnNumber:21},void 0),R!=null&&R.evaluationLinks&&R.evaluationLinks.length>0?e.jsxDEV(hs,{children:R.evaluationLinks.map(o=>e.jsxDEV(us,{divider:!0,children:[e.jsxDEV(Is,{children:e.jsxDEV(rr,{sx:{color:be[3].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1217,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1216,columnNumber:29},void 0),e.jsxDEV(is,{primary:e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(s,{variant:"body1",fontWeight:"bold",children:o.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1222,columnNumber:35},void 0),o.isManager&&e.jsxDEV(ie,{size:"small",label:"Manager",color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1226,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1221,columnNumber:33},void 0),secondary:e.jsxDEV(e.Fragment,{children:[e.jsxDEV(s,{variant:"body2",color:"text.secondary",component:"span",children:[o.email," • ",o.fonction," • ",o.role]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1232,columnNumber:35},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1235,columnNumber:35},void 0),e.jsxDEV(r,{sx:{mt:1,backgroundColor:"grey.100",p:1,borderRadius:1,fontFamily:"monospace",fontSize:"0.75rem",wordBreak:"break-all"},children:o.evaluationLink},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1236,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1231,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1219,columnNumber:29},void 0),e.jsxDEV(ha,{children:e.jsxDEV(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[e.jsxDEV(as,{title:"Copier le lien",children:e.jsxDEV(Ie,{size:"small",onClick:()=>{navigator.clipboard.writeText(o.evaluationLink)},children:e.jsxDEV(Mi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1260,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1253,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1252,columnNumber:33},void 0),e.jsxDEV(as,{title:"Ouvrir l'évaluation",children:e.jsxDEV(Ie,{size:"small",onClick:()=>window.open(o.evaluationLink,"_blank"),children:e.jsxDEV(Di,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1268,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1264,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1263,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1251,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1250,columnNumber:29},void 0)]},o.acteurId,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1215,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1213,columnNumber:23},void 0):e.jsxDEV(fe,{severity:"info",children:"Les liens d'évaluation seront générés automatiquement."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1277,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1207,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1206,columnNumber:17},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ge,{sx:{p:4,textAlign:"center",backgroundColor:`${be[3].color}10`},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"🎉 Processus terminé avec succès !"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1287,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Votre entreprise a été créée et les liens d'évaluation sont prêts"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1290,columnNumber:21},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[e.jsxDEV(P,{variant:"contained",size:"large",startIcon:e.jsxDEV(rr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1298,columnNumber:36},void 0),onClick:()=>{R!=null&&R.evaluationLinks[0]&&window.open(R.evaluationLinks[0].evaluationLink,"_blank")},sx:{backgroundColor:be[3].color},children:"Commencer mon évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1295,columnNumber:23},void 0),e.jsxDEV(P,{variant:"outlined",size:"large",startIcon:e.jsxDEV(Gr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1312,columnNumber:36},void 0),onClick:()=>i("/dashboard"),children:"Accéder au tableau de bord"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1309,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1294,columnNumber:21},void 0),e.jsxDEV(fe,{severity:"info",sx:{mt:3,textAlign:"left"},children:[e.jsxDEV(s,{variant:"body2",fontWeight:"bold",children:"Étapes suivantes :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1320,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",children:["• Partagez les liens d'évaluation avec votre équipe",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1324,columnNumber:76},void 0),"• Chaque membre effectue son évaluation individuellement (15-20 min)",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1325,columnNumber:93},void 0),"• Les résultats seront consolidés automatiquement",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1326,columnNumber:74},void 0),"• Vous recevrez une analyse complète de la maturité de votre entreprise"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1323,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1319,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1286,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1285,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1149,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1138,columnNumber:13},void 0);default:return null}};if(W)return e.jsxDEV(ze,{maxWidth:"sm",children:e.jsxDEV(ge,{sx:{textAlign:"center",p:4},children:[e.jsxDEV(Vr,{color:"success",sx:{fontSize:80,mb:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1347,columnNumber:11},void 0),e.jsxDEV(s,{variant:"h4",gutterBottom:!0,color:"success.main",fontWeight:"bold",children:"Entreprise créée avec succès !"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1348,columnNumber:11},void 0),e.jsxDEV(s,{variant:"h6",color:"text.secondary",sx:{mb:3},children:"Redirection vers le tableau de bord..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1351,columnNumber:11},void 0),e.jsxDEV(Pe,{size:40,sx:{color:be[3].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1354,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1346,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1345,columnNumber:7},void 0);const g=(t+1)/be.length*100;return e.jsxDEV(ze,{maxWidth:"xl",children:e.jsxDEV(Ce,{elevation:3,sx:{overflow:"hidden"},children:[e.jsxDEV(r,{sx:{background:"linear-gradient(135deg, #0B4E87 0%, #09C4B8 100%)",color:"white",p:4,textAlign:"center"},children:[e.jsxDEV(s,{variant:"h3",gutterBottom:!0,fontWeight:"bold",children:"Création d'entreprise et équipe d'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1371,columnNumber:11},void 0),e.jsxDEV(s,{variant:"h6",sx:{opacity:.9,mb:3},children:"Processus simplifié en 4 étapes pour démarrer votre évaluation DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1374,columnNumber:11},void 0),e.jsxDEV(r,{sx:{mb:2},children:e.jsxDEV(gr,{variant:"determinate",value:g,sx:{height:8,borderRadius:4,backgroundColor:"rgba(255, 255, 255, 0.3)","& .MuiLinearProgress-bar":{backgroundColor:"white"}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1378,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1377,columnNumber:11},void 0),e.jsxDEV(s,{variant:"body2",sx:{opacity:.8},children:["Étape ",t+1," sur ",be.length," • ",g.toFixed(0),"% complété"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1389,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1365,columnNumber:9},void 0),e.jsxDEV(r,{sx:{p:3,backgroundColor:"grey.50"},children:e.jsxDEV(Ar,{activeStep:t,alternativeLabel:!0,children:be.map((o,v)=>e.jsxDEV(ar,{children:e.jsxDEV(ir,{StepIconComponent:()=>e.jsxDEV(as,{title:o.description,children:e.jsxDEV(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:v<=t?o.color:"grey.300",display:"flex",alignItems:"center",justifyContent:"center",color:"white",transition:"all 0.3s ease",cursor:"pointer"},children:o.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1400,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1399,columnNumber:21},void 0),children:[e.jsxDEV(s,{variant:"body2",sx:{fontWeight:v===t?"bold":"normal",color:v<=t?o.color:"text.secondary"},children:o.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1419,columnNumber:19},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:o.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1428,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1397,columnNumber:17},void 0)},o.label,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1396,columnNumber:15},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1394,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1393,columnNumber:9},void 0),A&&e.jsxDEV(r,{sx:{p:3},children:e.jsxDEV(fe,{severity:"error",onClose:()=>p(""),action:e.jsxDEV(P,{color:"inherit",size:"small",onClick:()=>{console.log("🐛 État actuel du composant:",{activeStep:t,formData:V,teamMembers:q,finalResults:R,validationErrors:w})},children:"Debug"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1442,columnNumber:17},void 0),children:A},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1438,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1437,columnNumber:11},void 0),e.jsxDEV(r,{sx:{minHeight:600,position:"relative"},children:[b&&e.jsxDEV(r,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e3},children:[e.jsxDEV(Pe,{size:60,sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1480,columnNumber:15},void 0),e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:t===1?"Création de votre entreprise...":t===2?"Génération des liens d'évaluation...":"Traitement en cours..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1481,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Veuillez patienter, cette opération peut prendre quelques secondes"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1486,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1465,columnNumber:13},void 0),N()]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1463,columnNumber:9},void 0),e.jsxDEV(r,{sx:{p:3,backgroundColor:"grey.50",display:"flex",justifyContent:"space-between",borderTop:"1px solid",borderColor:"grey.200"},children:[e.jsxDEV(P,{onClick:y,disabled:t===0||b,startIcon:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1504,columnNumber:24},void 0),variant:"outlined",size:"large",children:"Précédent"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1501,columnNumber:11},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:2},children:[e.jsxDEV(P,{variant:"outlined",onClick:()=>i("/auth/login"),disabled:b,size:"large",children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1511,columnNumber:13},void 0),t===be.length-1?e.jsxDEV(P,{variant:"contained",onClick:()=>{S(!0),setTimeout(()=>{i("/dashboard")},2e3)},size:"large",sx:{minWidth:160,background:`linear-gradient(135deg, ${be[3].color} 0%, ${be[3].color}CC 100%)`},children:"Terminer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1520,columnNumber:15},void 0):e.jsxDEV(P,{variant:"contained",onClick:u,endIcon:e.jsxDEV(Ja,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1540,columnNumber:26},void 0),disabled:b,size:"large",sx:{backgroundColor:be[t].color,"&:hover":{backgroundColor:be[t].color,filter:"brightness(0.9)"}},children:b?e.jsxDEV(Pe,{size:24,color:"inherit"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1548,columnNumber:28},void 0):"Suivant"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1537,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1510,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1493,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1364,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EnterpriseRegistration.tsx",lineNumber:1363,columnNumber:5},void 0)},yn=()=>{const i=ns(),{token:t}=Gs(),{login:n,isAuthenticated:b}=or(),[m,A]=a.useState("loading"),[p,W]=a.useState(!1),[S,O]=a.useState(""),[f,w]=a.useState(null),[Q,q]=a.useState({}),[M,T]=a.useState(""),[$,_]=a.useState(""),[Y,R]=a.useState(!1),[H,z]=a.useState(!1),[j,X]=a.useState(""),[V,pe]=a.useState(!1),E=[{label:"Validation du lien",icon:e.jsxDEV(rr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:54,columnNumber:42},void 0),color:"#0B4E87"},{label:"Authentification",icon:e.jsxDEV(Cr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:55,columnNumber:40},void 0),color:"#C55A57"},{label:"Accès à l'évaluation",icon:e.jsxDEV(Vi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:56,columnNumber:45},void 0),color:"#09C4B8"}],Z=async()=>{var N,g,o;if(!t){O("Token d'invitation manquant"),A("expired");return}try{W(!0),O(""),console.log("🔍 Validation invitation:",t);const B=(await U.get(`/evaluation-invite/validate/${t}`)).data;if(console.log("✅ Invitation validée:",B),w(B),B.statut==="EXPIRE"||new Date(B.date_expiration)<new Date){A("expired");return}if(B.statut==="ACCEPTE"){O("Cette invitation a déjà été utilisée"),A("expired");return}A(B.user_exists?"login":"setPassword")}catch(v){console.error("❌ Erreur validation invitation:",v),((N=v.response)==null?void 0:N.status)===404?(O("Invitation introuvable ou invalide"),A("expired")):(O(((o=(g=v.response)==null?void 0:g.data)==null?void 0:o.message)||"Erreur lors de la validation de l'invitation"),A("expired"))}finally{W(!1)}},Ve=async()=>{var g,o;if(!f)return;const N={};if(M?Se(M)||(N.password="Le mot de passe doit contenir au moins 8 caractères"):N.password="Le mot de passe est obligatoire",$?M!==$&&(N.confirmPassword="Les mots de passe ne correspondent pas"):N.confirmPassword="Veuillez confirmer le mot de passe",q(N),!(Object.keys(N).length>0))try{W(!0),O(""),await U.post(`/evaluation-invite/${f.id_invite}/create-account`,{password:M}),console.log("✅ Compte créé avec succès"),await n(f.email,M)}catch(v){console.error("❌ Erreur création compte:",v),O(((o=(g=v.response)==null?void 0:g.data)==null?void 0:o.message)||"Erreur lors de la création du compte")}finally{W(!1)}};a.useEffect(()=>{Z()},[t]),a.useEffect(()=>{b&&f&&m!=="redirect"&&(A("redirect"),U.post(`/evaluation-invite/${f.id_invite}/accept`).then(()=>{console.log("✅ Invitation acceptée")}).catch(N=>{console.error("⚠️ Erreur acceptation invitation:",N)}),setTimeout(()=>{i(`/maturity-evaluation/${f.id_entreprise}`,{state:{fromInvite:!0,inviteId:f.id_invite,evaluationId:f.id_evaluation}})},2e3))},[b,f,m,i]);const Se=N=>N.length>=8,u=N=>{if(N.length<8)return{score:0,message:"Trop court",color:"error"};let g=0;return N.length>=8&&g++,N.length>=12&&g++,/[A-Z]/.test(N)&&g++,/[a-z]/.test(N)&&g++,/[0-9]/.test(N)&&g++,/[^A-Za-z0-9]/.test(N)&&g++,g<=2?{score:33,message:"Faible",color:"error"}:g<=4?{score:66,message:"Moyen",color:"warning"}:{score:100,message:"Fort",color:"success"}},y=async()=>{if(f){if(!j){q({password:"Le mot de passe est requis"});return}try{W(!0),O(""),q({}),await n(f.email,j)}catch(N){console.error("❌ Erreur connexion:",N),O("Email ou mot de passe incorrect")}finally{W(!1)}}},D=()=>{switch(m){case"loading":return e.jsxDEV(r,{sx:{textAlign:"center",py:8},children:[e.jsxDEV(Pe,{size:60,sx:{mb:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:210,columnNumber:13},void 0),e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Validation de votre invitation..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:211,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Vérification de votre lien d'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:214,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:209,columnNumber:11},void 0);case"expired":return e.jsxDEV(r,{sx:{textAlign:"center",py:8},children:[e.jsxDEV(ga,{sx:{fontSize:64,color:"error.main",mb:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:222,columnNumber:13},void 0),e.jsxDEV(s,{variant:"h5",gutterBottom:!0,color:"error",children:"Invitation invalide ou expirée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body1",color:"text.secondary",sx:{mb:4},children:S||"Cette invitation n'est plus valide ou a expiré."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:226,columnNumber:13},void 0),e.jsxDEV(P,{variant:"contained",onClick:()=>i("/auth/login"),size:"large",children:"Retour à la connexion"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:229,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:221,columnNumber:11},void 0);case"setPassword":return e.jsxDEV(r,{sx:{py:2},children:[e.jsxDEV(r,{sx:{textAlign:"center",mb:4},children:[e.jsxDEV(Cr,{sx:{fontSize:48,color:E[1].color,mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:242,columnNumber:15},void 0),e.jsxDEV(s,{variant:"h5",gutterBottom:!0,sx:{color:E[1].color,fontWeight:700},children:"Créez votre mot de passe"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:243,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Définissez un mot de passe sécurisé pour accéder à votre évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:246,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:241,columnNumber:13},void 0),f&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ge,{variant:"outlined",sx:{mb:3,backgroundColor:"rgba(11, 78, 135, 0.05)"},children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Informations de votre invitation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:254,columnNumber:21},void 0),e.jsxDEV(hs,{dense:!0,children:[e.jsxDEV(us,{children:[e.jsxDEV(Is,{children:e.jsxDEV(xs,{color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:259,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:259,columnNumber:25},void 0),e.jsxDEV(is,{primary:"Entreprise",secondary:f.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:260,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:258,columnNumber:23},void 0),e.jsxDEV(us,{children:[e.jsxDEV(Is,{children:e.jsxDEV(Ai,{color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:263,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:263,columnNumber:25},void 0),e.jsxDEV(is,{primary:"Nom",secondary:f.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:264,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:262,columnNumber:23},void 0),e.jsxDEV(us,{children:[e.jsxDEV(Is,{children:e.jsxDEV(Yr,{color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:267,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:267,columnNumber:25},void 0),e.jsxDEV(is,{primary:"Email",secondary:f.email},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:268,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:266,columnNumber:23},void 0),e.jsxDEV(us,{children:[e.jsxDEV(Is,{children:e.jsxDEV(_i,{color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:271,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:271,columnNumber:25},void 0),e.jsxDEV(is,{primary:"Fonction",secondary:f.fonction},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:272,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:270,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:257,columnNumber:21},void 0),e.jsxDEV(r,{sx:{mt:2,display:"flex",gap:1},children:[e.jsxDEV(ie,{size:"small",label:f.role,color:f.role==="Manager"?"primary":"secondary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:276,columnNumber:23},void 0),e.jsxDEV(ie,{size:"small",label:"Première connexion",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:277,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:275,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:253,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:252,columnNumber:17},void 0),e.jsxDEV(ss,{sx:{my:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:281,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:251,columnNumber:15},void 0),e.jsxDEV(r,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxDEV(ne,{required:!0,fullWidth:!0,type:Y?"text":"password",label:"Nouveau mot de passe",value:M,onChange:N=>{T(N.target.value),Q.password&&q(g=>{const o={...g};return delete o.password,o})},error:!!Q.password,helperText:Q.password||`Sécurité: ${u(M).message}`,InputProps:{endAdornment:e.jsxDEV(Ke,{position:"end",children:e.jsxDEV(Ie,{onClick:()=>R(!Y),edge:"end",children:Y?e.jsxDEV(Wr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:307,columnNumber:41},void 0):e.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:307,columnNumber:61},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:306,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:305,columnNumber:21},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:285,columnNumber:15},void 0),e.jsxDEV(ne,{required:!0,fullWidth:!0,type:H?"text":"password",label:"Confirmer le mot de passe",value:$,onChange:N=>{_(N.target.value),Q.confirmPassword&&q(g=>{const o={...g};return delete o.confirmPassword,o})},error:!!Q.confirmPassword,helperText:Q.confirmPassword,InputProps:{endAdornment:e.jsxDEV(Ke,{position:"end",children:e.jsxDEV(Ie,{onClick:()=>z(!H),edge:"end",children:H?e.jsxDEV(Wr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:335,columnNumber:48},void 0):e.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:335,columnNumber:68},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:334,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:333,columnNumber:21},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:313,columnNumber:15},void 0),e.jsxDEV(P,{variant:"contained",size:"large",onClick:Ve,disabled:p||!M||!$,startIcon:p?e.jsxDEV(Pe,{size:20},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:346,columnNumber:38},void 0):e.jsxDEV(Cr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:346,columnNumber:71},void 0),sx:{py:1.5,backgroundColor:E[1].color},children:p?"Création...":"Créer mon compte et accéder"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:341,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:284,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:240,columnNumber:11},void 0);case"login":return e.jsxDEV(r,{sx:{py:2},children:[e.jsxDEV(r,{sx:{textAlign:"center",mb:4},children:[e.jsxDEV(js,{sx:{fontSize:48,color:E[1].color,mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:358,columnNumber:15},void 0),e.jsxDEV(s,{variant:"h5",gutterBottom:!0,sx:{color:E[1].color,fontWeight:700},children:"Connexion à votre compte"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:359,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Vous avez déjà un compte, connectez-vous pour accéder à l'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:362,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:357,columnNumber:13},void 0),f&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(fe,{severity:"info",sx:{mb:3},children:["Un compte existe déjà pour l'adresse ",e.jsxDEV("strong",{children:f.email},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:369,columnNumber:56},void 0),". Connectez-vous avec votre mot de passe pour accéder à cette nouvelle évaluation."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:368,columnNumber:17},void 0),e.jsxDEV(ge,{variant:"outlined",sx:{mb:3,backgroundColor:"rgba(11, 78, 135, 0.05)"},children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"subtitle2",gutterBottom:!0,children:"Invitation pour:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:374,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body1",fontWeight:"bold",children:f.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:377,columnNumber:21},void 0),e.jsxDEV(r,{sx:{mt:1,display:"flex",gap:1},children:[e.jsxDEV(ie,{size:"small",label:f.fonction,variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:381,columnNumber:23},void 0),e.jsxDEV(ie,{size:"small",label:f.role,color:f.role==="Manager"?"primary":"secondary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:382,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:380,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:373,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:372,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:367,columnNumber:15},void 0),e.jsxDEV(r,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxDEV(ne,{fullWidth:!0,label:"Email",value:(f==null?void 0:f.email)||"",disabled:!0,InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Yr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:397,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:396,columnNumber:21},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:389,columnNumber:15},void 0),e.jsxDEV(ne,{required:!0,fullWidth:!0,type:V?"text":"password",label:"Mot de passe",value:j,onChange:N=>{X(N.target.value),Q.password&&q({})},error:!!Q.password,helperText:Q.password,onKeyPress:N=>{N.key==="Enter"&&y()},InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Cr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:424,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:423,columnNumber:21},void 0),endAdornment:e.jsxDEV(Ke,{position:"end",children:e.jsxDEV(Ie,{onClick:()=>pe(!V),edge:"end",children:V?e.jsxDEV(Wr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:430,columnNumber:46},void 0):e.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:430,columnNumber:66},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:429,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:428,columnNumber:21},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:402,columnNumber:15},void 0),S&&e.jsxDEV(fe,{severity:"error",onClose:()=>O(""),children:S},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:437,columnNumber:17},void 0),e.jsxDEV(P,{variant:"contained",size:"large",onClick:y,disabled:p||!j,startIcon:p?e.jsxDEV(Pe,{size:20},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:446,columnNumber:38},void 0):e.jsxDEV(js,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:446,columnNumber:71},void 0),sx:{py:1.5,backgroundColor:E[1].color},children:p?"Connexion...":"Se connecter et accéder"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:441,columnNumber:15},void 0),e.jsxDEV(r,{sx:{textAlign:"center"},children:e.jsxDEV(P,{variant:"text",onClick:()=>i("/auth/forgot-password",{state:{email:f==null?void 0:f.email}}),size:"small",children:"Mot de passe oublié ?"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:452,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:451,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:388,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:356,columnNumber:11},void 0);case"redirect":return e.jsxDEV(r,{sx:{textAlign:"center",py:8},children:[e.jsxDEV(Vr,{color:"success",sx:{fontSize:64,mb:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:466,columnNumber:13},void 0),e.jsxDEV(s,{variant:"h5",gutterBottom:!0,color:"success.main",children:"Connexion réussie !"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:467,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Redirection vers votre évaluation de maturité..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:470,columnNumber:13},void 0),f&&e.jsxDEV(r,{sx:{mb:3},children:[e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:["Entreprise: ",e.jsxDEV("strong",{children:f.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:476,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:475,columnNumber:17},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:["Rôle: ",e.jsxDEV("strong",{children:f.role},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:479,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:478,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:474,columnNumber:15},void 0),e.jsxDEV(Pe,{size:40,sx:{color:E[2].color}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:483,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:465,columnNumber:11},void 0);default:return null}},c=()=>m==="loading"||m==="expired"?0:m==="setPassword"||m==="login"?1:m==="redirect"?2:0;return e.jsxDEV(ze,{maxWidth:"md",sx:{py:4},children:e.jsxDEV(Ce,{elevation:3,sx:{overflow:"hidden"},children:[e.jsxDEV(r,{sx:{background:"linear-gradient(135deg, #0B4E87 0%, #09C4B8 100%)",color:"white",p:3,textAlign:"center"},children:[e.jsxDEV(xs,{sx:{fontSize:40,mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:507,columnNumber:11},void 0),e.jsxDEV(s,{variant:"h4",gutterBottom:!0,fontWeight:"bold",children:"Invitation à l'évaluation DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:508,columnNumber:11},void 0),e.jsxDEV(s,{variant:"h6",sx:{opacity:.9},children:"Accédez à votre évaluation de maturité personnalisée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:511,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:501,columnNumber:9},void 0),m!=="loading"&&m!=="expired"&&e.jsxDEV(r,{sx:{p:3,backgroundColor:"grey.50"},children:e.jsxDEV(Ar,{activeStep:c(),alternativeLabel:!0,children:E.map((N,g)=>e.jsxDEV(ar,{children:e.jsxDEV(ir,{StepIconComponent:()=>e.jsxDEV(r,{sx:{width:40,height:40,borderRadius:"50%",backgroundColor:g<=c()?N.color:"grey.300",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:N.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:522,columnNumber:23},void 0),children:e.jsxDEV(s,{variant:"body2",sx:{color:g<=c()?N.color:"text.secondary",fontWeight:g===c()?"bold":"normal"},children:N.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:538,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:520,columnNumber:19},void 0)},N.label,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:519,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:517,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:516,columnNumber:11},void 0),e.jsxDEV(r,{sx:{p:4,minHeight:400},children:D()},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:553,columnNumber:9},void 0),f&&m!=="redirect"&&m!=="expired"&&e.jsxDEV(r,{sx:{p:3,backgroundColor:"grey.50",borderTop:"1px solid",borderColor:"grey.200"},children:e.jsxDEV(s,{variant:"body2",color:"text.secondary",sx:{textAlign:"center"},children:["Cette invitation expire le ",new Date(f.date_expiration).toLocaleDateString("fr-FR")]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:563,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:557,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:500,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/EvaluationInvite.tsx",lineNumber:499,columnNumber:5},void 0)},Tr=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#8DD1E1","#A4DE6C","#D0ED57"],vn=()=>{const i=ns(),[t,n]=a.useState(!0),[b,m]=a.useState(!1),[A,p]=a.useState(null),[W,S]=a.useState(null),[O,f]=a.useState([]),[w,Q]=a.useState([]),[q,M]=a.useState([]),[T,$]=a.useState([]),[_,Y]=a.useState([]),[R,H]=a.useState(""),[z,j]=a.useState("all"),[X,V]=a.useState("all"),[pe,E]=a.useState(0),[Z,Ve]=a.useState([]),[Se,u]=a.useState([]),y=async(F=!1)=>{const oe=performance.now();try{F?m(!0):n(!0),p(null),Ze.debug("Chargement des données du dashboard");const[ae,Ae,Ue,ke]=await Promise.all([U.get("entreprises"),U.get("fonctions"),U.get("applications"),U.get("formulaires")]),te=D(ae,"entreprises"),he=D(Ae,"fonctions"),de=D(Ue,"applications"),ye=D(ke,"formulaires");f(te);const ve=N(te);Q(ve),M(he);const qe=de.filter(k=>k.score_global!==void 0&&k.score_global!==null);$(qe);const I=[...new Set(qe.map(k=>k.mode_hebergement).filter(Boolean))],C=[...new Set(qe.map(k=>k.technologie).filter(Boolean))];Ve(I),u(C);const ue=ye.map(k=>({...k,thematiques:Array.isArray(k.thematiques)?k.thematiques:[],fonctions:Array.isArray(k.fonctions)?k.fonctions:[],questionnaire_nom:k.questionnaire_nom||"Questionnaire sans nom",acteur_nom:k.acteur_nom||"Utilisateur inconnu",nom_application:k.nom_application||"Application inconnue"}));Y(ue);const ee=performance.now()-oe;Ze.info(`Dashboard data loaded successfully in ${Math.round(ee)}ms`,{entreprises:te.length,fonctions:he.length,applications:qe.length,formulaires:ue.length})}catch(ae){console.error("Erreur lors du chargement des données:",ae),p("Impossible de charger les données du tableau de bord."),Ze.error("Erreur chargement dashboard:",ae)}finally{n(!1),m(!1)}},D=(F,oe)=>Array.isArray(F)?F:F&&F.data&&Array.isArray(F.data)?F.data:(console.warn(`Format de réponse inattendu pour ${oe}:`,F),Ze.warn(`Unexpected response format for ${oe}`,{response:F}),[]);a.useEffect(()=>{y()},[]);const c=(F,oe=0)=>F==null||isNaN(F)?oe:parseFloat(F)||oe,N=F=>{const oe=F.reduce((ae,Ae)=>{const Ue=Ae.secteur||"Non défini";ae[Ue]||(ae[Ue]={scoreTotal:0,count:0});const ke=c(Ae.score_global,0);return ke>0&&(ae[Ue].scoreTotal+=ke,ae[Ue].count++),ae},{});return Object.entries(oe).map(([ae,{scoreTotal:Ae,count:Ue}])=>({nom:ae,nombre_entreprises:Ue,score_moyen:Ue>0?Ae/Ue:0})).filter(ae=>ae.nombre_entreprises>0).sort((ae,Ae)=>Ae.score_moyen-ae.score_moyen)},g=(F,oe)=>{const ae=c(F,0),Ae=c(oe,1);return Ae===0?"0 / 0":`${ae.toFixed(1)} / ${Ae.toFixed(1)}`},o=(F,oe)=>{const ae=c(F,0),Ae=c(oe,1);return Ae===0?0:ae/Ae*5},v=()=>{if(!_||!_.length)return[];Ze.debug("Counting formulaires by function",{count:_.length});const F=_.reduce((oe,ae)=>{const Ae=ae.fonctions||[];return Ae.length===0?oe["Non défini"]=(oe["Non défini"]||0)+1:Ae.forEach(Ue=>{oe[Ue]=(oe[Ue]||0)+1}),oe},{});return Object.entries(F).filter(([oe,ae])=>oe&&oe.trim()!==""&&ae>0).map(([oe,ae])=>({name:oe,value:ae}))},B=()=>{y(!0)},L=({active:F,payload:oe,label:ae})=>F&&(oe!=null&&oe.length)?e.jsxDEV(Ce,{sx:{p:1},children:[e.jsxDEV(s,{variant:"body2",children:`${ae}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:380,columnNumber:11},void 0),e.jsxDEV(s,{variant:"body2",children:`Score: ${oe[0].value.toFixed(2)}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:381,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:379,columnNumber:9},void 0):null,le=F=>F>=3.5?"success":F>=2?"warning":"error",re=F=>{try{return new Date(F).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(oe){return Ze.warn("Erreur lors du formatage de la date:",oe),"Date invalide"}};return t&&!b?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:412,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:411,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[A&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:A},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:419,columnNumber:17},void 0),W&&e.jsxDEV(fe,{severity:"success",sx:{mb:2},onClose:()=>S(null),children:W},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:421,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(Ce,{sx:{p:2,mb:2},children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(r,{children:[e.jsxDEV(s,{component:"h1",variant:"h4",color:"primary",gutterBottom:!0,children:"Tableau de bord de maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:436,columnNumber:17},void 0),e.jsxDEV(s,{variant:"body1",children:"Vue d'ensemble des scores de maturité par secteur, fonction et application."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:439,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:435,columnNumber:15},void 0),e.jsxDEV(r,{display:"flex",gap:1,children:e.jsxDEV(P,{variant:"outlined",startIcon:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:446,columnNumber:30},void 0),onClick:B,disabled:b,children:b?"Actualisation...":"Actualiser"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:444,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:443,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:434,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:433,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:432,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:3,children:e.jsxDEV(ge,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(Ee,{children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Js,{sx:{bgcolor:"#0B4E87",mr:2},children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:464,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:463,columnNumber:17},void 0),e.jsxDEV(s,{variant:"h6",children:"Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:466,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:462,columnNumber:15},void 0),e.jsxDEV(s,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(O==null?void 0:O.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:468,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",align:"center",children:"évaluées dans la plateforme"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:471,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:461,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:460,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:459,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:3,children:e.jsxDEV(ge,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(Ee,{children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Js,{sx:{bgcolor:"#4CAF50",mr:2},children:e.jsxDEV(ys,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:483,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:482,columnNumber:17},void 0),e.jsxDEV(s,{variant:"h6",children:"Fonctions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:485,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:481,columnNumber:15},void 0),e.jsxDEV(s,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(q==null?void 0:q.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:487,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",align:"center",children:"analysées au total"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:490,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:480,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:479,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:478,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:3,children:e.jsxDEV(ge,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(Ee,{children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Js,{sx:{bgcolor:"#FF9800",mr:2},children:e.jsxDEV(Ii,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:502,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:501,columnNumber:17},void 0),e.jsxDEV(s,{variant:"h6",children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:504,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:500,columnNumber:15},void 0),e.jsxDEV(s,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(T==null?void 0:T.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:506,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",align:"center",children:"avec score de maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:509,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:499,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:498,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:497,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:3,children:e.jsxDEV(ge,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(Ee,{children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Js,{sx:{bgcolor:"#F44336",mr:2},children:e.jsxDEV(Si,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:521,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:520,columnNumber:17},void 0),e.jsxDEV(s,{variant:"h6",children:"Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:523,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:519,columnNumber:15},void 0),e.jsxDEV(s,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(_==null?void 0:_.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:525,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",align:"center",children:"renseignés au total"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:528,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:518,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:517,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:516,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:6,children:e.jsxDEV(Ce,{sx:{p:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Maturité par Secteur d'Activité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:538,columnNumber:13},void 0),w&&w.length>0?e.jsxDEV(Ts,{width:"100%",height:300,children:e.jsxDEV(ni,{data:w,children:[e.jsxDEV(Ua,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:544,columnNumber:19},void 0),e.jsxDEV(ja,{dataKey:"nom"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:545,columnNumber:19},void 0),e.jsxDEV(Va,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:546,columnNumber:19},void 0),e.jsxDEV(Jr,{content:e.jsxDEV(L,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:547,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:547,columnNumber:19},void 0),e.jsxDEV(nr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:548,columnNumber:19},void 0),e.jsxDEV(ti,{dataKey:"score_moyen",fill:"#0B4E87",name:"Score moyen",barSize:40,children:w.map((F,oe)=>e.jsxDEV(Ea,{fill:Tr[oe%Tr.length]},`cell-${oe}`,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:556,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:549,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:543,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:542,columnNumber:15},void 0):e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",height:300,flexDirection:"column",children:[e.jsxDEV(s,{variant:"body1",color:"textSecondary",align:"center",children:"Aucune donnée de score disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:563,columnNumber:17},void 0),e.jsxDEV(s,{variant:"caption",color:"textSecondary",align:"center",sx:{mt:1},children:"Les scores apparaîtront une fois les analyses de maturité effectuées"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:566,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:562,columnNumber:15},void 0),e.jsxDEV(s,{variant:"caption",sx:{display:"block",mt:1},children:"Nombre d'entreprises par secteur indiqué entre parenthèses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:571,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:537,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:536,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:6,children:e.jsxDEV(Ce,{sx:{p:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Formulaires par Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:580,columnNumber:13},void 0),_&&_.length>0&&v().length>0?e.jsxDEV(Ts,{width:"100%",height:300,children:e.jsxDEV(an,{children:[e.jsxDEV(nn,{data:v(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:v().map((F,oe)=>e.jsxDEV(Ea,{fill:Tr[oe%Tr.length]},`cell-${oe}`,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:597,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:586,columnNumber:19},void 0),e.jsxDEV(Jr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:600,columnNumber:19},void 0),e.jsxDEV(nr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:601,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:585,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:584,columnNumber:15},void 0):e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",height:300,flexDirection:"column",children:[e.jsxDEV(s,{variant:"body1",color:"textSecondary",align:"center",children:"Aucun formulaire avec fonctions valides"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:606,columnNumber:17},void 0),e.jsxDEV(s,{variant:"caption",color:"textSecondary",align:"center",sx:{mt:1},children:"Créez des formulaires liés à des fonctions pour voir les statistiques"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:609,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:605,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:579,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:578,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:6,children:e.jsxDEV(Ce,{sx:{p:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"10 Derniers Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV(r,{display:"flex",mb:2,children:e.jsxDEV(ne,{size:"small",placeholder:"Rechercher un formulaire...",value:R,onChange:F=>H(F.target.value),fullWidth:!0,InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:631,columnNumber:68},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:631,columnNumber:35},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:624,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:623,columnNumber:13},void 0),_.filter(F=>F.nom_application&&F.nom_application.toLowerCase().includes(R.toLowerCase())||F.fonctions&&F.fonctions.some(oe=>oe.toLowerCase().includes(R.toLowerCase()))||F.acteur_nom&&F.acteur_nom.toLowerCase().includes(R.toLowerCase())).slice(0,10).map((F,oe)=>e.jsxDEV(gs.Fragment,{children:[e.jsxDEV(us,{component:"div",onClick:()=>i(`/formulaires/${F.id_formulaire}`),sx:{borderLeft:"4px solid",borderColor:(()=>{const ae=o(F.score_actuel,F.score_maximum);return ae>=3.5?"#4CAF50":ae>=2?"#FF9800":"#F44336"})(),mb:1,bgcolor:"#f9f9f9",cursor:"pointer","&:hover":{bgcolor:"#f0f0f0"}},children:e.jsxDEV(is,{primary:e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"subtitle1",sx:{fontWeight:"bold",color:"#0B4E87"},children:["Questionnaire: ",F.questionnaire_nom]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:665,columnNumber:27},void 0),e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5,children:[e.jsxDEV(s,{variant:"body2",component:"span",children:["Application: ",F.nom_application]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:669,columnNumber:29},void 0),e.jsxDEV(ie,{label:`Score: ${g(F.score_actuel,F.score_maximum)}`,size:"small",color:le(o(F.score_actuel,F.score_maximum)),sx:{fontWeight:"bold"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:672,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:668,columnNumber:27},void 0),F.fonctions&&F.fonctions.length>0&&e.jsxDEV(r,{mt:.5,children:e.jsxDEV(s,{variant:"caption",color:"textSecondary",children:["Fonctions: ",F.fonctions.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:681,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:680,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:664,columnNumber:25},void 0),secondary:e.jsxDEV(r,{mt:1,children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(s,{variant:"body2",component:"span",sx:{fontWeight:"medium"},children:["Acteur: ",F.acteur_nom]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:691,columnNumber:29},void 0),e.jsxDEV(ie,{label:F.statut,size:"small",color:le(F.statut==="Validé"?5:F.statut==="Soumis"?3:1)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:694,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:690,columnNumber:27},void 0),e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5,children:[e.jsxDEV(s,{variant:"caption",color:"textSecondary",children:["Créé le: ",F.date_creation?re(F.date_creation):"Date inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:701,columnNumber:29},void 0),e.jsxDEV(s,{variant:"caption",color:"textSecondary",children:["Modifié le: ",F.date_modification?re(F.date_modification):"Date inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:704,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:700,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:689,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:662,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:644,columnNumber:19},void 0),oe<Math.min(_.length,10)-1&&e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:712,columnNumber:68},void 0)]},F.id_formulaire||`form-${oe}`,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:643,columnNumber:17},void 0)),_.filter(F=>F.nom_application&&F.nom_application.toLowerCase().includes(R.toLowerCase())||F.fonctions&&F.fonctions.some(oe=>oe.toLowerCase().includes(R.toLowerCase()))||F.acteur_nom&&F.acteur_nom.toLowerCase().includes(R.toLowerCase())).length===0&&e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",height:150,children:e.jsxDEV(s,{variant:"body1",color:"textSecondary",children:"Aucun formulaire ne correspond à votre recherche"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:721,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:720,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:619,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:618,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:430,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:418,columnNumber:5},void 0)},En=()=>{const i=ns(),[t,n]=a.useState(!0),[b,m]=a.useState(null),[A,p]=a.useState([]),[W,S]=a.useState({});a.useEffect(()=>{O()},[]);const O=async()=>{n(!0),m(null);try{const M=await U.get("questionnaires");let T=[];Array.isArray(M)?T=M:M&&M.data&&Array.isArray(M.data)?T=M.data:(console.warn("Format de réponse inattendu pour questionnaires:",M),m("Format de données inattendu pour les questionnaires"));const $=T.map(H=>({id_questionnaire:H.id_questionnaire,nom:H.nom||H.titre||"Sans nom",description:H.description||"",date_creation:H.date_creation||new Date().toISOString(),date_modification:H.date_modification||H.date_creation||new Date().toISOString()}));p($);const _=await U.get("questionnaires/stats");let Y=[];Array.isArray(_)?Y=_:_&&_.data&&Array.isArray(_.data)?Y=_.data:console.warn("Format de réponse inattendu pour les statistiques:",_);const R=Y.reduce((H,z)=>(H[z.id_questionnaire]={numQuestions:z.numQuestions||0,numReponses:z.numReponses||z.num_evaluations||0,numUtilisateurs:z.numUtilisateurs||0},H),{});S(R)}catch(M){console.error("Erreur lors du chargement des questionnaires:",M),m("Impossible de charger les questionnaires. Veuillez réessayer.")}finally{n(!1)}},f=M=>{i(`/questionnaires/${M.id_questionnaire}`)},w=()=>{i("/questionnaires/admin")},Q=M=>{try{return new Date(M).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})}catch(T){return console.warn("Erreur lors du formatage de la date:",T),"Date invalide"}},q=(M,T)=>{var $;try{return(($=W[M])==null?void 0:$[T])||0}catch{return 0}};return t?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:162,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:161,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[b&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:b},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:170,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:"Questionnaires d'Évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:180,columnNumber:15},void 0),e.jsxDEV(r,{children:[e.jsxDEV(P,{variant:"outlined",color:"primary",onClick:w,sx:{mr:1},children:"Administration"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:184,columnNumber:17},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:195,columnNumber:30},void 0),onClick:w,children:"Nouveau Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:192,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:183,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:179,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:178,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:177,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(ds,{component:Ce,children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:211,columnNumber:19},void 0),e.jsxDEV(h,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:212,columnNumber:19},void 0),e.jsxDEV(h,{children:"Questions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:213,columnNumber:19},void 0),e.jsxDEV(h,{children:"Réponses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:214,columnNumber:19},void 0),e.jsxDEV(h,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:215,columnNumber:19},void 0),e.jsxDEV(h,{children:"Dernière modification"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:216,columnNumber:19},void 0),e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:217,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:210,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:209,columnNumber:15},void 0),e.jsxDEV(ms,{children:A.length>0?A.map(M=>e.jsxDEV(Te,{hover:!0,children:[e.jsxDEV(h,{children:M.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:224,columnNumber:23},void 0),e.jsxDEV(h,{children:M.description&&M.description.length>50?`${M.description.substring(0,50)}...`:M.description||"Aucune description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:225,columnNumber:23},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{icon:e.jsxDEV(Ma,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:232,columnNumber:33},void 0),label:q(M.id_questionnaire,"numQuestions"),color:q(M.id_questionnaire,"numQuestions")>0?"success":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:231,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:230,columnNumber:23},void 0),e.jsxDEV(h,{children:q(M.id_questionnaire,"numReponses")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:242,columnNumber:23},void 0),e.jsxDEV(h,{children:q(M.id_questionnaire,"numUtilisateurs")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:245,columnNumber:23},void 0),e.jsxDEV(h,{children:Q(M.date_modification)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:248,columnNumber:23},void 0),e.jsxDEV(h,{children:e.jsxDEV(as,{title:"Voir les détails",children:e.jsxDEV(Ie,{color:"info",onClick:()=>f(M),children:e.jsxDEV(Ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:257,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:253,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:252,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:251,columnNumber:23},void 0)]},M.id_questionnaire,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:223,columnNumber:21},void 0)):e.jsxDEV(Te,{children:e.jsxDEV(h,{colSpan:8,align:"center",children:[e.jsxDEV(s,{variant:"body1",sx:{py:2},children:"Aucun questionnaire disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:266,columnNumber:23},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:272,columnNumber:36},void 0),onClick:w,children:"Créer le premier questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:269,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:265,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:264,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:220,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:208,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:207,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:206,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:175,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:168,columnNumber:5},void 0)},Mn=()=>{const{id:i}=Gs(),t=ns(),[n,b]=a.useState(!0),[m,A]=a.useState(null),[p,W]=a.useState(null),[S,O]=a.useState([]),[f,w]=a.useState(null);a.useEffect(()=>{i?Q(i):(A("Identifiant de questionnaire manquant"),b(!1))},[i]);const Q=async _=>{b(!0),A(null);try{const Y=await U.get(`questionnaires/${_}`);let R=null;Y&&typeof Y=="object"&&(Array.isArray(Y)?R=Y[0]:Y.data?R=Y.data:R=Y),R&&R.id_questionnaire?W(R):(A("Format de réponse inattendu pour le questionnaire"),console.warn("Format de réponse inattendu pour le questionnaire:",Y));try{const H=await U.get(`questionnaires/${_}/questions`);let z=[];Array.isArray(H)?z=H:H&&H.data&&Array.isArray(H.data)?z=H.data:console.warn("Format de réponse inattendu pour les questions:",H),O(z)}catch(H){console.error("Erreur lors du chargement des questions:",H),O([])}try{let H;try{H=await U.get(`questionnaire/stats/${_}`)}catch{H=await U.get(`questionnaires/stats/${_}`)}let z=null;H&&typeof H=="object"&&(H.data?z=H.data:z=H),w(z?{numQuestions:z.numQuestions||z.num_questions||0,numReponses:z.numReponses||z.num_evaluations||0,numUtilisateurs:z.numUtilisateurs||z.num_utilisateurs||0}:{numQuestions:S.length,numReponses:0,numUtilisateurs:0})}catch(H){console.error("Erreur lors du chargement des statistiques:",H),w({numQuestions:S.length,numReponses:0,numUtilisateurs:0})}}catch(Y){console.error("Erreur lors du chargement des données du questionnaire:",Y),A("Impossible de charger les données du questionnaire")}finally{b(!1)}},q=()=>{t("/questionnaires")},M=()=>{t(`/questionnaires/admin?id=${i}`)},T=_=>{try{return new Date(_).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Y){return console.warn("Erreur lors du formatage de la date:",Y),"Date invalide"}};if(n)return e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:207,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:206,columnNumber:7},void 0);if(m)return e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:m},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:215,columnNumber:9},void 0),e.jsxDEV(Ce,{sx:{p:4,textAlign:"center"},children:e.jsxDEV(P,{variant:"contained",color:"primary",onClick:q,sx:{mt:2},children:"Retour à la liste"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:219,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:218,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:214,columnNumber:7},void 0);if(!p)return e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(Ce,{sx:{p:4,textAlign:"center"},children:[e.jsxDEV(s,{variant:"h5",color:"error",gutterBottom:!0,children:"Questionnaire non trouvé"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:236,columnNumber:11},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",onClick:q,sx:{mt:2},children:"Retour à la liste"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:239,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:235,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:234,columnNumber:7},void 0);const $=[...S].sort((_,Y)=>(_.ordre||0)-(Y.ordre||0));return e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(r,{display:"flex",alignItems:"center",children:[e.jsxDEV(Ie,{color:"primary",onClick:q,sx:{mr:1},children:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:266,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:265,columnNumber:17},void 0),e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:p.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:268,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:264,columnNumber:15},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:275,columnNumber:28},void 0),onClick:M,children:"Modifier"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:272,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:263,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body1",paragraph:!0,children:p.description||"Aucune description détaillée disponible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:282,columnNumber:13},void 0),e.jsxDEV(r,{sx:{mt:2,mb:1},children:[e.jsxDEV(ie,{label:`Créé le ${T(p.date_creation||new Date().toISOString())}`,variant:"outlined",size:"small",sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:287,columnNumber:15},void 0),e.jsxDEV(ie,{label:`Dernière modification: ${T(p.date_modification||p.date_creation||new Date().toISOString())}`,variant:"outlined",size:"small",color:"info"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:293,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:286,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:262,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:261,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:e.jsxDEV(r,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(Ss,{badgeContent:(f==null?void 0:f.numQuestions)||0,color:"primary",max:999,sx:{mb:1},children:e.jsxDEV(Ma,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:316,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:310,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body1",align:"center",fontWeight:"bold",children:"Questions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:318,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:309,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:308,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:307,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:306,columnNumber:13},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:e.jsxDEV(r,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(Ss,{badgeContent:(f==null?void 0:f.numReponses)||0,color:"success",max:999,sx:{mb:1},children:e.jsxDEV(ys,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:335,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:329,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body1",align:"center",fontWeight:"bold",children:"Réponses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:337,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:328,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:327,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:326,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:325,columnNumber:13},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:e.jsxDEV(r,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(Ss,{badgeContent:(f==null?void 0:f.numUtilisateurs)||0,color:"info",max:999,sx:{mb:1},children:e.jsxDEV(Xs,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:354,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:348,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body1",align:"center",fontWeight:"bold",children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:356,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:347,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:346,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:345,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:344,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:305,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:304,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:["Questions (",$.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:369,columnNumber:13},void 0),e.jsxDEV(ss,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:373,columnNumber:13},void 0),$.length>0?$.map(_=>e.jsxDEV(vr,{children:[e.jsxDEV(Er,{expandIcon:e.jsxDEV(Ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:378,columnNumber:49},void 0),children:e.jsxDEV(d,{container:!0,spacing:1,alignItems:"center",children:[e.jsxDEV(d,{xs:1,children:e.jsxDEV(s,{variant:"body1",fontWeight:"bold",children:[_.ordre||"?","."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:381,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:380,columnNumber:23},void 0),e.jsxDEV(d,{xs:10,children:e.jsxDEV(s,{variant:"body1",children:_.texte||"Question sans texte"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:386,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:385,columnNumber:23},void 0),e.jsxDEV(d,{xs:1,children:e.jsxDEV(as,{title:`Pondération: ${_.ponderation||0}`,children:e.jsxDEV(ie,{label:_.ponderation||0,color:_.ponderation>=4?"error":_.ponderation>=3?"warning":_.ponderation>=2?"info":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:392,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:391,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:390,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:379,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:378,columnNumber:19},void 0),e.jsxDEV(Mr,{children:e.jsxDEV(d,{container:!0,spacing:2,children:e.jsxDEV(d,{xs:12,children:[e.jsxDEV(s,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Pondération:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:409,columnNumber:27},void 0)," ",_.ponderation||0,_.ponderation>=4?" (Critique)":_.ponderation>=3?" (Important)":_.ponderation>=2?" (Significatif)":" (Mineur)"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:408,columnNumber:25},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Ajouté le:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:415,columnNumber:27},void 0)," ",T(_.date_creation||new Date().toISOString())]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:414,columnNumber:25},void 0),_.date_modification&&_.date_creation&&_.date_modification!==_.date_creation&&e.jsxDEV(s,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Dernière modification:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:420,columnNumber:29},void 0)," ",T(_.date_modification)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:419,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:407,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:406,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:405,columnNumber:19},void 0)]},_.id_question,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:377,columnNumber:17},void 0)):e.jsxDEV(r,{textAlign:"center",py:4,children:[e.jsxDEV(s,{variant:"body1",gutterBottom:!0,children:"Ce questionnaire ne contient aucune question."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:430,columnNumber:17},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",onClick:M,sx:{mt:2},children:"Ajouter des questions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:433,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:429,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:368,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:367,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:259,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:258,columnNumber:5},void 0)},za=i=>{const{children:t,value:n,index:b,...m}=i;return e.jsxDEV("div",{role:"tabpanel",hidden:n!==b,id:`admin-tabpanel-${b}`,"aria-labelledby":`admin-tab-${b}`,...m,children:n===b&&e.jsxDEV(r,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:118,columnNumber:5},void 0)},$a={nom:"",description:"",thematiques:[]},Dn={id_thematique:"",texte:"",ponderation:1,ordre:0},Un=()=>{const i=ns(),[t]=bi(),n=t.get("id"),[b,m]=a.useState(!0),[A,p]=a.useState(null),[W,S]=a.useState([]),[O,f]=a.useState(null),[w,Q]=a.useState([]),[q,M]=a.useState([]),[T,$]=a.useState([]),[_,Y]=a.useState([]),[R,H]=a.useState(!1),[z,j]=a.useState(!1),[X,V]=a.useState($a),[pe,E]=a.useState(Dn),[Z,Ve]=a.useState(!1),[Se,u]=a.useState(!1),[y,D]=a.useState(!1),[c,N]=a.useState(!1),[g,o]=a.useState(null),[v,B]=a.useState({open:!1,message:"",severity:"info"}),[L,le]=a.useState("create"),[re,F]=a.useState("create"),[oe,ae]=a.useState(0);a.useEffect(()=>{console.log("🚀 Initialisation du composant QuestionnaireAdmin"),(async()=>{try{await Promise.all([ke(),Ae()]),await Ue(),n&&(console.log("🎯 Chargement du questionnaire spécifique:",n),await te(n),ae(1))}catch(me){console.error("❌ Erreur lors du chargement initial:",me)}})()},[n]);const Ae=async()=>{j(!0);try{console.log("🔍 Chargement des thématiques...");const K=await U.get("thematiques"),me=Array.isArray(K)?K:K.data||[];console.log("✅ Thématiques reçues:",me.length),$(me)}catch(K){console.error("❌ Erreur lors du chargement des thématiques:",K),$([])}finally{j(!1)}},Ue=async()=>{m(!0),p(null);try{console.log("🔍 Chargement des questionnaires...");const K=await U.get("questionnaires");console.log("✅ Questionnaires reçus:",K);let me=[];Array.isArray(K)?me=K:K&&K.data&&Array.isArray(K.data)?me=K.data:(console.warn("Format de réponse inattendu pour questionnaires:",K),p("Format de données inattendu pour les questionnaires"),me=[]),S(me)}catch(K){console.error("❌ Erreur lors du chargement des questionnaires:",K),k("Erreur lors du chargement des questionnaires.","error"),p("Impossible de charger les questionnaires"),S([])}finally{m(!1)}},ke=async()=>{H(!0);try{console.log("🔍 Chargement des fonctions depuis /fonctions...");const K=await U.get("fonctions");console.log("✅ Fonctions reçues:",K);let me=[];Array.isArray(K)?me=K:(console.warn("Format de réponse inattendu pour fonctions:",K),me=[]),M(me)}catch(K){console.error("❌ Erreur lors du chargement des fonctions:",K),k("Erreur lors du chargement des fonctions.","warning"),M([])}finally{H(!1)}},te=async K=>{try{console.log("🔍 Chargement du questionnaire:",K);const me=await U.get(`questionnaires/${K}`);console.log("✅ Questionnaire reçu:",me);let Ne=null;me&&typeof me=="object"&&(Array.isArray(me)?Ne=me[0]:me.data?Ne=me.data:Ne=me),Ne&&Ne.id_questionnaire&&f(Ne);try{console.log("🔍 Chargement des questions pour:",K);const We=await U.get(`questionnaires/${K}/questions`);console.log("✅ Questions reçues:",We);let ps=[];Array.isArray(We)?ps=We:We&&We.data&&Array.isArray(We.data)&&(ps=We.data),Q(ps.sort((ws,Rs)=>(ws.ordre||0)-(Rs.ordre||0)))}catch(We){console.error("❌ Erreur lors du chargement des questions:",We),Q([])}}catch(me){console.error("❌ Erreur lors du chargement du questionnaire:",me),k("Erreur lors du chargement du questionnaire.","error")}},he=()=>{console.log("🆕 Ouverture du dialogue de création"),le("create"),V($a),Y([]),Ve(!0),T.length===0&&Ae()},de=async K=>{le("edit");try{const me=await U.get(`questionnaire-thematiques/${K.id_questionnaire}/thematiques`),We=(Array.isArray(me)?me:me.data||[]).map(ps=>ps.id_thematique);V({nom:K.nom||`${K.fonction||""} - ${K.thematique||""}`,description:K.description||"",thematiques:We}),Y(We)}catch(me){console.error("Erreur lors du chargement des thématiques:",me),V({nom:K.nom||`${K.fonction||""} - ${K.thematique||""}`,description:K.description||"",thematiques:[]}),Y([])}Ve(!0),T.length===0&&Ae()},ye=()=>{Ve(!1)},ve=async()=>{var K;try{if(console.log("🚀 Soumission du questionnaire"),!X.nom.trim()){k("Le nom est obligatoire.","warning");return}if(_.length===0){k("Sélectionnez au moins une thématique.","warning");return}const me={nom:X.nom.trim(),description:X.description,thematiques:_};if(console.log("📤 Données à envoyer:",me),L==="create"){const Ne=await U.post("questionnaires",me);console.log("✅ Questionnaire créé:",Ne),await Ue(),k("Questionnaire créé avec succès.","success");const We=((K=Ne==null?void 0:Ne.data)==null?void 0:K.id_questionnaire)||(Ne==null?void 0:Ne.id_questionnaire);We&&(await te(We),ae(1))}else if(L==="edit"&&O){const Ne=await U.put(`questionnaires/${O.id_questionnaire}`,me);console.log("✅ Questionnaire mis à jour:",Ne),await Ue(),await te(O.id_questionnaire),k("Questionnaire mis à jour avec succès.","success")}ye()}catch(me){console.error("❌ Erreur:",me),k("Erreur lors de la sauvegarde du questionnaire.","error")}},qe=K=>{f(K),D(!0)},I=()=>{D(!1)},C=async()=>{if(O)try{console.log("🗑️ Suppression du questionnaire:",O.id_questionnaire),await U.delete(`questionnaires/${O.id_questionnaire}`),console.log("✅ Questionnaire supprimé"),await Ue(),f(null),Q([]),ae(0),I(),k("Questionnaire supprimé avec succès.","success")}catch(K){console.error("❌ Erreur lors de la suppression du questionnaire:",K),k("Erreur lors de la suppression du questionnaire.","error")}},ue=async K=>{f(K),await te(K.id_questionnaire),ae(1),i(`/questionnaires/admin?id=${K.id_questionnaire}`,{replace:!0})},ee=(K,me)=>{ae(me)},k=(K,me)=>{B({open:!0,message:K,severity:me})},J=()=>{B({...v,open:!1})},Fe=()=>{i("/questionnaires")};return b&&W.length===0?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:518,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:517,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[A&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:A},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:526,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{size:12,children:e.jsxDEV(Ce,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(r,{display:"flex",alignItems:"center",children:[e.jsxDEV(Ie,{color:"primary",onClick:Fe,sx:{mr:1},children:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:538,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:537,columnNumber:17},void 0),e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:"Administration des Questionnaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:540,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:536,columnNumber:15},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:547,columnNumber:28},void 0),onClick:he,children:"Nouveau Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:544,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:535,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:534,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:533,columnNumber:9},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(Ce,{sx:{width:"100%"},children:[e.jsxDEV(Vs,{value:oe,onChange:ee,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:e.jsxDEV(Je,{label:"Liste des Questionnaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:566,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:559,columnNumber:13},void 0),e.jsxDEV(za,{value:oe,index:0,children:[e.jsxDEV(r,{sx:{mb:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Questionnaires disponibles"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:573,columnNumber:17},void 0),e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:576,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:572,columnNumber:15},void 0),W.length>0?e.jsxDEV(hs,{children:W.map(K=>e.jsxDEV(Or,{onClick:()=>ue(K),selected:(O==null?void 0:O.id_questionnaire)===K.id_questionnaire,sx:{borderRadius:1,mb:1,border:"1px solid",borderColor:"divider"},children:[e.jsxDEV(is,{primary:e.jsxDEV(s,{variant:"subtitle1",fontWeight:"bold",children:K.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:595,columnNumber:27},void 0),secondary:e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:K.description||"Aucune description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:600,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:593,columnNumber:23},void 0),e.jsxDEV(ha,{children:[e.jsxDEV(as,{title:"Éditer",children:e.jsxDEV(Ie,{edge:"end",color:"primary",onClick:me=>{me.stopPropagation(),de(K)},children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:615,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:607,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:606,columnNumber:25},void 0),e.jsxDEV(as,{title:"Supprimer",children:e.jsxDEV(Ie,{edge:"end",color:"error",onClick:me=>{me.stopPropagation(),qe(K)},children:e.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:627,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:619,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:618,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:605,columnNumber:23},void 0)]},K.id_questionnaire,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:582,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:580,columnNumber:17},void 0):e.jsxDEV(r,{textAlign:"center",py:4,children:[e.jsxDEV(s,{variant:"body1",gutterBottom:!0,children:"Aucun questionnaire disponible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:636,columnNumber:19},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:642,columnNumber:32},void 0),onClick:he,sx:{mt:2},children:"Créer un questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:639,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:635,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:571,columnNumber:13},void 0),e.jsxDEV(za,{value:oe,index:1,children:O?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ge,{sx:{mb:3},children:[e.jsxDEV(es,{title:O.nom||`${O.fonction||"Sans titre"}`,action:e.jsxDEV(P,{variant:"outlined",color:"primary",startIcon:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:663,columnNumber:38},void 0),onClick:()=>de(O),children:"Modifier"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:660,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:657,columnNumber:21},void 0),e.jsxDEV(Ee,{children:e.jsxDEV(s,{variant:"body1",paragraph:!0,children:O.description||"Aucune description disponible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:671,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:670,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:656,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:["Questions (",w.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:677,columnNumber:19},void 0),e.jsxDEV(ss,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:680,columnNumber:19},void 0),w.length>0?e.jsxDEV(r,{children:Object.entries(w.reduce((K,me)=>{const Ne=me.thematique_nom||"Sans thématique";return K[Ne]||(K[Ne]=[]),K[Ne].push(me),K},{})).map(([K,me])=>e.jsxDEV(r,{sx:{mb:3},children:[e.jsxDEV(s,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:K},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:694,columnNumber:27},void 0),me.sort((Ne,We)=>(Ne.ordre||0)-(We.ordre||0)).map(Ne=>e.jsxDEV(vr,{children:[e.jsxDEV(Er,{expandIcon:e.jsxDEV(Ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:701,columnNumber:63},void 0),children:e.jsxDEV(r,{display:"flex",alignItems:"center",width:"100%",children:[e.jsxDEV(s,{sx:{width:"5%",mr:1},children:e.jsxDEV("strong",{children:[Ne.ordre||"?","."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:704,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:703,columnNumber:37},void 0),e.jsxDEV(s,{sx:{width:"80%"},children:Ne.texte||"Question sans texte"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:706,columnNumber:37},void 0),e.jsxDEV(s,{sx:{width:"15%",textAlign:"right"},children:["Pond.: ",Ne.ponderation||0]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:709,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:702,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:701,columnNumber:33},void 0),e.jsxDEV(Mr,{children:e.jsxDEV(s,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Pondération:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:716,columnNumber:37},void 0)," ",Ne.ponderation||0]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:715,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:714,columnNumber:33},void 0)]},Ne.id_question,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:700,columnNumber:31},void 0))]},K,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:693,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:683,columnNumber:21},void 0):e.jsxDEV(fe,{severity:"info",sx:{mt:2},children:"Aucune question trouvée. Les questions sont automatiquement chargées depuis les thématiques sélectionnées."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:725,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:655,columnNumber:17},void 0):e.jsxDEV(r,{textAlign:"center",py:4,children:[e.jsxDEV(s,{variant:"body1",gutterBottom:!0,children:"Veuillez sélectionner un questionnaire dans l'onglet précédent."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:732,columnNumber:19},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",onClick:()=>ae(0),sx:{mt:2},children:"Retour à la liste"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:735,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:731,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:653,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:558,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:557,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:531,columnNumber:7},void 0),e.jsxDEV(cs,{open:Z,onClose:ye,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(bs,{children:L==="create"?"Créer un nouveau questionnaire":"Modifier le questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:752,columnNumber:9},void 0),e.jsxDEV(fs,{children:e.jsxDEV(r,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{required:!0,fullWidth:!0,id:"nom",name:"nom",label:"Nom du questionnaire",value:X.nom,onChange:K=>V({...X,nom:K.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:759,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:758,columnNumber:15},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{fullWidth:!0,id:"description",name:"description",label:"Description",multiline:!0,rows:3,value:X.description||"",onChange:K=>V({...X,description:K.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:770,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:769,columnNumber:15},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV($e,{fullWidth:!0,required:!0,children:[e.jsxDEV(Ge,{children:"Thématiques"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:783,columnNumber:19},void 0),e.jsxDEV(Qe,{multiple:!0,value:_,onChange:K=>Y(K.target.value),renderValue:K=>e.jsxDEV(r,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:K.map(me=>{const Ne=T.find(We=>We.id_thematique===me);return e.jsxDEV(ie,{label:(Ne==null?void 0:Ne.nom)||me,size:"small"},me,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:792,columnNumber:34},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:789,columnNumber:23},void 0),children:z?e.jsxDEV(De,{disabled:!0,children:"Chargement des thématiques..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:798,columnNumber:23},void 0):T.length===0?e.jsxDEV(De,{disabled:!0,children:"Aucune thématique disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:800,columnNumber:23},void 0):Object.entries(T.reduce((K,me)=>{const Ne=me.fonction_nom||"Sans fonction";return K[Ne]||(K[Ne]=[]),K[Ne].push(me),K},{})).map(([K,me])=>[e.jsxDEV(wi,{children:K},K,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:810,columnNumber:25},void 0),...me.map(Ne=>e.jsxDEV(De,{value:Ne.id_thematique,children:[e.jsxDEV(Os,{checked:_.includes(Ne.id_thematique)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:813,columnNumber:29},void 0),e.jsxDEV(is,{primary:Ne.nom,secondary:Ne.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:814,columnNumber:29},void 0)]},Ne.id_thematique,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:812,columnNumber:27},void 0))]).flat()},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:784,columnNumber:19},void 0),e.jsxDEV(er,{children:"Sélectionnez une ou plusieurs thématiques"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:823,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:782,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:781,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:757,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:756,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:755,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:ye,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:830,columnNumber:11},void 0),e.jsxDEV(P,{onClick:ve,variant:"contained",color:"primary",disabled:!X.nom.trim()||_.length===0,children:L==="create"?"Créer":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:831,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:829,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:751,columnNumber:7},void 0),e.jsxDEV(cs,{open:y,onClose:I,children:[e.jsxDEV(bs,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:844,columnNumber:9},void 0),e.jsxDEV(fs,{children:e.jsxDEV(s,{children:['Êtes-vous sûr de vouloir supprimer le questionnaire "',(O==null?void 0:O.nom)||"Sans titre",'" ? Cette action est irréversible.']},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:846,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:845,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:I,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:852,columnNumber:11},void 0),e.jsxDEV(P,{onClick:C,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:853,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:851,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:843,columnNumber:7},void 0),e.jsxDEV(tr,{open:v.open,autoHideDuration:6e3,onClose:J,children:e.jsxDEV(fe,{onClose:J,severity:v.severity,sx:{width:"100%"},children:v.message},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:865,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:860,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:524,columnNumber:5},void 0)},jn=({label:i,value:t,onChange:n,minDate:b,maxDate:m,disabled:A=!1,fullWidth:p=!0,required:W=!1,helperText:S,textFieldProps:O={}})=>e.jsxDEV(ei,{dateAdapter:si,adapterLocale:ai,children:e.jsxDEV(Ri,{label:i,value:t,onChange:n,minDate:b,maxDate:m,disabled:A,slotProps:{textField:{fullWidth:p,required:W,helperText:S,...O}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/DataPickerWrapper.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/DataPickerWrapper.tsx",lineNumber:38,columnNumber:5},void 0),Oa={nom_application:"",statut:"Projet",type:"Build",hebergement:"Cloud",architecture_logicielle:"MVC",date_mise_en_prod:void 0,editeur:"",language:"",description:""},Vn=()=>{const i=ns(),[t,n]=a.useState(!0),[b,m]=a.useState(null),[A,p]=a.useState([]),[W,S]=a.useState(!1),[O,f]=a.useState(null),[w,Q]=a.useState(Oa),[q,M]=a.useState("create"),[T,$]=a.useState(!1),[_,Y]=a.useState(null);a.useEffect(()=>{R()},[]);const R=async()=>{n(!0),m(null);try{const u=await U.get("applications");Array.isArray(u)?p(u):u&&u.data&&Array.isArray(u.data)?p(u.data):(console.warn("Format de réponse inattendu:",u),p([]),m("Format de données inattendu. Impossible de charger les applications."))}catch(u){console.error("Erreur lors du chargement des applications:",u),m("Impossible de charger les applications. Veuillez réessayer plus tard."),p([])}finally{n(!1)}},H=()=>{M("create"),Q(Oa),Y(null),S(!0)},z=u=>{M("edit"),f(u),Q({nom_application:u.nom_application,statut:u.statut,type:u.type,hebergement:u.hebergement,architecture_logicielle:u.architecture_logicielle,date_mise_en_prod:u.date_mise_en_prod,editeur:u.editeur||"",language:u.language||"",description:u.description||""}),u.date_mise_en_prod?Y(new Date(u.date_mise_en_prod)):Y(null),S(!0)},j=()=>{S(!1),f(null)},X=u=>{const y=u.target.name,D=u.target.value;Q({...w,[y]:D})},V=u=>{if(Y(u),u){const y=u.toISOString().split("T")[0];Q({...w,date_mise_en_prod:y})}else Q({...w,date_mise_en_prod:void 0})},pe=async()=>{try{q==="create"?await U.post("applications",w):q==="edit"&&O&&await U.put(`applications/${O.id_application}`,w),R(),j()}catch(u){console.error("Erreur lors de la sauvegarde de l'application:",u),m("Erreur lors de la sauvegarde de l'application. Veuillez réessayer.")}},E=u=>{f(u),$(!0)},Z=()=>{$(!1),f(null)},Ve=async()=>{if(O)try{await U.delete(`applications/${O.id_application}`),R(),Z()}catch(u){console.error("Erreur lors de la suppression de l'application:",u),m("Erreur lors de la suppression de l'application. Veuillez réessayer.")}},Se=u=>{i(`/analyses/calculer/${u.id_application}`)};return t?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:232,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:231,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[b&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:b},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:240,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:"Gestion des applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:250,columnNumber:15},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:256,columnNumber:28},void 0),onClick:H,children:"Nouvelle Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:253,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:249,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:248,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:247,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:A.length===0?e.jsxDEV(fe,{severity:"info",children:"Aucune application trouvée. Créez votre première application en cliquant sur le bouton ci-dessus."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:268,columnNumber:13},void 0):e.jsxDEV(ds,{component:Ce,children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:276,columnNumber:21},void 0),e.jsxDEV(h,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:277,columnNumber:21},void 0),e.jsxDEV(h,{children:"Type"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:278,columnNumber:21},void 0),e.jsxDEV(h,{children:"Hébergement"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:279,columnNumber:21},void 0),e.jsxDEV(h,{children:"Architecture"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:280,columnNumber:21},void 0),e.jsxDEV(h,{children:"Date mise en prod."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:281,columnNumber:21},void 0),e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:282,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:275,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:274,columnNumber:17},void 0),e.jsxDEV(ms,{children:A.map(u=>e.jsxDEV(Te,{hover:!0,children:[e.jsxDEV(h,{children:u.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:288,columnNumber:23},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:u.statut,color:u.statut==="Projet"?"info":"success",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:290,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:289,columnNumber:23},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:u.type,color:u.type==="Build"?"primary":"secondary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:297,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:296,columnNumber:23},void 0),e.jsxDEV(h,{children:u.hebergement},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:303,columnNumber:23},void 0),e.jsxDEV(h,{children:u.architecture_logicielle},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:304,columnNumber:23},void 0),e.jsxDEV(h,{children:u.date_mise_en_prod?new Date(u.date_mise_en_prod).toLocaleDateString("fr-FR"):"Non définie"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:305,columnNumber:23},void 0),e.jsxDEV(h,{children:[e.jsxDEV(Ie,{color:"primary",onClick:()=>z(u),title:"Modifier l'application",children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:316,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:311,columnNumber:25},void 0),e.jsxDEV(Ie,{color:"error",onClick:()=>E(u),title:"Supprimer l'application",children:e.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:323,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:318,columnNumber:25},void 0),e.jsxDEV(Ie,{color:"info",onClick:()=>Se(u),title:"Calculer le score de maturité",children:e.jsxDEV(ys,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:330,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:325,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:310,columnNumber:23},void 0)]},u.id_application,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:287,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:285,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:273,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:272,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:266,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:245,columnNumber:7},void 0),e.jsxDEV(cs,{open:W,onClose:j,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(bs,{children:q==="create"?"Créer une nouvelle application":"Modifier l'application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:344,columnNumber:9},void 0),e.jsxDEV(fs,{children:e.jsxDEV(r,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(ne,{required:!0,fullWidth:!0,id:"nom_application",name:"nom_application",label:"Nom de l'application",value:w.nom_application,onChange:X},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:351,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:350,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{id:"statut-label",children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:363,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"statut-label",id:"statut",name:"statut",value:w.statut,label:"Statut",onChange:X,children:[e.jsxDEV(De,{value:"Projet",children:"Projet"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:372,columnNumber:21},void 0),e.jsxDEV(De,{value:"Run",children:"Run"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:373,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:364,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:362,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:361,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{id:"type-label",children:"Type"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:379,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"type-label",id:"type",name:"type",value:w.type,label:"Type",onChange:X,children:[e.jsxDEV(De,{value:"Build",children:"Build"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:388,columnNumber:21},void 0),e.jsxDEV(De,{value:"Buy",children:"Buy"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:389,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:380,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:378,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:377,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{id:"hebergement-label",children:"Hébergement"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:395,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"hebergement-label",id:"hebergement",name:"hebergement",value:w.hebergement,label:"Hébergement",onChange:X,children:[e.jsxDEV(De,{value:"Cloud",children:"Cloud"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:404,columnNumber:21},void 0),e.jsxDEV(De,{value:"Prem",children:"Prem"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:405,columnNumber:21},void 0),e.jsxDEV(De,{value:"Hybrid",children:"Hybrid"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:406,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:396,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:394,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:393,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{id:"architecture-label",children:"Architecture"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:412,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"architecture-label",id:"architecture_logicielle",name:"architecture_logicielle",value:w.architecture_logicielle,label:"Architecture",onChange:X,children:[e.jsxDEV(De,{value:"ERP",children:"ERP"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:421,columnNumber:21},void 0),e.jsxDEV(De,{value:"Multitenant SAAS",children:"Multitenant SAAS"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:422,columnNumber:21},void 0),e.jsxDEV(De,{value:"MVC",children:"MVC"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:423,columnNumber:21},void 0),e.jsxDEV(De,{value:"Monolithique",children:"Monolithique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:424,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:413,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:411,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:410,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(jn,{label:"Date de mise en production",value:_,onChange:V,textFieldProps:{variant:"outlined"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:429,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:428,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(ne,{fullWidth:!0,id:"editeur",name:"editeur",label:"Éditeur",value:w.editeur,onChange:X},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:439,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:438,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(ne,{fullWidth:!0,id:"language",name:"language",label:"Langage principal",value:w.language,onChange:X},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:449,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:448,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(ne,{fullWidth:!0,id:"description",name:"description",label:"Description",multiline:!0,rows:4,value:w.description,onChange:X},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:459,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:458,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:349,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:348,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:347,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:j,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:474,columnNumber:11},void 0),e.jsxDEV(P,{onClick:pe,variant:"contained",color:"primary",disabled:!w.nom_application,children:q==="create"?"Créer":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:475,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:473,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:343,columnNumber:7},void 0),e.jsxDEV(cs,{open:T,onClose:Z,children:[e.jsxDEV(bs,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:488,columnNumber:9},void 0),e.jsxDEV(fs,{children:e.jsxDEV(s,{children:[`Êtes-vous sûr de vouloir supprimer l'application "`,O==null?void 0:O.nom_application,'" ? Cette action est irréversible.']},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:490,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:489,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:Z,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:496,columnNumber:11},void 0),e.jsxDEV(P,{onClick:Ve,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:497,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:495,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:487,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:238,columnNumber:5},void 0)},fa=i=>{const{children:t,value:n,index:b,...m}=i;return e.jsxDEV("div",{role:"tabpanel",hidden:n!==b,id:`organization-tabpanel-${b}`,"aria-labelledby":`organization-tab-${b}`,...m,children:n===b&&e.jsxDEV(r,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:101,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:93,columnNumber:5},void 0)},Ks=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F","#FFBB28","#FF8042","#a4de6c","#d0ed57"],An=()=>{var R,H,z;const{name:i}=Gs(),t=ns(),[n,b]=a.useState(!0),[m,A]=a.useState([]),[p,W]=a.useState([]),[S,O]=a.useState([]),[f,w]=a.useState(""),[Q,q]=a.useState(0);a.useEffect(()=>{M().then(()=>{i&&(w(i),T(i))})},[i]);const M=async()=>{b(!0);try{const j=await U.get("acteurs"),X=[...new Set(j.data.map(pe=>pe.organisation))].filter(Boolean),V=[];for(const pe of X)try{const E=await U.get(`acteurs/organisation/${pe}/applications/count`),Z=await U.get(`interpretation/organisation/${pe}`),Ve=Z.data.reduce((u,y)=>u+y.scoreGlobal,0),Se=Z.data.length>0?Ve/Z.data.length:0;V.push({nom:pe,nombre_applications:E.data.count,nombre_analyses:Z.data.length,score_moyen:Se})}catch(E){console.error(`Erreur lors de la récupération des statistiques pour ${pe}:`,E)}A(V),!i&&V.length>0&&(w(V[0].nom),T(V[0].nom))}catch(j){console.error("Erreur lors du chargement des organisations:",j)}finally{b(!1)}},T=async j=>{b(!0);try{const X=await U.get(`interpretation/organisation/${j}`);W(X.data);const V=await U.get(`interpretation/organisation/${j}/scores-moyens`);O(V.data),q(0)}catch(X){console.error("Erreur lors du chargement des analyses:",X)}finally{b(!1)}},$=j=>{const X=j.target.value;w(X),t(`/organisations/${X}`)},_=(j,X)=>{q(X)},Y=j=>j.map(X=>({thematique:X.thematique,score:X.score,fullMark:5}));return n?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:222,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:221,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:"Analyse par Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:234,columnNumber:15},void 0),e.jsxDEV($e,{sx:{minWidth:200},children:[e.jsxDEV(Ge,{id:"organisation-select-label",children:"Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:238,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"organisation-select-label",id:"organisation-select",value:f,onChange:$,label:"Organisation",children:m.map(j=>e.jsxDEV(De,{value:j.nom,children:j.nom},j.nom,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:247,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:237,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:233,columnNumber:13},void 0),f&&e.jsxDEV(d,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"h6",align:"center",children:((R=m.find(j=>j.nom===f))==null?void 0:R.nombre_applications)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:261,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",align:"center",children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:264,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:260,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:259,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:258,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"h6",align:"center",children:((H=m.find(j=>j.nom===f))==null?void 0:H.nombre_analyses)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:273,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",align:"center",children:"Analyses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:276,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:272,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:271,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:270,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"h6",align:"center",children:(((z=m.find(j=>j.nom===f))==null?void 0:z.score_moyen)||0).toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:285,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",align:"center",children:"Score Moyen"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:288,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:284,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:283,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:282,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:257,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:232,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:231,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{width:"100%"},children:[e.jsxDEV(Vs,{value:Q,onChange:_,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[e.jsxDEV(Je,{label:"Vue d'ensemble"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:309,columnNumber:15},void 0),e.jsxDEV(Je,{label:"Scores par Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:310,columnNumber:15},void 0),e.jsxDEV(Je,{label:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:302,columnNumber:13},void 0),e.jsxDEV(fa,{value:Q,index:0,children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Scores moyens par thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:320,columnNumber:21},void 0),e.jsxDEV(Ee,{children:S.length>0?e.jsxDEV(Ts,{width:"100%",height:400,children:e.jsxDEV(ra,{outerRadius:150,data:Y(S),children:[e.jsxDEV(aa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:325,columnNumber:29},void 0),e.jsxDEV(ia,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:326,columnNumber:29},void 0),e.jsxDEV(na,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:327,columnNumber:29},void 0),e.jsxDEV(Dr,{name:"Score",dataKey:"score",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:328,columnNumber:29},void 0),e.jsxDEV(nr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:335,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:324,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:323,columnNumber:25},void 0):e.jsxDEV(s,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:339,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:321,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:319,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:318,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Scores globaux par application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:350,columnNumber:21},void 0),e.jsxDEV(Ee,{children:p.length>0?e.jsxDEV(Ts,{width:"100%",height:400,children:e.jsxDEV(ni,{data:p.map(j=>({name:j.nomApplication,score:j.scoreGlobal})),margin:{top:5,right:30,left:20,bottom:100},children:[e.jsxDEV(Ua,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:361,columnNumber:29},void 0),e.jsxDEV(ja,{dataKey:"name",tick:{angle:-45,textAnchor:"end"},height:100},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:362,columnNumber:29},void 0),e.jsxDEV(Va,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:367,columnNumber:29},void 0),e.jsxDEV(Jr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:368,columnNumber:29},void 0),e.jsxDEV(nr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:369,columnNumber:29},void 0),e.jsxDEV(ti,{dataKey:"score",name:"Score Global",children:p.map((j,X)=>e.jsxDEV(Ea,{fill:Ks[X%Ks.length]},`cell-${X}`,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:372,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:370,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:354,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:353,columnNumber:25},void 0):e.jsxDEV(s,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:378,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:351,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:349,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:348,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Répartition par niveau de maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:389,columnNumber:21},void 0),e.jsxDEV(Ee,{children:p.length>0?e.jsxDEV(e.Fragment,{children:e.jsxDEV(d,{container:!0,spacing:2,children:Array.from(new Set(p.map(j=>j.interpretation.niveau))).map((j,X)=>{const V=p.filter(E=>E.interpretation.niveau===j).length,pe=(V/p.length*100).toFixed(1);return e.jsxDEV(d,{xs:6,md:3,children:e.jsxDEV(ge,{variant:"outlined",children:e.jsxDEV(Ee,{sx:{textAlign:"center"},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:j},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:402,columnNumber:39},void 0),e.jsxDEV(s,{variant:"h4",color:Ks[X%Ks.length],children:V},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:405,columnNumber:39},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",children:[pe,"% des applications"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:408,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:401,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:400,columnNumber:35},void 0)},j,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:399,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:393,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:392,columnNumber:25},void 0):e.jsxDEV(s,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:419,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:390,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:388,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:387,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:316,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:315,columnNumber:13},void 0),e.jsxDEV(fa,{value:Q,index:1,children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Scores moyens par thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:435,columnNumber:21},void 0),e.jsxDEV(Ee,{children:S.length>0?e.jsxDEV(ds,{children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:442,columnNumber:33},void 0),e.jsxDEV(h,{children:"Score Moyen"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:443,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:441,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:440,columnNumber:29},void 0),e.jsxDEV(ms,{children:S.map(j=>e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:j.thematique},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:449,columnNumber:35},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{display:"flex",alignItems:"center",children:[e.jsxDEV(r,{width:"50px",mr:1,children:j.score.toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:452,columnNumber:39},void 0),e.jsxDEV(r,{flex:1,mr:1,children:e.jsxDEV("div",{style:{height:"10px",width:`${j.score/5*100}%`,backgroundColor:"#8884d8",borderRadius:"5px"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:456,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:455,columnNumber:39},void 0),e.jsxDEV(r,{width:"30px",children:e.jsxDEV(ie,{label:j.score>=4?"A":j.score>=3?"B":j.score>=2?"C":j.score>=1?"D":"E",size:"small",color:j.score>=4?"success":j.score>=3?"info":j.score>=2?"warning":"error"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:464,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:463,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:451,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:450,columnNumber:35},void 0)]},j.thematique,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:448,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:446,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:439,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:438,columnNumber:25},void 0):e.jsxDEV(s,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:484,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:436,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:434,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:433,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Détail par application et thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:495,columnNumber:21},void 0),e.jsxDEV(Ee,{children:S.length>0?e.jsxDEV(ds,{sx:{maxHeight:440},children:e.jsxDEV(os,{stickyHeader:!0,children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:502,columnNumber:33},void 0),e.jsxDEV(h,{children:"Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:503,columnNumber:33},void 0),e.jsxDEV(h,{children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:504,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:501,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:500,columnNumber:29},void 0),e.jsxDEV(ms,{children:p.flatMap(j=>j.thematiques.map(X=>e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:j.nomApplication},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:511,columnNumber:37},void 0),e.jsxDEV(h,{children:X.thematique},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:512,columnNumber:37},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{display:"flex",alignItems:"center",children:[e.jsxDEV(r,{width:"30px",mr:1,children:X.score.toFixed(1)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:515,columnNumber:41},void 0),e.jsxDEV(r,{flex:1,children:e.jsxDEV("div",{style:{height:"8px",width:`${X.score/5*100}%`,backgroundColor:"#82ca9d",borderRadius:"4px"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:519,columnNumber:43},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:518,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:514,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:513,columnNumber:37},void 0)]},`${j.idAnalyse}-${X.thematique}`,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:510,columnNumber:35},void 0)))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:507,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:499,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:498,columnNumber:25},void 0):e.jsxDEV(s,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:535,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:496,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:494,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:493,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:431,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:430,columnNumber:13},void 0),e.jsxDEV(fa,{value:Q,index:2,children:e.jsxDEV(d,{container:!0,spacing:3,children:e.jsxDEV(d,{xs:12,children:e.jsxDEV(ds,{component:Ce,children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:554,columnNumber:27},void 0),e.jsxDEV(h,{children:"Score Global"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:555,columnNumber:27},void 0),e.jsxDEV(h,{children:"Niveau de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:556,columnNumber:27},void 0),e.jsxDEV(h,{children:"Date d'Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:557,columnNumber:27},void 0),e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:558,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:553,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:552,columnNumber:23},void 0),e.jsxDEV(ms,{children:p.map(j=>e.jsxDEV(Te,{hover:!0,children:[e.jsxDEV(h,{children:j.nomApplication},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:564,columnNumber:29},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{display:"flex",alignItems:"center",children:[e.jsxDEV(r,{width:"50px",mr:1,children:j.scoreGlobal.toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:567,columnNumber:33},void 0),e.jsxDEV(r,{flex:1,children:e.jsxDEV("div",{style:{height:"10px",width:`${j.scoreGlobal/5*100}%`,backgroundColor:Ks[p.indexOf(j)%Ks.length],borderRadius:"5px"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:571,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:570,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:566,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:565,columnNumber:29},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:j.interpretation.niveau,color:j.scoreGlobal>=4?"success":j.scoreGlobal>=3?"info":j.scoreGlobal>=2?"warning":"error"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:581,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:580,columnNumber:29},void 0),e.jsxDEV(h,{children:new Date(j.dateAnalyse).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:591,columnNumber:29},void 0),e.jsxDEV(h,{children:e.jsxDEV(P,{variant:"outlined",size:"small",onClick:()=>t(`/analyses-interpretations/${j.idAnalyse}`),children:"Détails"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:595,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:594,columnNumber:29},void 0)]},j.idAnalyse,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:563,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:561,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:551,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:550,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:549,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:547,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:546,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:301,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:300,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:229,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:228,columnNumber:5},void 0)},_n=()=>{const{id:i}=Gs(),t=ns(),[n,b]=a.useState(!0),[m,A]=a.useState(!1),[p,W]=a.useState(null),[S,O]=a.useState(null),[f,w]=a.useState(null),[Q,q]=a.useState([]),[M,T]=a.useState(0),$=["Vérification des formulaires","Calcul des scores","Génération de l'analyse"];a.useEffect(()=>{(async()=>{if(!i){W("Identifiant de l'application manquant"),b(!1);return}b(!0),W(null);try{const H=await U.get(`applications/${i}`);H&&w(H);const z=await U.get("formulaires");let j=[];Array.isArray(z)?j=z.filter(X=>X.id_application===i):z&&z.data&&Array.isArray(z.data)&&(j=z.data.filter(X=>X.id_application===i)),q(j),T(0)}catch(H){console.error("Erreur lors du chargement des données:",H),W("Erreur lors du chargement des données. Veuillez réessayer plus tard.")}finally{b(!1)}})()},[i]);const _=async()=>{if(i){A(!0),W(null),O(null);try{T(0),await new Promise(H=>setTimeout(H,1e3)),T(1),await new Promise(H=>setTimeout(H,1e3));const R=await U.post("analyses",{id_application:i});T(2),await new Promise(H=>setTimeout(H,1e3)),O("Le score de maturité a été calculé avec succès!"),setTimeout(()=>{t(`/analyses-interpretations/${i}`)},2e3)}catch(R){console.error("Erreur lors du calcul du score:",R),W("Une erreur est survenue lors du calcul du score. Veuillez réessayer plus tard.")}finally{A(!1)}}},Y=Q.length>0;return n?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:156,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:155,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(P,{color:"primary",startIcon:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:170,columnNumber:28},void 0),onClick:()=>t("/applications"),sx:{mr:2},children:"Retour aux applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:168,columnNumber:15},void 0),e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:"Calcul du Score de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:176,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:167,columnNumber:13},void 0),f&&e.jsxDEV(s,{variant:"subtitle1",children:["Application: ",e.jsxDEV("strong",{children:f.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:183,columnNumber:30},void 0)," | Type: ",e.jsxDEV("strong",{children:f.type},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:184,columnNumber:23},void 0)," | Statut: ",e.jsxDEV("strong",{children:f.statut},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:185,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:166,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:165,columnNumber:9},void 0),p&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(fe,{severity:"error",children:p},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:194,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:193,columnNumber:11},void 0),S&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(fe,{severity:"success",children:S},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:200,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:199,columnNumber:11},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2},children:e.jsxDEV(Ar,{activeStep:M,alternativeLabel:!0,children:$.map(R=>e.jsxDEV(ar,{children:e.jsxDEV(ir,{children:R},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:210,columnNumber:19},void 0)},R,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:209,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:207,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:206,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:205,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Formulaires disponibles pour l'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV(ss,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:223,columnNumber:13},void 0),Q.length>0?e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"body1",mb:2,children:[Q.length," formulaire(s) trouvé(s) pour cette application."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:227,columnNumber:17},void 0),e.jsxDEV(hs,{children:Q.map((R,H)=>e.jsxDEV(us,{divider:!0,children:e.jsxDEV(is,{primary:R.titre||R.questionnaire_titre||`Formulaire ${H+1}`,secondary:`Statut: ${R.statut||"Non défini"} | Dernière modification: ${R.date_modification?new Date(R.date_modification).toLocaleDateString("fr-FR"):"Non disponible"}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:234,columnNumber:23},void 0)},R.id_formulaire||H,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:233,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:231,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:226,columnNumber:15},void 0):e.jsxDEV(fe,{severity:"warning",children:"Aucun formulaire n'est disponible pour cette application. Le calcul du score de maturité nécessite au moins un formulaire complété."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:247,columnNumber:15},void 0),e.jsxDEV(r,{display:"flex",justifyContent:"center",mt:3,children:e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ya,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:256,columnNumber:28},void 0),onClick:_,disabled:m||!Y,size:"large",children:m?"Calcul en cours...":"Calculer le Score de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:253,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:252,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:219,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:218,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Comment se déroule le calcul ?"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body1",paragraph:!0,children:"Le score de maturité est calculé à partir des réponses aux questionnaires liés à cette application. Le processus évalue plusieurs thématiques et fournit un score global ainsi que des scores par domaine."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:273,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body1",children:[e.jsxDEV("strong",{children:"Note :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:278,columnNumber:15},void 0)," Pour obtenir un score pertinent, assurez-vous que les formulaires ont été complétés avec soin et reflètent fidèlement la maturité DevSecOps de l'application."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:277,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:269,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:268,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:163,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:162,columnNumber:5},void 0)};function Wa(i){const{children:t,value:n,index:b,...m}=i;return e.jsxDEV("div",{role:"tabpanel",hidden:n!==b,id:`tabpanel-${b}`,"aria-labelledby":`tab-${b}`,...m,children:n===b&&e.jsxDEV(r,{sx:{py:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:154,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:147,columnNumber:5},this)}const In=()=>{var Me,Be,_r;const i=ns(),[t,n]=a.useState(0),[b,m]=a.useState([]),[A,p]=a.useState([]),[W,S]=a.useState([]),[O,f]=a.useState(!1),[w,Q]=a.useState(null),[q,M]=a.useState([]),[T,$]=a.useState([]),[_,Y]=a.useState(!0),[R,H]=a.useState(!1),[z,j]=a.useState(null),[X,V]=a.useState(null),[pe,E]=a.useState(""),[Z,Ve]=a.useState(""),[Se,u]=a.useState(""),[y,D]=a.useState(""),[c,N]=a.useState("desc"),[g,o]=a.useState("date_modification"),[v,B]=a.useState(0),[L,le]=a.useState(10),[re,F]=a.useState(""),[oe,ae]=a.useState(""),[Ae,Ue]=a.useState(""),[ke,te]=a.useState(0),[he,de]=a.useState(10),[ye,ve]=a.useState(!1),[qe,I]=a.useState(0),[C,ue]=a.useState(""),[ee,k]=a.useState([]),[J,Fe]=a.useState(!1),K={cybersecurite:{label:"Cybersécurité",icon:jr,color:"#d32f2f"},maturite_digitale:{label:"Maturité Digitale",icon:Ur,color:"#1976d2"},gouvernance_donnees:{label:"Gouvernance Données",icon:ea,color:"#388e3c"},devsecops:{label:"DevSecOps",icon:Zr,color:"#f57c00"},innovation_numerique:{label:"Innovation Numérique",icon:sr,color:"#7b1fa2"}},me=a.useCallback(async()=>{try{const x=await U.get("formulaires"),we=(Array.isArray(x)?x:x.data||[]).map(xe=>({id_formulaire:xe.id_formulaire,id_acteur:xe.id_acteur||"",acteur_nom:xe.acteur_nom||"Utilisateur inconnu",id_application:xe.id_application||"",nom_application:xe.nom_application||"Application inconnue",id_entreprise:xe.id_entreprise||"",nom_entreprise:xe.nom_entreprise||"Entreprise inconnue",id_questionnaire:xe.id_questionnaire||"",questionnaire_nom:xe.questionnaire_nom||xe.nom||"Questionnaire sans nom",thematiques:Array.isArray(xe.thematiques)?xe.thematiques:xe.thematiques?xe.thematiques.split(",").map(je=>je.trim()):[],fonctions:Array.isArray(xe.fonctions)?xe.fonctions:xe.fonctions?xe.fonctions.split(",").map(je=>je.trim()):[],date_creation:xe.date_creation||new Date().toISOString(),date_modification:xe.date_modification||xe.date_creation||new Date().toISOString(),statut:xe.statut||"Brouillon",progression:Number(xe.progression)??0,total_questions:xe.total_questions||0,total_reponses:xe.total_reponses||0,commentaires:xe.commentaires||""}));m(we)}catch(x){console.error("Erreur chargement formulaires:",x),j("Erreur lors du chargement des formulaires")}},[]),Ne=a.useCallback(async()=>{var x;try{const xe=((await U.get("maturity-global/evaluations")).evaluations||[]).map(je=>({...je,id_evaluation:je.id_evaluation,nom_entreprise:je.nom_entreprise,nom_acteur:je.evaluateur_nom,email_acteur:je.evaluateur_email,statut:je.statut,score_global:je.score_global,score_cybersecurite:je.score_cybersecurite,score_maturite_digitale:je.score_maturite_digitale,score_gouvernance_donnees:je.score_gouvernance_donnees,score_devsecops:je.score_devsecops,score_innovation_numerique:je.score_innovation_numerique,date_debut:je.date_debut,date_soumission:je.date_soumission,duree_evaluation:je.duree_evaluation,niveau_global:lr(je.score_global||0)}));M(xe)}catch(se){console.error("Erreur chargement évaluations:",se),((x=se.response)==null?void 0:x.status)===404?(M([]),console.info("Endpoint évaluations de maturité pas encore disponible")):j("Erreur lors du chargement des évaluations")}},[]),We=a.useCallback(async()=>{var x;try{console.log("🏢 Chargement des entreprises via /api/entreprises...");const se=await U.get("entreprises");console.log("📋 Réponse brute:",se);let we=[];Array.isArray(se)?we=se:se.data&&Array.isArray(se.data)?we=se.data:se&&typeof se=="object"?we=[se]:(console.warn("⚠️ Format de réponse inattendu:",typeof se),we=[]),console.log(`📊 ${we.length} entreprise(s) trouvée(s)`);const xe=we.filter(je=>{const He=je&&je.id_entreprise&&je.nom_entreprise,Xe=je.actif!==!1&&je.actif!==0&&je.statut!=="INACTIF";return He&&Xe});console.log(`✅ ${xe.length} entreprise(s) active(s) filtrée(s)`),console.log("📋 Entreprises disponibles:",xe.map(je=>({id:je.id_entreprise,nom:je.nom_entreprise,secteur:je.secteur,actif:je.actif}))),S(xe)}catch(se){console.error("❌ Erreur chargement entreprises:",se),se.response?(console.error("📍 Détails erreur API:",{status:se.response.status,statusText:se.response.statusText,url:(x=se.config)==null?void 0:x.url,data:se.response.data}),se.response.status===404?j("Route /api/entreprises non trouvée. Vérifiez que la route est montée dans server.js"):se.response.status===500&&j("Erreur serveur lors du chargement des entreprises")):se.request?(console.error("📍 Erreur réseau:",se.request),j("Impossible de contacter le serveur")):(console.error("📍 Erreur configuration:",se.message),j("Erreur de configuration API")),console.warn("🔧 Mode développement : utilisation de données de démo"),S([{id_entreprise:"demo-entreprise-1",nom_entreprise:"Entreprise Démo 1",secteur:"Technologies",taille_entreprise:"PME",actif:!0,score_global:3.2},{id_entreprise:"demo-entreprise-2",nom_entreprise:"Entreprise Démo 2",secteur:"Services",taille_entreprise:"ETI",actif:!0,score_global:2.8}])}},[]),ps=a.useCallback(async x=>{var se,we,xe,je;if(!x){$([]);return}try{console.log(`🔍 Chargement des acteurs pour l'entreprise ${x}...`);const He=await U.get(`acteurs/entreprise/${x}`);console.log("📋 Réponse acteurs:",He);let Xe=[];He.success&&He.data?(Xe=He.data,console.log(`✅ ${((se=He.metadata)==null?void 0:se.count)||Xe.length} acteur(s) trouvé(s)`)):Array.isArray(He)?Xe=He:He.data&&Array.isArray(He.data)?Xe=He.data:(console.warn("⚠️ Format de réponse inattendu:",He),Xe=[]);const Ms=Xe.filter(Fs=>{const Ir=Fs&&Fs.id_acteur&&Fs.nom_prenom&&Fs.email,Sr=Fs.actif!==!1;return Ir&&Sr});console.log(`📊 ${Ms.length} acteur(s) actif(s) après filtrage`),$(Ms)}catch(He){if(console.error("❌ Erreur lors du chargement des acteurs:",He),((we=He.response)==null?void 0:we.status)===404){console.warn("📍 Endpoint acteurs/entreprise non trouvé - essai d'un fallback");try{const Xe=await U.get(`entreprises/${x}/acteurs`),Ms=Array.isArray(Xe)?Xe:Xe.data||[];$(Ms.filter(Fs=>Fs.actif!==!1)),console.log("✅ Fallback réussi avec endpoint entreprises/{id}/acteurs");return}catch{console.warn("📍 Fallback 1 échoué, tentative fallback 2");try{const Ms=await U.get("acteurs"),Ir=(Array.isArray(Ms)?Ms:Ms.data||[]).filter(Sr=>Sr.id_entreprise===x&&Sr.actif!==!1);$(Ir),console.log(`✅ Fallback 2 réussi: ${Ir.length} acteur(s) filtré(s)`);return}catch{console.warn("📍 Tous les fallbacks ont échoué - mode démo"),$([{id_acteur:`demo-1-${x}`,nom_prenom:"Utilisateur Démo 1",email:"demo1@entreprise.com",id_entreprise:x,poste:"Responsable IT",actif:!0},{id_acteur:`demo-2-${x}`,nom_prenom:"Utilisateur Démo 2",email:"demo2@entreprise.com",id_entreprise:x,poste:"DSI",actif:!0}]),console.warn("🔧 Mode démo activé avec des données fictives")}}}else((xe=He.response)==null?void 0:xe.status)===403?(console.error("🚫 Accès non autorisé à cette entreprise"),j("Vous n'avez pas accès aux acteurs de cette entreprise"),$([])):((je=He.response)==null?void 0:je.status)===500?(console.error("🔥 Erreur serveur lors du chargement des acteurs"),j("Erreur serveur lors du chargement des acteurs"),$([])):(console.error("🌐 Erreur réseau ou inconnue"),j("Erreur lors du chargement des acteurs"),$([]))}},[]),ws=a.useCallback(x=>{x&&(console.log(`🔄 Actualisation des acteurs pour l'entreprise ${x}`),ps(x))},[ps]);a.useCallback(async()=>{var x,se,we,xe,je;try{await U.get("acteurs/entreprise/test-endpoint-availability")}catch(He){if(((x=He.response)==null?void 0:x.status)===404&&((xe=(we=(se=He.response)==null?void 0:se.data)==null?void 0:we.message)!=null&&xe.includes("Entreprise non trouvée")))return console.log("✅ Endpoint acteurs/entreprise disponible"),!0;if(((je=He.response)==null?void 0:je.status)===404)return console.warn("⚠️ Endpoint acteurs/entreprise non disponible"),!1}return!1},[]);const Rs=a.useCallback(async()=>{try{const x=await U.get("fonctions");p(Array.isArray(x)?x:x.data||[])}catch(x){console.error("Erreur chargement fonctions:",x)}},[]);a.useEffect(()=>{(async()=>{Y(!0);try{await Promise.all([me(),Ne(),We(),Rs()])}finally{Y(!1)}})()},[me,Ne,We,Rs]);const lr=x=>x>=4.5?"Optimisé":x>=3.5?"Géré":x>=2.5?"Mesuré":x>=1.5?"Défini":"Initial",mr=x=>x>=4?"success":x>=3?"warning":x>=2?"error":"default",Qs=x=>{try{return new Date(x).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return"Date invalide"}},qs=(x,se)=>{n(se)},ce=()=>{H(!0),t===0?me().finally(()=>H(!1)):Ne().finally(()=>H(!1))},G=b.filter(x=>{const se=pe===""||x.questionnaire_nom&&x.questionnaire_nom.toLowerCase().includes(pe.toLowerCase())||x.nom_entreprise&&x.nom_entreprise.toLowerCase().includes(pe.toLowerCase())||x.acteur_nom&&x.acteur_nom.toLowerCase().includes(pe.toLowerCase()),we=Z===""||x.statut===Z,xe=Se===""||x.fonctions&&x.fonctions.includes(Se),je=y===""||x.id_entreprise===y;return se&&we&&xe&&je}),_e=q.filter(x=>{const se=re===""||x.nom_entreprise.toLowerCase().includes(re.toLowerCase())||x.nom_acteur.toLowerCase().includes(re.toLowerCase())||x.email_acteur.toLowerCase().includes(re.toLowerCase()),we=oe===""||x.statut===oe,xe=Ae===""||x.id_entreprise===Ae;return se&&we&&xe}),Re=()=>{ve(!0),I(0),ue(""),k([])},Ye=async x=>{var se;if(console.log(`🏢 Sélection entreprise: ${x}`),ue(x),k([]),Q(null),x){f(!0);try{await ps(x);const we=(se=W.find(xe=>xe.id_entreprise===x))==null?void 0:se.nom_entreprise;console.log(`✅ Acteurs chargés pour l'entreprise: ${we}`)}catch(we){console.error("❌ Erreur lors du chargement des acteurs:",we),Q("Erreur lors du chargement des acteurs")}finally{f(!1)}}else $([])},As=a.useCallback(async()=>{var x,se,we;try{console.log("🔍 Validation de l'endpoint acteurs...");const xe=(x=W[0])==null?void 0:x.id_entreprise;if(xe){const je=await U.get(`acteurs/entreprise/${xe}`);if(je.success)return console.log("✅ Endpoint /api/acteurs/entreprise/:id configuré correctement"),{available:!0,message:"Endpoint configuré et fonctionnel",responseStructure:je}}return{available:!1,message:"Endpoint disponible mais structure de réponse inattendue"}}catch(xe){return console.warn("⚠️ Endpoint /api/acteurs/entreprise/:id non disponible:",xe.message),((se=xe.response)==null?void 0:se.status)===404?{available:!1,message:"Endpoint non configuré - fallbacks seront utilisés",error:"Route non trouvée"}:((we=xe.response)==null?void 0:we.status)===403?{available:!1,message:"Problème de permissions d'accès",error:"Accès refusé"}:{available:!1,message:"Erreur lors de la validation de l'endpoint",error:xe.message}}},[W]);a.useCallback(async x=>{var we,xe,je;const se={endpointAvailable:!1,hasPermissions:!1,entrepriseExists:!1,hasActeurs:!1,recommendations:[]};try{const He=W.find(Xe=>Xe.id_entreprise===x);se.entrepriseExists=!!He,se.entrepriseExists||se.recommendations.push("Vérifiez que l'entreprise existe dans la base de données");try{const Xe=await U.get(`acteurs/entreprise/${x}`);se.endpointAvailable=!0,se.hasPermissions=!0,se.hasActeurs=((we=Xe.data)==null?void 0:we.length)>0,se.hasActeurs||(se.recommendations.push("Ajoutez des acteurs à cette entreprise"),se.recommendations.push("Vérifiez que les acteurs sont marqués comme actifs"))}catch(Xe){((xe=Xe.response)==null?void 0:xe.status)===404?(se.recommendations.push("Configurez la route /api/acteurs/entreprise/:id dans server.js"),se.recommendations.push("Vérifiez que le middleware d'authentification est configuré")):((je=Xe.response)==null?void 0:je.status)===403&&(se.hasPermissions=!1,se.recommendations.push("Vérifiez les permissions d'accès aux acteurs"),se.recommendations.push("Contrôlez le middleware filterByEntreprise"))}if(!se.endpointAvailable)try{await U.get(`entreprises/${x}/acteurs`),se.recommendations.push("Endpoint alternatif entreprises/{id}/acteurs disponible")}catch{try{await U.get("acteurs"),se.recommendations.push("Endpoint acteurs global disponible (filtrage côté client possible)")}catch{se.recommendations.push("Aucun endpoint acteurs disponible - mode démo sera utilisé")}}}catch(He){se.recommendations.push(`Erreur de diagnostic: ${He.message}`)}return console.log("🔍 Diagnostic des acteurs:",se),se},[W]),a.useCallback(()=>{console.group("🔧 Informations de debug - Acteurs"),console.log("📊 État actuel:"),console.log("  - Entreprise sélectionnée:",C),console.log("  - Nombre d'acteurs:",T.length),console.log("  - Acteurs sélectionnés:",ee.length),console.log("  - Chargement en cours:",O),console.log("  - Erreur:",w),console.log("📋 Acteurs disponibles:"),T.forEach((x,se)=>{console.log(`  ${se+1}. ${x.nom_prenom} (${x.email}) - ${x.id_acteur}`)}),console.log("🌐 Endpoints testés:"),console.log("  - Principal: /api/acteurs/entreprise/:id"),console.log("  - Fallback 1: /api/entreprises/:id/acteurs"),console.log("  - Fallback 2: /api/acteurs (avec filtrage)"),console.groupEnd()},[C,T,ee,O,w]),a.useEffect(()=>{W.length>0&&As().then(x=>{console.log("🔍 Résultat validation endpoint:",x)})},[W,As]);const Es=x=>{k(se=>se.includes(x)?se.filter(we=>we!==x):[...se,x])},Hs=async()=>{var x,se;if(!(!C||ee.length===0)){Fe(!0);try{const we=[];for(const xe of ee)try{const je=await U.post("maturity-evaluation/start",{id_entreprise:C,id_acteur:xe});we.push({acteurId:xe,success:!0,evaluationId:je.id_evaluation,link:`${window.location.origin}/maturity-evaluation/${je.id_evaluation}`})}catch(je){we.push({acteurId:xe,success:!1,error:((se=(x=je.response)==null?void 0:x.data)==null?void 0:se.message)||"Erreur inconnue"})}V(`${we.filter(xe=>xe.success).length} évaluation(s) créée(s) avec succès`),ve(!1),Ne()}catch{j("Erreur lors de la création des évaluations")}finally{Fe(!1)}}},l=x=>{x.statut==="TERMINE"?i(`/maturity-analysis/${x.id_evaluation}`):i(`/maturity-evaluation/${x.id_evaluation}`)};return _?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:[e.jsxDEV(Pe,{size:60},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:874,columnNumber:9},void 0),e.jsxDEV(s,{variant:"body2",sx:{ml:2},children:"Chargement des données..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:875,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:873,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"xl",sx:{mt:4,mb:4},children:[z&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},onClose:()=>j(null),children:z},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:886,columnNumber:9},void 0),e.jsxDEV(tr,{open:!!X,autoHideDuration:6e3,onClose:()=>V(null),message:X},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:891,columnNumber:7},void 0),e.jsxDEV(Ce,{sx:{p:2,mb:3},children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(s,{component:"h1",variant:"h4",color:"primary",children:"Gestion des Formulaires et Évaluations"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:901,columnNumber:11},void 0),e.jsxDEV(r,{display:"flex",gap:2,children:e.jsxDEV(P,{variant:"outlined",startIcon:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:907,columnNumber:26},void 0),onClick:ce,disabled:R,children:"Actualiser"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:905,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:904,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:900,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:899,columnNumber:7},void 0),e.jsxDEV(Ce,{sx:{mb:3},children:[e.jsxDEV(Vs,{value:t,onChange:qs,indicatorColor:"primary",children:[e.jsxDEV(Je,{label:"Formulaires d'Évaluation",icon:e.jsxDEV(rr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:922,columnNumber:19},void 0),iconPosition:"start"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:920,columnNumber:11},void 0),e.jsxDEV(Je,{label:"Évaluations Maturité Globale",icon:e.jsxDEV(ys,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:927,columnNumber:19},void 0),iconPosition:"start"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:925,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:919,columnNumber:9},void 0),e.jsxDEV(Wa,{value:t,index:0,children:[e.jsxDEV(d,{container:!0,spacing:2,sx:{mb:3},children:[e.jsxDEV(d,{size:12,sm:6,md:3,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{color:"textSecondary",gutterBottom:!0,children:"Total Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:939,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h4",children:b.length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:942,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:938,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:937,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:936,columnNumber:13},void 0),e.jsxDEV(d,{size:12,sm:6,md:3,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{color:"textSecondary",gutterBottom:!0,children:"Validés"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:949,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h4",color:"success.main",children:b.filter(x=>x.statut==="Validé").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:952,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:948,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:947,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:946,columnNumber:13},void 0),e.jsxDEV(d,{size:12,sm:6,md:3,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{color:"textSecondary",gutterBottom:!0,children:"En Cours"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:961,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h4",color:"warning.main",children:b.filter(x=>x.statut==="Soumis").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:964,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:960,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:959,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:958,columnNumber:13},void 0),e.jsxDEV(d,{size:12,sm:6,md:3,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{color:"textSecondary",gutterBottom:!0,children:"Brouillons"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:973,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h4",color:"info.main",children:b.filter(x=>x.statut==="Brouillon").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:976,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:972,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:971,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:970,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:935,columnNumber:11},void 0),e.jsxDEV(Ce,{sx:{p:2,mb:2},children:e.jsxDEV(d,{container:!0,spacing:2,alignItems:"center",children:[e.jsxDEV(d,{size:12,md:3,children:e.jsxDEV(ne,{fullWidth:!0,label:"Rechercher",variant:"outlined",value:pe,onChange:x=>E(x.target.value),InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:997,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:996,columnNumber:23},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:988,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:987,columnNumber:15},void 0),e.jsxDEV(d,{size:12,md:2,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1005,columnNumber:19},void 0),e.jsxDEV(Qe,{value:Z,label:"Statut",onChange:x=>Ve(x.target.value),children:[e.jsxDEV(De,{value:"",children:"Tous"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1011,columnNumber:21},void 0),e.jsxDEV(De,{value:"Brouillon",children:"Brouillon"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1012,columnNumber:21},void 0),e.jsxDEV(De,{value:"Soumis",children:"Soumis"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1013,columnNumber:21},void 0),e.jsxDEV(De,{value:"Validé",children:"Validé"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1014,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1006,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1004,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1003,columnNumber:15},void 0),e.jsxDEV(d,{size:12,md:3,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1020,columnNumber:19},void 0),e.jsxDEV(Qe,{value:y,label:"Entreprise",onChange:x=>D(x.target.value),children:[e.jsxDEV(De,{value:"",children:"Toutes"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1026,columnNumber:21},void 0),W.map(x=>e.jsxDEV(De,{value:x.id_entreprise,children:x.nom_entreprise},x.id_entreprise,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1028,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1021,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1019,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1018,columnNumber:15},void 0),e.jsxDEV(d,{size:12,md:2,children:e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1039,columnNumber:30},void 0),onClick:()=>i("/formulaires/new"),fullWidth:!0,children:"Nouveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1036,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1035,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:986,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:985,columnNumber:11},void 0),e.jsxDEV(ds,{component:Ce,children:[e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1054,columnNumber:19},void 0),e.jsxDEV(h,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1055,columnNumber:19},void 0),e.jsxDEV(h,{children:"Acteur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1056,columnNumber:19},void 0),e.jsxDEV(h,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1057,columnNumber:19},void 0),e.jsxDEV(h,{children:"Progression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1058,columnNumber:19},void 0),e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1059,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1053,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1052,columnNumber:15},void 0),e.jsxDEV(ms,{children:[G.slice(v*L,v*L+L).map(x=>e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:x.questionnaire_nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1065,columnNumber:21},void 0),e.jsxDEV(h,{children:x.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1066,columnNumber:21},void 0),e.jsxDEV(h,{children:x.acteur_nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1067,columnNumber:21},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:x.statut,color:x.statut==="Validé"?"success":x.statut==="Soumis"?"primary":"warning",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1069,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1068,columnNumber:21},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{sx:{minWidth:120},children:[e.jsxDEV(s,{variant:"body2",sx:{mb:.5},children:[x.progression,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1077,columnNumber:25},void 0),e.jsxDEV(gr,{variant:"determinate",value:x.progression,sx:{height:6,borderRadius:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1080,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1076,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1075,columnNumber:21},void 0),e.jsxDEV(h,{children:e.jsxDEV(Ie,{size:"small",onClick:()=>i(`/formulaires/${x.id_formulaire}`),children:e.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1089,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1088,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1087,columnNumber:21},void 0)]},x.id_formulaire,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1064,columnNumber:19},void 0)),_e.length===0&&e.jsxDEV(Te,{children:e.jsxDEV(h,{colSpan:7,align:"center",children:e.jsxDEV(r,{py:4,children:[e.jsxDEV(ys,{sx:{fontSize:48,color:"text.secondary",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1099,columnNumber:25},void 0),e.jsxDEV(s,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:q.length===0?"Aucune évaluation de maturité":"Aucune évaluation ne correspond aux filtres"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1100,columnNumber:25},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:q.length===0?"Créez votre première évaluation de maturité globale pour commencer.":"Modifiez vos critères de recherche pour voir plus de résultats."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1106,columnNumber:25},void 0),q.length===0&&e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1116,columnNumber:40},void 0),sx:{mt:2},onClick:Re,children:"Créer la première évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1113,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1098,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1097,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1096,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1062,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1051,columnNumber:13},void 0),e.jsxDEV(va,{component:"div",count:G.length,rowsPerPage:L,page:v,onPageChange:(x,se)=>B(se),onRowsPerPageChange:x=>{le(parseInt(x.target.value,10)),B(0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1129,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1050,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:933,columnNumber:9},void 0),e.jsxDEV(Wa,{value:t,index:1,children:[e.jsxDEV(fe,{severity:"info",sx:{mb:3},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"📋 État des APIs pour les Évaluations de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1147,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body2",component:"div",children:[e.jsxDEV("strong",{children:"✅ APIs disponibles :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1151,columnNumber:15},void 0),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:[e.jsxDEV("code",{children:"/api/maturity-global/evaluations"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1153,columnNumber:21},void 0)," - Liste des évaluations"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1153,columnNumber:17},void 0),e.jsxDEV("li",{children:[e.jsxDEV("code",{children:"/api/maturity-evaluation/start"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1154,columnNumber:21},void 0)," - Démarrer une évaluation"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1154,columnNumber:17},void 0),e.jsxDEV("li",{children:[e.jsxDEV("code",{children:"/api/maturity-global/questions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1155,columnNumber:21},void 0)," - Questions d'évaluation"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1155,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1152,columnNumber:15},void 0),e.jsxDEV("strong",{children:"⚠️ APIs manquantes (optionnelles) :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1158,columnNumber:15},void 0),e.jsxDEV("ul",{children:e.jsxDEV("li",{children:[e.jsxDEV("code",{children:"/api/acteurs/entreprise/:id"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1160,columnNumber:21},void 0)," - Acteurs par entreprise"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1160,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1159,columnNumber:15},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[e.jsxDEV("strong",{children:"💡 Pour les développeurs :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1164,columnNumber:17},void 0)," Montez les routes avec :",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1164,columnNumber:85},void 0),e.jsxDEV("code",{children:"app.use('/api/maturity-global', maturityGlobalRoute);"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1165,columnNumber:17},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1165,columnNumber:83},void 0),e.jsxDEV("code",{children:"app.use('/api/maturity-evaluation', maturityEvaluationRoute);"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1166,columnNumber:17},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1166,columnNumber:91},void 0),e.jsxDEV(s,{variant:"caption",component:"div",sx:{mt:.5},children:["📋 Voir les instructions détaillées dans ",e.jsxDEV("code",{children:"server/setup-maturity-routes.js"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1168,columnNumber:60},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1167,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1163,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1150,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1146,columnNumber:11},void 0),q.length===0&&!_&&e.jsxDEV(fe,{severity:"success",sx:{mb:3},children:e.jsxDEV(s,{variant:"body2",children:"🎉 L'interface est prête ! Les évaluations apparaîtront automatiquement dès qu'elles seront créées."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1177,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1176,columnNumber:13},void 0),e.jsxDEV(d,{container:!0,spacing:2,sx:{mb:3},children:[e.jsxDEV(d,{size:12,sm:6,md:3,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{color:"textSecondary",gutterBottom:!0,children:"Total Évaluations"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1187,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h4",children:q.length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1190,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1186,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1185,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1184,columnNumber:13},void 0),e.jsxDEV(d,{size:12,sm:6,md:3,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{color:"textSecondary",gutterBottom:!0,children:"Terminées"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1197,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h4",color:"success.main",children:q.filter(x=>x.statut==="TERMINE").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1200,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1196,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1195,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1194,columnNumber:13},void 0),e.jsxDEV(d,{size:12,sm:6,md:3,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{color:"textSecondary",gutterBottom:!0,children:"En Cours"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1209,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h4",color:"warning.main",children:q.filter(x=>x.statut==="EN_COURS").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1212,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1208,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1207,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1206,columnNumber:13},void 0),e.jsxDEV(d,{size:12,sm:6,md:3,children:e.jsxDEV(ge,{children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{color:"textSecondary",gutterBottom:!0,children:"Score Moyen"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1221,columnNumber:19},void 0),e.jsxDEV(s,{variant:"h4",color:"primary.main",children:q.length>0?(q.filter(x=>x.score_global).reduce((x,se)=>x+(se.score_global||0),0)/q.filter(x=>x.score_global).length).toFixed(1):"0"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1224,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1220,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1219,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1218,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1183,columnNumber:11},void 0),e.jsxDEV(Ce,{sx:{p:2,mb:2},children:e.jsxDEV(d,{container:!0,spacing:2,alignItems:"center",children:[e.jsxDEV(d,{size:12,md:3,children:e.jsxDEV(ne,{fullWidth:!0,label:"Rechercher",variant:"outlined",value:re,onChange:x=>F(x.target.value),InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1248,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1247,columnNumber:23},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1239,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1238,columnNumber:15},void 0),e.jsxDEV(d,{size:12,md:2,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1256,columnNumber:19},void 0),e.jsxDEV(Qe,{value:oe,label:"Statut",onChange:x=>ae(x.target.value),children:[e.jsxDEV(De,{value:"",children:"Tous"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1262,columnNumber:21},void 0),e.jsxDEV(De,{value:"EN_COURS",children:"En cours"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1263,columnNumber:21},void 0),e.jsxDEV(De,{value:"TERMINE",children:"Terminé"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1264,columnNumber:21},void 0),e.jsxDEV(De,{value:"ENVOYE",children:"Envoyé"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1265,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1257,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1255,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1254,columnNumber:15},void 0),e.jsxDEV(d,{size:12,md:3,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1271,columnNumber:19},void 0),e.jsxDEV(Qe,{value:Ae,label:"Entreprise",onChange:x=>Ue(x.target.value),children:[e.jsxDEV(De,{value:"",children:"Toutes"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1277,columnNumber:21},void 0),W.map(x=>e.jsxDEV(De,{value:x.id_entreprise,children:x.nom_entreprise},x.id_entreprise,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1279,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1272,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1270,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1269,columnNumber:15},void 0),e.jsxDEV(d,{size:12,md:2,children:e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1290,columnNumber:30},void 0),onClick:Re,fullWidth:!0,children:"Nouvelle Évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1287,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1286,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1237,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1236,columnNumber:11},void 0),e.jsxDEV(ds,{component:Ce,children:[e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1305,columnNumber:19},void 0),e.jsxDEV(h,{children:"Évaluateur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1306,columnNumber:19},void 0),e.jsxDEV(h,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1307,columnNumber:19},void 0),e.jsxDEV(h,{children:"Score Global"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1308,columnNumber:19},void 0),e.jsxDEV(h,{children:"Fonctions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1309,columnNumber:19},void 0),e.jsxDEV(h,{children:"Date"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1310,columnNumber:19},void 0),e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1311,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1304,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1303,columnNumber:15},void 0),e.jsxDEV(ms,{children:_e.slice(ke*he,ke*he+he).map(x=>e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:e.jsxDEV(r,{children:e.jsxDEV(s,{variant:"body2",fontWeight:"medium",children:x.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1319,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1318,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1317,columnNumber:21},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"body2",fontWeight:"medium",children:x.nom_acteur},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1326,columnNumber:25},void 0),e.jsxDEV(s,{variant:"caption",color:"textSecondary",children:x.email_acteur},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1329,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1325,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1324,columnNumber:21},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:x.statut,color:x.statut==="TERMINE"?"success":x.statut==="EN_COURS"?"warning":"info",size:"small",icon:x.statut==="TERMINE"?e.jsxDEV(Vr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1339,columnNumber:65},void 0):x.statut==="EN_COURS"?e.jsxDEV(Xr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1339,columnNumber:122},void 0):void 0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1335,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1334,columnNumber:21},void 0),e.jsxDEV(h,{children:x.score_global?e.jsxDEV(r,{children:[e.jsxDEV(ie,{label:`${x.score_global.toFixed(1)}/5`,color:mr(x.score_global),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1345,columnNumber:27},void 0),e.jsxDEV(s,{variant:"caption",display:"block",color:"textSecondary",children:x.niveau_global},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1350,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1344,columnNumber:25},void 0):e.jsxDEV(s,{variant:"caption",color:"textSecondary",children:"Non évalué"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1355,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1342,columnNumber:21},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{display:"flex",flexWrap:"wrap",gap:.5,children:Object.entries(K).map(([se,we])=>{const xe=x[`score_${se}`];return xe?e.jsxDEV(as,{title:`${we.label}: ${xe.toFixed(1)}/5`,children:e.jsxDEV(ie,{size:"small",icon:e.jsxDEV(we.icon,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1369,columnNumber:41},void 0),label:xe.toFixed(1),sx:{color:we.color,borderColor:we.color},variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1367,columnNumber:33},void 0)},se,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1366,columnNumber:31},void 0):null})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1361,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1360,columnNumber:21},void 0),e.jsxDEV(h,{children:[e.jsxDEV(s,{variant:"body2",children:x.date_soumission?`Terminé: ${Qs(x.date_soumission)}`:`Débuté: ${Qs(x.date_debut)}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1382,columnNumber:23},void 0),x.duree_evaluation&&e.jsxDEV(s,{variant:"caption",color:"textSecondary",children:["Durée: ",x.duree_evaluation," min"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1389,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1381,columnNumber:21},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{display:"flex",gap:.5,children:[e.jsxDEV(as,{title:"Voir l'évaluation",children:e.jsxDEV(Ie,{size:"small",color:"primary",onClick:()=>l(x),children:e.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1402,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1397,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1396,columnNumber:25},void 0),x.lien_evaluation&&e.jsxDEV(as,{title:"Copier le lien",children:e.jsxDEV(Ie,{size:"small",color:"info",onClick:()=>navigator.clipboard.writeText(x.lien_evaluation||""),children:e.jsxDEV(qi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1412,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1407,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1406,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1395,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1394,columnNumber:21},void 0)]},x.id_evaluation,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1316,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1314,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1302,columnNumber:13},void 0),e.jsxDEV(va,{component:"div",count:_e.length,rowsPerPage:he,page:ke,onPageChange:(x,se)=>te(se),onRowsPerPageChange:x=>{de(parseInt(x.target.value,10)),te(0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1422,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1301,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1144,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:918,columnNumber:7},void 0),e.jsxDEV(cs,{open:ye,onClose:()=>ve(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(bs,{children:"Créer une nouvelle évaluation de maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1444,columnNumber:9},void 0),e.jsxDEV(fs,{children:[e.jsxDEV(fe,{severity:"info",sx:{mb:2},children:e.jsxDEV(s,{variant:"body2",children:[e.jsxDEV("strong",{children:"📡 État de l'intégration :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1450,columnNumber:15},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1450,columnNumber:58},void 0),"✅ Routes principales disponibles",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1451,columnNumber:47},void 0),"⚠️ Route acteurs optionnelle (fallback inclus)",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1452,columnNumber:61},void 0),"🔗 Création d'évaluations fonctionnelle"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1449,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1448,columnNumber:11},void 0),e.jsxDEV(Ar,{activeStep:qe,orientation:"vertical",children:[e.jsxDEV(ar,{children:[e.jsxDEV(ir,{children:"Sélectionner l'entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1459,columnNumber:15},void 0),e.jsxDEV(Sa,{children:[e.jsxDEV($e,{fullWidth:!0,sx:{mt:2},children:[e.jsxDEV(Ge,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1462,columnNumber:19},void 0),e.jsxDEV(Qe,{value:C,label:"Entreprise",onChange:x=>Ye(x.target.value),children:W.map(x=>e.jsxDEV(De,{value:x.id_entreprise,children:e.jsxDEV(r,{display:"flex",alignItems:"center",children:[e.jsxDEV(xs,{sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1471,columnNumber:27},void 0),x.nom_entreprise,x.secteur_activite&&e.jsxDEV(s,{variant:"caption",color:"textSecondary",sx:{ml:1},children:["(",x.secteur_activite,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1474,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1470,columnNumber:25},void 0)},x.id_entreprise,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1469,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1463,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1461,columnNumber:17},void 0),e.jsxDEV(r,{sx:{mt:2},children:e.jsxDEV(P,{variant:"contained",onClick:()=>I(1),disabled:!C,children:"Suivant"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1484,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1483,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1460,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1458,columnNumber:13},void 0),e.jsxDEV(ar,{children:[e.jsxDEV(ir,{children:"Sélectionner les acteurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1496,columnNumber:15},void 0),e.jsxDEV(Sa,{children:[e.jsxDEV(s,{variant:"body2",color:"textSecondary",sx:{mb:2},children:"Sélectionnez les acteurs qui devront remplir l'évaluation de maturité :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1498,columnNumber:17},void 0),_&&C&&e.jsxDEV(r,{display:"flex",alignItems:"center",sx:{mb:2},children:[e.jsxDEV(Pe,{size:20,sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1505,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",children:"Chargement des acteurs..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1506,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1504,columnNumber:19},void 0),e.jsxDEV(fe,{severity:"info",sx:{mb:2},children:e.jsxDEV(s,{variant:"caption",children:["📡 ",e.jsxDEV("strong",{children:"Endpoint utilisé :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1515,columnNumber:24},void 0)," ",e.jsxDEV("code",{children:["/api/acteurs/entreprise/",C]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1515,columnNumber:60},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1515,columnNumber:117},void 0),"✅ Récupération automatique des acteurs de l'entreprise sélectionnée",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1516,columnNumber:88},void 0),"🔄 Fallbacks disponibles en cas d'indisponibilité"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1514,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1513,columnNumber:17},void 0),T.length>0?e.jsxDEV(e.Fragment,{children:[((Be=(Me=T[0])==null?void 0:Me.id_acteur)==null?void 0:Be.startsWith("demo-"))&&e.jsxDEV(fe,{severity:"warning",sx:{mb:2},children:[e.jsxDEV(s,{variant:"body2",children:["🔧 ",e.jsxDEV("strong",{children:"Mode démo actif"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1527,columnNumber:30},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1527,columnNumber:62},void 0),"L'endpoint ",e.jsxDEV("code",{children:"/api/acteurs/entreprise/:id"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1528,columnNumber:38},void 0)," n'est pas disponible. Des données d'exemple sont utilisées."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1526,columnNumber:25},void 0),e.jsxDEV(s,{variant:"caption",component:"div",sx:{mt:1},children:["Pour utiliser de vrais acteurs :",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1532,columnNumber:59},void 0),"• Vérifiez que la route est montée dans server.js",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1533,columnNumber:76},void 0),"• Assurez-vous que les middlewares d'authentification fonctionnent",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1534,columnNumber:93},void 0),"• Contrôlez les permissions d'accès aux acteurs"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1531,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1525,columnNumber:23},void 0),e.jsxDEV(r,{sx:{mb:2,p:2,bgcolor:"background.default",borderRadius:1},children:[e.jsxDEV(s,{variant:"subtitle2",gutterBottom:!0,children:"📊 Résumé des acteurs disponibles"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1542,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",children:["Total : ",T.length," acteur(s) • Sélectionnés : ",ee.length," • Entreprise : ",(_r=W.find(x=>x.id_entreprise===C))==null?void 0:_r.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1545,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1541,columnNumber:21},void 0),e.jsxDEV(r,{sx:{mb:2,display:"flex",gap:1,flexWrap:"wrap"},children:[e.jsxDEV(P,{size:"small",variant:"outlined",onClick:()=>k(T.map(x=>x.id_acteur)),disabled:ee.length===T.length,children:"Tout sélectionner"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1554,columnNumber:23},void 0),e.jsxDEV(P,{size:"small",variant:"outlined",onClick:()=>k([]),disabled:ee.length===0,children:"Tout désélectionner"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1562,columnNumber:23},void 0),e.jsxDEV(P,{size:"small",variant:"outlined",startIcon:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1573,columnNumber:36},void 0),onClick:()=>ws(C),children:"Actualiser"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1570,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1553,columnNumber:21},void 0),e.jsxDEV(Fi,{children:T.map(x=>{var se;return e.jsxDEV(yr,{control:e.jsxDEV(Os,{checked:ee.includes(x.id_acteur),onChange:()=>Es(x.id_acteur)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1586,columnNumber:29},void 0),label:e.jsxDEV(r,{display:"flex",alignItems:"center",sx:{py:.5},children:[e.jsxDEV(js,{sx:{mr:1,color:"primary.main"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1593,columnNumber:31},void 0),e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"body2",component:"div",children:[x.nom_prenom,((se=x.id_acteur)==null?void 0:se.startsWith("demo-"))&&e.jsxDEV(ie,{label:"DÉMO",size:"small",color:"warning",sx:{ml:1,height:20}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1598,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1595,columnNumber:33},void 0),e.jsxDEV(s,{variant:"caption",color:"textSecondary",component:"div",children:["📧 ",x.email,x.poste&&` • 💼 ${x.poste}`,x.organisation&&` • 🏢 ${x.organisation}`]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1606,columnNumber:33},void 0),x.anciennete_role&&e.jsxDEV(s,{variant:"caption",color:"textSecondary",component:"div",children:["⏱️ Ancienneté : ",x.anciennete_role," mois"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1612,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1594,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1592,columnNumber:29},void 0),sx:{border:1,borderColor:"divider",borderRadius:1,mb:1,mr:0,bgcolor:ee.includes(x.id_acteur)?"action.selected":"transparent"}},x.id_acteur,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1583,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1581,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1522,columnNumber:19},void 0):e.jsxDEV(fe,{severity:"warning",sx:{mb:2},children:[e.jsxDEV(s,{variant:"body2",gutterBottom:!0,children:e.jsxDEV("strong",{children:"🔍 Aucun acteur trouvé pour cette entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1635,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1634,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",component:"div",children:["Causes possibles :",e.jsxDEV("ul",{style:{marginTop:8,marginBottom:8},children:[e.jsxDEV("li",{children:"L'entreprise n'a pas d'utilisateurs enregistrés"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1640,columnNumber:25},void 0),e.jsxDEV("li",{children:"Tous les acteurs sont marqués comme inactifs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1641,columnNumber:25},void 0),e.jsxDEV("li",{children:"Problème de connexion à l'API"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1642,columnNumber:25},void 0),e.jsxDEV("li",{children:"Permissions insuffisantes"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1643,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1639,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1637,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",component:"div",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Solutions :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1647,columnNumber:23},void 0),e.jsxDEV("ul",{style:{marginTop:4},children:[e.jsxDEV("li",{children:"Ajoutez des utilisateurs à l'entreprise sélectionnée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1649,columnNumber:25},void 0),e.jsxDEV("li",{children:["Vérifiez l'endpoint ",e.jsxDEV("code",{children:["/api/acteurs/entreprise/",C]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1650,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1650,columnNumber:25},void 0),e.jsxDEV("li",{children:"Contrôlez les permissions d'accès"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1651,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1648,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1646,columnNumber:21},void 0),e.jsxDEV(r,{sx:{mt:2},children:e.jsxDEV(P,{variant:"outlined",size:"small",startIcon:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1658,columnNumber:36},void 0),onClick:()=>ws(C),children:"Réessayer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1655,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1654,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1633,columnNumber:19},void 0),e.jsxDEV(r,{sx:{mt:3,display:"flex",gap:1},children:[e.jsxDEV(P,{onClick:()=>I(0),children:"← Retour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1669,columnNumber:19},void 0),e.jsxDEV(P,{variant:"contained",onClick:Hs,disabled:ee.length===0||J,startIcon:J?e.jsxDEV(Pe,{size:20},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1676,columnNumber:53},void 0):e.jsxDEV(ri,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1676,columnNumber:86},void 0),children:J?"Création en cours...":`Créer ${ee.length} évaluation(s)`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1672,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1668,columnNumber:17},void 0),ee.length>0&&e.jsxDEV(fe,{severity:"success",sx:{mt:2},children:e.jsxDEV(s,{variant:"body2",children:["✅ ",e.jsxDEV("strong",{children:[ee.length," évaluation(s)"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1689,columnNumber:25},void 0)," seront créées.",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1689,columnNumber:95},void 0),"Chaque acteur recevra un lien unique pour remplir l'évaluation de maturité."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1688,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1687,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1497,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1495,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1457,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1447,columnNumber:9},void 0),e.jsxDEV(Ns,{children:e.jsxDEV(P,{onClick:()=>ve(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1701,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1700,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:1438,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:883,columnNumber:5},void 0)},Sn=()=>{const{id:i}=Gs(),t=ns(),[n,b]=a.useState(!0),[m,A]=a.useState(!1),[p,W]=a.useState(null),[S,O]=a.useState([]),[f,w]=a.useState([]),[Q,q]=a.useState(null),[M,T]=a.useState(null),[$,_]=a.useState({open:!1,action:null});a.useEffect(()=>{(async()=>{var c,N,g,o,v,B,L,le,re,F;if(!i){q("Identifiant du formulaire manquant"),b(!1);return}b(!0),q(null);try{const oe=await U.get(`formulaires/${i}`),ae=oe.data||oe;if(!ae||typeof ae!="object")throw new Error("Format de données du formulaire inattendu");const Ae={id_formulaire:ae.id_formulaire||"",id_acteur:((c=ae.acteur)==null?void 0:c.id_acteur)||"",acteur_nom:((N=ae.acteur)==null?void 0:N.nom_prenom)||"Utilisateur inconnu",id_application:((g=ae.application)==null?void 0:g.id_application)||"",nom_application:((o=ae.application)==null?void 0:o.nom_application)||"Application inconnue",id_entreprise:((v=ae.entreprise)==null?void 0:v.id_entreprise)||"",nom_entreprise:((B=ae.entreprise)==null?void 0:B.nom_entreprise)||"Entreprise inconnue",id_questionnaire:((L=ae.questionnaire)==null?void 0:L.id_questionnaire)||"",questionnaire_nom:((le=ae.questionnaire)==null?void 0:le.nom)||"Questionnaire inconnu",thematiques:Array.isArray((re=ae.questionnaire)==null?void 0:re.thematiques)?ae.questionnaire.thematiques.map(ve=>({id:ve.id||"",nom:ve.nom||"Thématique inconnue"})):[],fonctions:Array.isArray((F=ae.questionnaire)==null?void 0:F.fonctions)?ae.questionnaire.fonctions.map(ve=>ve.nom).filter(Boolean):[],date_creation:ae.date_creation||new Date().toISOString(),date_modification:ae.date_modification||ae.date_creation||new Date().toISOString(),statut:ae.statut||"Brouillon",progression:Number(ae.progression)||0};if(W(Ae),!Ae.id_questionnaire)throw new Error("Questionnaire non valide associé au formulaire");const Ue=Ae.thematiques.map(async ve=>{try{const qe=await U.get(`questions/thematique/${ve.id}`);return(Array.isArray(qe)?qe:[]).map(C=>({id_question:C.id_question||"",id_thematique:C.id_thematique||ve.id,texte:C.texte||"Question inconnue",ponderation:Number(C.ponderation)||1,ordre:Number(C.ordre)||0,aide_reponse:C.aide_reponse||void 0,date_creation:C.date_creation||new Date().toISOString(),date_modification:C.date_modification||C.date_creation||new Date().toISOString()}))}catch(qe){return console.warn(`Erreur lors du chargement des questions pour la thématique ${ve.nom}:`,qe),[]}}),te=(await Promise.all(Ue)).flat().sort((ve,qe)=>ve.ordre-qe.ordre);O(te);const he=await U.get(`reponses/formulaire/${i}`),ye=(Array.isArray(he)?he:[]).map(ve=>({id_reponse:ve.id_reponse||"",id_formulaire:ve.id_formulaire||i,id_question:ve.id_question||"",question_texte:ve.question_texte||"",valeur_reponse:ve.valeur_reponse||"",score:Number(ve.score)||0,commentaire:ve.commentaire||void 0}));w(ye)}catch(oe){q(oe.message||"Erreur lors du chargement du formulaire.")}finally{b(!1)}})()},[i]);const Y=a.useMemo(()=>S.length>0&&S.every(D=>f.some(c=>c.id_question===D.id_question)),[S,f]),R=a.useMemo(()=>S.length>0?f.length/S.length*100:0,[S.length,f.length]),H=a.useMemo(()=>f.filter(D=>D.commentaire&&D.commentaire.trim().length>0).length,[f]),z=a.useMemo(()=>f.filter(D=>{const c=parseFloat(D.valeur_reponse)||0,N=S.find(g=>g.id_question===D.id_question);return c<=2&&N&&N.ponderation>=3}).length,[f,S]),j=a.useMemo(()=>{if(!p)return{};const D={};return p.thematiques.forEach(c=>{D[c.id]=S.filter(N=>N.id_thematique===c.id).sort((N,g)=>N.ordre-g.ordre)}),D},[p,S]),X=D=>f.find(c=>c.id_question===D),V=(D,c)=>{const N=f.findIndex(o=>o.id_question===D),g=S.find(o=>o.id_question===D);if(g)if(N>=0){const o=[...f];o[N]={...o[N],valeur_reponse:c,score:parseInt(c)||0},w(o)}else{const o={id_reponse:`temp_${Date.now()}`,id_formulaire:i||"",id_question:D,question_texte:g.texte,valeur_reponse:c,score:parseInt(c)||0};w([...f,o])}},pe=(D,c)=>{const N=f.findIndex(g=>g.id_question===D);if(N>=0){const g=[...f];g[N]={...g[N],commentaire:c||void 0},w(g)}},E=D=>{_({open:!0,action:D})},Z=()=>{_({open:!1,action:null})},Ve=async D=>{if(!(!p||!i)){A(!0),q(null);try{D&&D!==p.statut&&(await U.put(`formulaires/${i}`,{statut:D,progression:Math.round(R)}),W({...p,statut:D,progression:Math.round(R)}));const c=f.map(async(B,L)=>{var le;try{if(!B.id_question||!B.id_formulaire)return console.warn(`Réponse ${L+1} incomplète, ignorée:`,B),{skipped:!0,index:L};let re,F;if(B.id_reponse.startsWith("temp_"))if(re=await U.post("reponses",{id_formulaire:B.id_formulaire,id_question:B.id_question,valeur_reponse:B.valeur_reponse,score:B.score,commentaire:B.commentaire||""}),re&&re.data&&re.data.id_reponse)F=re.data;else if(re&&re.id_reponse)F=re;else if(re)console.warn(`Format de réponse inattendu pour POST réponse ${L+1}:`,re),F={id_reponse:"created",success:!0,originalResponse:re};else throw new Error("Aucune réponse reçue de l'API");else re=await U.put(`reponses/${B.id_reponse}`,{valeur_reponse:B.valeur_reponse,score:B.score,commentaire:B.commentaire||""}),re&&re.data?F=re.data:re?F=re:F={id_reponse:B.id_reponse,success:!0};return{success:!0,index:L,result:F}}catch(re){return console.error(`❌ Erreur sauvegarde réponse ${L+1}:`,{error:re,reponse:B,message:re==null?void 0:re.message,status:(le=re==null?void 0:re.response)==null?void 0:le.status}),{success:!1,index:L,error:(re==null?void 0:re.message)||"Erreur inconnue",reponse:B}}}),N=await Promise.all(c),g=N.filter(B=>B.success===!0),o=N.filter(B=>B.success===!1),v=N.filter(B=>B.skipped===!0);if(console.log(`📊 Résultats sauvegarde: ${g.length} réussies, ${o.length} échouées, ${v.length} ignorées`),o.length>0){console.error("❌ Détails des échecs:",o);const B=o.map(L=>`Réponse ${L.index+1}: ${L.error}`).join("; ");q(`${o.length} réponses n'ont pas pu être sauvegardées. Détails: ${B}`)}else if(v.length>0)q(`${v.length} réponses incomplètes ont été ignorées.`);else{try{console.log("🔢 Déclenchement du calcul de score...");const L=await U.put(`formulaires/${i}`,{statut:p.statut,progression:Math.round(R),trigger_score_calculation:!0});L.score_actuel!==void 0&&L.score_maximum!==void 0&&(W(le=>({...le,...L,thematiques:le.thematiques,fonctions:le.fonctions})),console.log(`✅ Score calculé: ${L.score_actuel}/${L.score_maximum}`))}catch(L){console.warn("⚠️ Erreur lors du calcul de score (réponses sauvegardées avec succès):",L)}T(D==="Soumis"?"Formulaire soumis avec succès ! Score calculé.":D==="Validé"?"Formulaire validé avec succès ! Score calculé.":"Formulaire enregistré avec succès ! Score calculé.")}}catch(c){console.error("❌ Erreur générale lors de la sauvegarde:",c),q(c.message||"Erreur lors de la sauvegarde du formulaire.")}finally{A(!1)}}},Se=D=>{switch(D){case"Validé":return{label:"Validé",color:"success"};case"Soumis":return{label:"Soumis",color:"primary"};default:return{label:"Brouillon",color:"warning"}}},u=D=>{try{return new Date(D).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}catch{return"Date invalide"}};if(n)return e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:442,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:441,columnNumber:7},void 0);if(!p)return e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(fe,{severity:"error",children:Q||"Formulaire non trouvé."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:450,columnNumber:9},void 0),e.jsxDEV(P,{startIcon:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:451,columnNumber:28},void 0),onClick:()=>t("/formulaires"),sx:{mt:2},children:"Retour à la liste"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:451,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:449,columnNumber:7},void 0);const y=Se(p.statut);return e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(ki,{"aria-label":"breadcrumb",sx:{mb:2},children:[e.jsxDEV(Qr,{underline:"hover",color:"inherit",sx:{display:"flex",alignItems:"center"},href:"/",children:[e.jsxDEV(Li,{sx:{mr:.5},fontSize:"inherit"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:464,columnNumber:11},void 0),"Accueil"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:463,columnNumber:9},void 0),e.jsxDEV(Qr,{underline:"hover",color:"inherit",sx:{display:"flex",alignItems:"center"},href:"/formulaires",children:"Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:467,columnNumber:9},void 0),e.jsxDEV(s,{color:"text.primary",sx:{display:"flex",alignItems:"center"},children:p.questionnaire_nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:470,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:462,columnNumber:7},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(Ce,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(r,{display:"flex",alignItems:"center",children:[e.jsxDEV(Ie,{color:"primary",onClick:()=>t("/formulaires"),sx:{mr:1},children:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:481,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:480,columnNumber:17},void 0),e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:p.questionnaire_nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:483,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:479,columnNumber:15},void 0),e.jsxDEV(r,{display:"flex",alignItems:"center",children:[z>0&&e.jsxDEV(as,{title:`${z} question(s) critique(s)`,children:e.jsxDEV(Ss,{badgeContent:z,color:"error",sx:{mr:2},children:e.jsxDEV(Xr,{color:"error"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:491,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:490,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:489,columnNumber:19},void 0),H>0&&e.jsxDEV(as,{title:`${H} commentaire(s)`,children:e.jsxDEV(Ss,{badgeContent:H,color:"info",sx:{mr:2},children:e.jsxDEV(Ti,{color:"info"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:498,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:497,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:496,columnNumber:19},void 0),e.jsxDEV(ie,{label:y.label,color:y.color,variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:502,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:487,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:478,columnNumber:13},void 0),e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{item:!0,xs:12,md:4,children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(xs,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:509,columnNumber:19},void 0),e.jsxDEV(s,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Entreprise:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:511,columnNumber:21},void 0)," ",p.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:510,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:508,columnNumber:17},void 0),e.jsxDEV(r,{display:"flex",alignItems:"center",children:[e.jsxDEV(Pi,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:515,columnNumber:19},void 0),e.jsxDEV(s,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Fonctions:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:517,columnNumber:21},void 0)," ",p.fonctions.join(", ")||"Aucune"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:516,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:514,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:507,columnNumber:15},void 0),e.jsxDEV(d,{item:!0,xs:12,md:4,children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(da,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:523,columnNumber:19},void 0),e.jsxDEV(s,{variant:"subtitle1",children:e.jsxDEV("strong",{children:"Thématiques:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:525,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:524,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:522,columnNumber:17},void 0),e.jsxDEV(r,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:p.thematiques.map((D,c)=>e.jsxDEV(ie,{label:D.nom,size:"small",color:"secondary",variant:"outlined"},c,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:530,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:528,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:521,columnNumber:15},void 0),e.jsxDEV(d,{item:!0,xs:12,md:4,children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(js,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:536,columnNumber:19},void 0),e.jsxDEV(s,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Acteur:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:538,columnNumber:21},void 0)," ",p.acteur_nom]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:537,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:535,columnNumber:17},void 0),e.jsxDEV(s,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Date de création:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:542,columnNumber:19},void 0)," ",u(p.date_creation)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:541,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:534,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:506,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:477,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:476,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(Ce,{sx:{p:2},children:e.jsxDEV(r,{sx:{width:"100%"},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(s,{variant:"body2",sx:{mb:1},children:["Progression: ",Math.round(R),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:553,columnNumber:17},void 0),e.jsxDEV(s,{variant:"body2",sx:{mb:1},children:[f.length," / ",S.length," questions répondues"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:556,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:552,columnNumber:15},void 0),e.jsxDEV(r,{sx:{width:"100%",backgroundColor:"#e0e0e0",borderRadius:1,height:8},children:e.jsxDEV(r,{sx:{width:`${R}%`,backgroundColor:R<30?"#f44336":R<70?"#ff9800":"#4caf50",borderRadius:1,height:"100%",transition:"width 0.5s ease-in-out"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:561,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:560,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:551,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:550,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:549,columnNumber:9},void 0),Q&&e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(fe,{severity:"error",onClose:()=>q(null),children:Q},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:577,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:576,columnNumber:11},void 0),M&&e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(fe,{severity:"success",onClose:()=>T(null),children:M},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:585,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:584,columnNumber:11},void 0),e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(Ce,{sx:{p:3},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Questions par thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:593,columnNumber:13},void 0),e.jsxDEV(ss,{sx:{mb:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:596,columnNumber:13},void 0),p.thematiques.length>0?p.thematiques.map(D=>{var c,N;return e.jsxDEV(vr,{defaultExpanded:!0,children:[e.jsxDEV(Er,{expandIcon:e.jsxDEV(Ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:601,columnNumber:49},void 0),children:[e.jsxDEV(s,{variant:"subtitle1",children:D.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:602,columnNumber:21},void 0),e.jsxDEV(r,{sx:{ml:2},children:e.jsxDEV(ie,{label:`${((c=j[D.id])==null?void 0:c.length)||0} questions`,size:"small",color:"primary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:604,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:603,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:601,columnNumber:19},void 0),e.jsxDEV(Mr,{children:((N=j[D.id])==null?void 0:N.length)>0?j[D.id].map(g=>{const o=X(g.id_question),v=g.ponderation>=3,B=o&&(parseInt(o.valeur_reponse)||0)<=2&&v;return e.jsxDEV(ge,{sx:{mb:3,position:"relative",border:B?"1px solid #f44336":v?"1px solid #ff9800":"none"},children:e.jsxDEV(Ee,{children:[e.jsxDEV(r,{sx:{position:"absolute",top:-10,left:-10,width:30,height:30,borderRadius:"50%",backgroundColor:v?"warning.main":"primary.main",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:g.ordre},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:629,columnNumber:31},void 0),e.jsxDEV(r,{sx:{ml:3},children:[e.jsxDEV(s,{variant:"subtitle1",gutterBottom:!0,fontWeight:v?"bold":"normal",children:[g.texte,v&&e.jsxDEV(as,{title:"Question à forte pondération",children:e.jsxDEV(da,{color:"warning",fontSize:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:652,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:651,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:648,columnNumber:33},void 0),g.aide_reponse&&e.jsxDEV(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[e.jsxDEV("strong",{children:"Aide:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:658,columnNumber:37},void 0)," ",g.aide_reponse]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:657,columnNumber:35},void 0),e.jsxDEV(s,{variant:"caption",color:v?"warning.main":"text.secondary",sx:{display:"block",mb:2},children:["Pondération: ",g.ponderation," ",v?"(Question importante)":""]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:661,columnNumber:33},void 0),e.jsxDEV($e,{component:"fieldset",sx:{width:"100%"},children:[e.jsxDEV(s,{variant:"body2",sx:{mb:1},children:"Évaluation (1 = Niveau initial, 5 = Niveau optimisé)"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:669,columnNumber:35},void 0),e.jsxDEV(Da,{row:!0,name:`question-${g.id_question}`,value:(o==null?void 0:o.valeur_reponse)||"",onChange:L=>V(g.id_question,L.target.value),children:[1,2,3,4,5].map(L=>e.jsxDEV(yr,{value:L.toString(),control:e.jsxDEV(Hr,{sx:{color:L<=2&&v?"error.main":void 0,"&.Mui-checked":{color:L<=2&&v?"error.main":void 0}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:683,columnNumber:43},void 0),label:L.toString(),disabled:p.statut==="Validé"},L,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:679,columnNumber:39},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:672,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:668,columnNumber:33},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Commentaire (optionnel)",multiline:!0,rows:2,margin:"normal",value:(o==null?void 0:o.commentaire)||"",onChange:L=>pe(g.id_question,L.target.value),disabled:p.statut==="Validé",helperText:B?"Un commentaire est recommandé pour cette question critique":"",error:B&&(!(o!=null&&o.commentaire)||o.commentaire.trim()==="")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:698,columnNumber:33},void 0),B&&(!(o!=null&&o.commentaire)||o.commentaire.trim()==="")&&e.jsxDEV(fe,{severity:"warning",sx:{mt:1},children:"Veuillez ajouter un commentaire pour justifier cette évaluation critique."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:711,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:647,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:628,columnNumber:29},void 0)},g.id_question,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:620,columnNumber:27},void 0)}):e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Aucune question pour cette thématique."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:721,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:612,columnNumber:19},void 0)]},D.id,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:600,columnNumber:17},void 0)}):e.jsxDEV(s,{variant:"body1",align:"center",sx:{py:2},children:"Aucune thématique associée à ce formulaire."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:729,columnNumber:15},void 0),e.jsxDEV(r,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[e.jsxDEV(P,{variant:"outlined",color:"primary",onClick:()=>Ve("Brouillon"),disabled:m||p.statut==="Validé",startIcon:e.jsxDEV(sa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:739,columnNumber:28},void 0),sx:{mr:1},children:"Enregistrer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:734,columnNumber:15},void 0),p.statut==="Brouillon"&&e.jsxDEV(P,{variant:"contained",color:"primary",onClick:()=>E("Soumis"),disabled:m||!Y,startIcon:e.jsxDEV(ri,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:750,columnNumber:30},void 0),sx:{mr:1},children:"Soumettre"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:745,columnNumber:17},void 0),p.statut==="Soumis"&&e.jsxDEV(P,{variant:"contained",color:"success",onClick:()=>E("Validé"),disabled:m||!Y,startIcon:e.jsxDEV(zi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:762,columnNumber:30},void 0),children:"Valider"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:757,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:733,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:592,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:591,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(vr,{children:[e.jsxDEV(Er,{expandIcon:e.jsxDEV(Ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:772,columnNumber:43},void 0),"aria-controls":"reponses-content",id:"reponses-header",children:e.jsxDEV(s,{children:"Aperçu des réponses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:773,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:772,columnNumber:13},void 0),e.jsxDEV(Mr,{children:e.jsxDEV(r,{sx:{width:"100%"},children:p.thematiques.map(D=>{var c;return e.jsxDEV(r,{sx:{mb:3},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:D.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:779,columnNumber:21},void 0),((c=j[D.id])==null?void 0:c.length)>0?j[D.id].map(N=>{const g=X(N.id_question),o=N.ponderation>=3,v=g&&(parseInt(g.valeur_reponse)||0)<=2&&o;return e.jsxDEV(r,{sx:{mb:2,p:2,border:v?"1px solid #f44336":o?"1px solid #ff9800":"1px solid #eee",borderRadius:1,bgcolor:v?"rgba(244, 67, 54, 0.05)":o?"rgba(255, 152, 0, 0.05)":"transparent"},children:[e.jsxDEV(s,{variant:"subtitle2",fontWeight:o?"bold":"normal",children:[N.ordre,". ",N.texte,o&&e.jsxDEV(as,{title:"Question à forte pondération",children:e.jsxDEV(da,{color:"warning",fontSize:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:803,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:802,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:799,columnNumber:29},void 0),g?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(s,{variant:"body2",sx:{mt:1,color:v?"error.main":"inherit"},children:[e.jsxDEV("strong",{children:"Réponse:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:810,columnNumber:35},void 0)," ",g.valeur_reponse," / 5"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:809,columnNumber:33},void 0),g.commentaire?e.jsxDEV(s,{variant:"body2",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Commentaire:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:814,columnNumber:37},void 0)," ",g.commentaire]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:813,columnNumber:35},void 0):v&&e.jsxDEV(s,{variant:"body2",color:"error",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Commentaire manquant"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:819,columnNumber:39},void 0)," pour une question critique"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:818,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:808,columnNumber:31},void 0):e.jsxDEV(s,{variant:"body2",sx:{mt:1,color:"error.main"},children:"Pas de réponse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:825,columnNumber:31},void 0)]},N.id_question,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:789,columnNumber:27},void 0)}):e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Aucune question pour cette thématique."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:833,columnNumber:23},void 0)]},D.id,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:778,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:776,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:775,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:771,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:770,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:475,columnNumber:7},void 0),e.jsxDEV(cs,{open:$.open,onClose:Z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsxDEV(bs,{id:"alert-dialog-title",children:$.action==="Soumis"?"Soumettre le formulaire ?":"Valider le formulaire ?"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:851,columnNumber:9},void 0),e.jsxDEV(fs,{children:[e.jsxDEV($i,{id:"alert-dialog-description",children:$.action==="Soumis"?"Êtes-vous sûr de vouloir soumettre ce formulaire ? Après soumission, il sera en attente de validation.":"Êtes-vous sûr de vouloir valider ce formulaire ? Cette action est définitive."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:855,columnNumber:11},void 0),z>0&&e.jsxDEV(fe,{severity:"warning",sx:{mt:2},children:["Attention : ",z," question(s) critique(s) ont une note faible. Assurez-vous que tous les commentaires sont bien renseignés."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:861,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:854,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:Z,color:"inherit",children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:867,columnNumber:11},void 0),e.jsxDEV(P,{onClick:()=>{$.action&&(Ve($.action),Z())},color:$.action==="Validé"?"success":"primary",variant:"contained",autoFocus:!0,children:"Confirmer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:870,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:866,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:845,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:461,columnNumber:5},void 0)},wn=()=>{const i=ns(),[t,n]=a.useState(!0),[b,m]=a.useState(!1),[A,p]=a.useState([]),[W,S]=a.useState([]),[O,f]=a.useState([]),[w,Q]=a.useState(null),[q,M]=a.useState(null),[T,$]=a.useState(0),[_,Y]=a.useState({id_entreprise:"",id_acteur:"",questionnaires:[]}),[R,H]=a.useState({id_entreprise:!0,id_acteur:!0,questionnaires:!0}),z=[{label:"Entreprise",icon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:93,columnNumber:34},void 0)},{label:"Acteur",icon:e.jsxDEV(js,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:94,columnNumber:30},void 0)},{label:"Questionnaires",icon:e.jsxDEV(rr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:95,columnNumber:38},void 0)}],[j,X]=a.useState([]);a.useEffect(()=>{(async()=>{n(!0),Q(null);try{const N=await U.get("entreprises");let g=[];Array.isArray(N)?g=N:N&&N.data&&Array.isArray(N.data)&&(g=N.data),f(g);const o=await U.get("acteurs");let v=[];Array.isArray(o)?v=o:o&&o.data&&Array.isArray(o.data)&&(v=o.data),p(v);const B=await U.get("questionnaires");let L=[];Array.isArray(B)?L=B:B&&B.data&&Array.isArray(B.data)&&(L=B.data);const le=L.map(re=>({id_questionnaire:re.id_questionnaire,nom:re.nom||re.questionnaire_nom||"Questionnaire sans nom",description:re.description||"",thematiques:Array.isArray(re.thematiques)?re.thematiques:re.thematiques?re.thematiques.split(",").map(F=>F.trim()):[],fonctions:Array.isArray(re.fonctions)?re.fonctions:re.fonctions?re.fonctions.split(",").map(F=>F.trim()):[]}));S(le)}catch(N){console.error("Erreur lors du chargement des données:",N),Q("Erreur lors du chargement des données. Veuillez réessayer plus tard.")}finally{n(!1)}})()},[]),a.useEffect(()=>{if(_.id_entreprise){const c=A.filter(N=>N.id_entreprise===_.id_entreprise);X(c),_.id_acteur&&!c.some(N=>N.id_acteur===_.id_acteur)&&Y(N=>({...N,id_acteur:""}))}else X(A)},[_.id_entreprise,A]);const V=c=>{const N=c.target.name,g=c.target.value;N&&(Y({..._,[N]:g}),N in R&&H({...R,[N]:!0}))},pe=c=>{const N=c.target.value;Y({..._,questionnaires:N}),H({...R,questionnaires:!0})},E=()=>{let c=!0;const N={...R};switch(T){case 0:N.id_entreprise=!!_.id_entreprise,c=N.id_entreprise;break;case 1:N.id_acteur=!!_.id_acteur,c=N.id_acteur;break;case 2:N.questionnaires=_.questionnaires.length>0,c=N.questionnaires;break}return H(N),c},Z=()=>{const c={id_entreprise:!!_.id_entreprise,id_acteur:!!_.id_acteur,questionnaires:_.questionnaires.length>0};return H(c),Object.values(c).every(Boolean)},Ve=()=>{E()?$(c=>c+1):Q("Veuillez remplir tous les champs obligatoires avant de continuer.")},Se=()=>{$(c=>c-1),Q(null)},u=async c=>{if(c.preventDefault(),!Z()){Q("Veuillez remplir tous les champs obligatoires.");return}m(!0),Q(null),M(null);try{const N="892daedf-3423-11f0-9f03-04bf1ba7bd1e",g=_.questionnaires.map(async L=>{const le={id_questionnaire:L,id_acteur:_.id_acteur,id_application:N,statut:"Brouillon"};try{return{success:!0,response:await U.post("formulaires",le),id_questionnaire:L}}catch(re){return{success:!1,error:re,id_questionnaire:L}}}),o=await Promise.all(g),v=o.filter(L=>L.success),B=o.filter(L=>!L.success);if(v.length===0)Q("Erreur lors de la création des formulaires. Aucun formulaire n'a pu être créé.");else if(B.length>0)M(`${v.length} formulaire(s) créé(s) avec succès. ${B.length} échec(s).`),setTimeout(()=>{i("/formulaires")},2e3);else{if(M(`${v.length} formulaire(s) créé(s) avec succès !`),v.length===1){const L=v[0].response;let le="";if(L&&L.data&&L.data.id_formulaire?le=L.data.id_formulaire:L&&L.id_formulaire&&(le=L.id_formulaire),le){i(`/formulaires/${le}`);return}}setTimeout(()=>{i("/formulaires")},2e3)}}catch(N){console.error("Erreur lors de la création des formulaires:",N),Q("Erreur lors de la création des formulaires. Veuillez réessayer plus tard.")}finally{m(!1)}},y=c=>{switch(c){case 0:return e.jsxDEV(d,{container:!0,spacing:3,children:e.jsxDEV(d,{size:12,children:e.jsxDEV($e,{fullWidth:!0,error:!R.id_entreprise,children:[e.jsxDEV(Ge,{id:"entreprise-label",children:"Entreprise *"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:347,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"entreprise-label",id:"id_entreprise",name:"id_entreprise",value:_.id_entreprise,onChange:V,label:"Entreprise *",required:!0,children:O.map(N=>e.jsxDEV(De,{value:N.id_entreprise,children:N.nom_entreprise},N.id_entreprise,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:358,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:348,columnNumber:17},void 0),!R.id_entreprise&&e.jsxDEV(er,{children:"L'entreprise est requise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:364,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:346,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:345,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:344,columnNumber:11},void 0);case 1:return e.jsxDEV(d,{container:!0,spacing:3,children:e.jsxDEV(d,{size:12,children:[e.jsxDEV($e,{fullWidth:!0,error:!R.id_acteur,children:[e.jsxDEV(Ge,{id:"acteur-label",children:"Acteur *"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:376,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"acteur-label",id:"id_acteur",name:"id_acteur",value:_.id_acteur,onChange:V,label:"Acteur *",required:!0,children:j.map(N=>e.jsxDEV(De,{value:N.id_acteur,children:N.nom_prenom},N.id_acteur,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:387,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:377,columnNumber:17},void 0),!R.id_acteur&&e.jsxDEV(er,{children:"L'acteur est requis"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:393,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:375,columnNumber:15},void 0),j.length===0&&_.id_entreprise&&e.jsxDEV(fe,{severity:"warning",sx:{mt:2},children:"Aucun acteur n'est associé à cette entreprise. Veuillez en ajouter ou sélectionner une autre entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:397,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:374,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:373,columnNumber:11},void 0);case 2:return e.jsxDEV(d,{container:!0,spacing:3,children:e.jsxDEV(d,{size:12,children:[e.jsxDEV($e,{fullWidth:!0,error:!R.questionnaires,children:[e.jsxDEV(Ge,{id:"questionnaires-label",children:"Questionnaires *"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:410,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"questionnaires-label",id:"questionnaires",name:"questionnaires",multiple:!0,value:_.questionnaires,onChange:pe,label:"Questionnaires *",renderValue:N=>e.jsxDEV(r,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:N.map(g=>{const o=W.find(v=>v.id_questionnaire===g);return e.jsxDEV(ie,{label:(o==null?void 0:o.nom)||"Questionnaire inconnu",size:"small"},g,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:424,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:420,columnNumber:21},void 0),children:W.map(N=>e.jsxDEV(De,{value:N.id_questionnaire,children:[e.jsxDEV(Os,{checked:_.questionnaires.indexOf(N.id_questionnaire)>-1},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:436,columnNumber:23},void 0),e.jsxDEV(is,{primary:N.nom,secondary:e.jsxDEV(r,{children:[N.description&&e.jsxDEV(s,{variant:"caption",display:"block",children:N.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:442,columnNumber:31},void 0),N.fonctions&&N.fonctions.length>0&&e.jsxDEV(r,{sx:{mt:.5},children:e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:["Fonctions: ",N.fonctions.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:448,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:447,columnNumber:31},void 0),N.thematiques&&N.thematiques.length>0&&e.jsxDEV(r,{sx:{mt:.5},children:[N.thematiques.slice(0,3).map((g,o)=>e.jsxDEV(ie,{label:g,size:"small",variant:"outlined",color:"secondary",sx:{mr:.5,mb:.5}},o,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:456,columnNumber:35},void 0)),N.thematiques.length>3&&e.jsxDEV(ie,{label:`+${N.thematiques.length-3}`,size:"small",variant:"outlined",color:"default"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:466,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:454,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:440,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:437,columnNumber:23},void 0)]},N.id_questionnaire,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:435,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:411,columnNumber:17},void 0),!R.questionnaires&&e.jsxDEV(er,{children:"Sélectionnez au moins un questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:482,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:409,columnNumber:15},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[_.questionnaires.length," questionnaire(s) sélectionné(s). Un formulaire sera créé pour chaque questionnaire."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:485,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:408,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:407,columnNumber:11},void 0);default:return"Étape inconnue"}},D=()=>{const c=O.find(o=>o.id_entreprise===_.id_entreprise),N=A.find(o=>o.id_acteur===_.id_acteur),g=W.filter(o=>_.questionnaires.includes(o.id_questionnaire));return e.jsxDEV(ge,{sx:{mb:3},children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Résumé de la création"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:509,columnNumber:11},void 0),e.jsxDEV(d,{container:!0,spacing:2,children:e.jsxDEV(d,{size:12,children:[e.jsxDEV(s,{variant:"subtitle2",children:"Entreprise:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:514,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(c==null?void 0:c.nom_entreprise)||"Non sélectionnée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:515,columnNumber:15},void 0),e.jsxDEV(s,{variant:"subtitle2",children:"Acteur:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:519,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(N==null?void 0:N.nom_prenom)||"Non sélectionné"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:520,columnNumber:15},void 0),e.jsxDEV(s,{variant:"subtitle2",sx:{mt:2},children:["Questionnaires sélectionnés (",g.length,"):"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:524,columnNumber:15},void 0),e.jsxDEV(r,{sx:{ml:2},children:g.map(o=>e.jsxDEV(r,{sx:{mb:2},children:[e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsxDEV(Vr,{color:"success",fontSize:"small",sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:531,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",fontWeight:"medium",children:o.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:532,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:530,columnNumber:21},void 0),o.fonctions&&o.fonctions.length>0&&e.jsxDEV(s,{variant:"caption",color:"text.secondary",sx:{ml:3,display:"block"},children:["Fonctions: ",o.fonctions.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:538,columnNumber:23},void 0),o.thematiques&&o.thematiques.length>0&&e.jsxDEV(r,{sx:{ml:3,mt:.5},children:o.thematiques.map((v,B)=>e.jsxDEV(ie,{label:v,size:"small",variant:"outlined",color:"secondary",sx:{mr:.5,mb:.5}},B,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:546,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:544,columnNumber:23},void 0)]},o.id_questionnaire,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:529,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:527,columnNumber:15},void 0),e.jsxDEV(fe,{severity:"info",sx:{mt:2},children:[g.length," formulaire(s) seront créés à partir de cette sélection."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:561,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:513,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:512,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:508,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:507,columnNumber:7},void 0)};return t?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:574,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:573,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{size:12,children:e.jsxDEV(Ce,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Ie,{color:"primary",onClick:()=>i("/formulaires"),sx:{mr:1},children:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:587,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:586,columnNumber:15},void 0),e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:"Créer des Formulaires d'Évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:589,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:585,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Sélectionnez une entreprise, un acteur et un ou plusieurs questionnaires pour créer les formulaires correspondants."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:594,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:584,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:583,columnNumber:9},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(Ce,{sx:{p:2},children:e.jsxDEV(Ar,{activeStep:T,alternativeLabel:!0,children:z.map((c,N)=>e.jsxDEV(ar,{children:e.jsxDEV(ir,{children:c.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:606,columnNumber:19},void 0)},N,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:605,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:603,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:602,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:601,columnNumber:9},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(Ce,{sx:{p:2},children:e.jsxDEV(r,{component:"form",noValidate:!0,onSubmit:u,children:[w&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},onClose:()=>Q(null),children:w},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:618,columnNumber:17},void 0),q&&e.jsxDEV(fe,{severity:"success",sx:{mb:2},children:q},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:624,columnNumber:17},void 0),T===z.length?e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Toutes les étapes sont complétées"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:631,columnNumber:19},void 0),D(),e.jsxDEV(r,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(P,{variant:"outlined",onClick:()=>$(T-1),startIcon:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:641,columnNumber:34},void 0),children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:638,columnNumber:21},void 0),e.jsxDEV(P,{type:"submit",variant:"contained",color:"primary",disabled:b,startIcon:e.jsxDEV(sa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:651,columnNumber:34},void 0),children:b?"Création en cours...":"Créer les formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:646,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:637,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:630,columnNumber:17},void 0):e.jsxDEV(r,{children:[e.jsxDEV(r,{sx:{mb:3},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:z[T].label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:660,columnNumber:21},void 0),e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:663,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:659,columnNumber:19},void 0),y(T),e.jsxDEV(r,{display:"flex",justifyContent:"space-between",mt:3,children:[e.jsxDEV(P,{variant:"outlined",onClick:T===0?()=>i("/formulaires"):Se,startIcon:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:672,columnNumber:34},void 0),children:T===0?"Annuler":"Précédent"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:669,columnNumber:21},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",onClick:T===z.length-1?()=>Ve():Ve,children:T===z.length-1?"Finaliser":"Suivant"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:677,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:668,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:658,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:616,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:615,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:614,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:581,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:580,columnNumber:5},void 0)},Pr=i=>{const t=typeof i.score_global=="number"?i.score_global:typeof i.score_global=="string"?parseFloat(i.score_global):typeof i.scoreGlobal=="number"?i.scoreGlobal:typeof i.scoreGlobal=="string"?parseFloat(i.scoreGlobal):null,n=Array.isArray(i.thematiques)?i.thematiques.map(b=>({...b,score:typeof b.score=="number"?b.score:typeof b.score=="string"?parseFloat(b.score):0,nombre_reponses:typeof b.nombre_reponses=="number"?b.nombre_reponses:typeof b.nombre_reponses=="string"?parseInt(b.nombre_reponses,10):0})):[];return{...i,nom_application:i.nom_application||i.nom||"Application inconnue",nom:i.nom||i.nom_application||"Application inconnue",score_global:t,scoreGlobal:t,thematiques:n}},Rn=i=>{try{return new Date(i).toLocaleDateString("fr-FR")}catch{return"Date inconnue"}},$s=i=>i.includes("5")||i.includes("Optimisé")||i.includes("Avancé")||i.includes("4")||i.includes("Géré")?"success":i.includes("3")||i.includes("Mesuré")||i.includes("Intermédiaire")?"info":i.includes("2")||i.includes("Défini")?"warning":i.includes("1")||i.includes("Initial")||i.includes("Faible")?"error":i.includes("Excellent")?"success":i.includes("Bon")?"info":i.includes("Moyen")?"warning":i.includes("Faible")?"error":"default",oi=({title:i,value:t,variant:n="primary",size:b="md",subtitle:m,trend:A})=>{const p=()=>{switch(n){case"primary":return{bg:"bg-primary-50",text:"text-primary-900",border:"border-primary-200"};case"secondary":return{bg:"bg-secondary-50",text:"text-secondary-900",border:"border-secondary-200"};case"accent1":return{bg:"bg-accent1-light bg-opacity-30",text:"text-accent1",border:"border-accent1-light"};case"accent2":return{bg:"bg-accent2-light bg-opacity-30",text:"text-accent2",border:"border-accent2-light"};case"accent3":return{bg:"bg-accent3-light bg-opacity-30",text:"text-accent3",border:"border-accent3-light"};case"accent4":return{bg:"bg-accent4-light bg-opacity-30",text:"text-accent4",border:"border-accent4-light"};default:return{bg:"bg-gray-50",text:"text-gray-900",border:"border-gray-200"}}},W=()=>{switch(b){case"sm":return"p-3";case"lg":return"p-5";default:return"p-4"}},S=p(),O=W();return e.jsxDEV("div",{className:`rounded-lg border ${S.bg} ${S.border} ${O} shadow-card`,children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500 mb-1",children:i},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:90,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("h3",{className:`text-2xl font-bold ${S.text}`,children:t},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:92,columnNumber:11},void 0),m&&e.jsxDEV("p",{className:"ml-2 text-sm text-gray-500",children:m},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:93,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:91,columnNumber:9},void 0),A&&e.jsxDEV("p",{className:"mt-1 flex items-center text-sm",children:[e.jsxDEV("span",{className:A.isPositive?"text-success-500":"text-danger-500",children:[A.isPositive?"↑":"↓"," ",Math.abs(A.value),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:98,columnNumber:13},void 0),A.label&&e.jsxDEV("span",{className:"text-gray-500 ml-1",children:A.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:101,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:89,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:88,columnNumber:5},void 0)},qn=i=>i>=4?"success":i>=3?"info":i>=2?"warning":"error",Fn=i=>i>=4?"Optimisé":i>=3?"Mesuré":i>=2?"Défini":i>=1?"Initial":"Non défini",kn=({entrepriseId:i})=>{const t=ns(),[n,b]=a.useState(!0),[m,A]=a.useState(null),[p,W]=a.useState(null),[S,O]=a.useState([]),[f,w]=a.useState([]),[Q,q]=a.useState(!1),M=async()=>{if(i){b(!0),A(null);try{const[z,j,X]=await Promise.all([U.get(`/entreprises/${i}`),U.get(`/analyses/entreprise/${i}`),U.get(`/historique/entreprise/${i}`)]);W(z),O(Array.isArray(j)?j:j.data||[]),w(X.historique_global||[])}catch(z){console.error("Erreur lors de la récupération des données:",z),A("Impossible de charger les données.")}finally{b(!1)}}},T=async()=>{if(i){q(!0),A(null);try{await U.post(`/entreprises/${i}/calculer`),await M()}catch(z){console.error("Erreur lors du recalcul:",z),A("Impossible de recalculer le score.")}finally{q(!1)}}};a.useEffect(()=>{M()},[i]);const $=()=>f.length?[...f].sort((z,j)=>new Date(z.date_mesure)-new Date(j.date_mesure)).map(z=>({date:new Date(z.date_mesure).toLocaleDateString("fr-FR"),score:z.score_global||0})):[];if(n)return e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:116,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:115,columnNumber:7},void 0);if(m)return e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:m},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:122,columnNumber:12},void 0);if(!p)return e.jsxDEV(fe,{severity:"info",children:"Aucune entreprise sélectionnée."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:126,columnNumber:12},void 0);const _=p.score_global||0,Y=Fn(_),R=qn(_),H=$();return e.jsxDEV(ge,{variant:"outlined",sx:{mb:3},children:[e.jsxDEV(es,{title:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(s,{variant:"h6",children:["Scores de maturité - ",p.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV(as,{title:"Recalculer le score",children:e.jsxDEV(P,{size:"small",startIcon:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:143,columnNumber:28},void 0),onClick:T,disabled:Q,children:Q?"Calcul en cours...":"Recalculer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:141,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:140,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:136,columnNumber:7},void 0),e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:153,columnNumber:7},void 0),e.jsxDEV(Ee,{children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{item:!0,xs:12,md:4,children:e.jsxDEV(oi,{title:"Score Global",value:typeof _=="number"?_.toFixed(2):"0.00",variant:"primary",subtitle:e.jsxDEV(ie,{label:Y,color:R},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:161,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:157,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:156,columnNumber:11},void 0),e.jsxDEV(d,{item:!0,xs:12,md:8,children:H.length>1?e.jsxDEV(r,{height:250,children:e.jsxDEV(Ts,{width:"100%",height:"100%",children:e.jsxDEV(tn,{data:H,children:[e.jsxDEV(Ua,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:170,columnNumber:21},void 0),e.jsxDEV(ja,{dataKey:"date"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:171,columnNumber:21},void 0),e.jsxDEV(Va,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:172,columnNumber:21},void 0),e.jsxDEV(Jr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:173,columnNumber:21},void 0),e.jsxDEV(nr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:174,columnNumber:21},void 0),e.jsxDEV(dn,{type:"monotone",dataKey:"score",stroke:"#0B4E87",name:"Score global",activeDot:{r:8,fill:"#0B4E87"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:175,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:169,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:168,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:167,columnNumber:15},void 0):e.jsxDEV(r,{display:"flex",alignItems:"center",justifyContent:"center",height:250,children:e.jsxDEV(s,{color:"text.secondary",children:"Pas assez de données historiques."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:187,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:186,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:165,columnNumber:11},void 0),e.jsxDEV(d,{item:!0,xs:12,children:[e.jsxDEV(ss,{sx:{my:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:195,columnNumber:13},void 0),e.jsxDEV(s,{variant:"subtitle1",gutterBottom:!0,children:["Analyses des applications (",S.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:196,columnNumber:13},void 0),S.length>0?e.jsxDEV(ds,{component:Ce,children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:204,columnNumber:23},void 0),e.jsxDEV(h,{children:"Score Global"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:205,columnNumber:23},void 0),e.jsxDEV(h,{children:"Date d'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:206,columnNumber:23},void 0),e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:207,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:203,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:202,columnNumber:19},void 0),e.jsxDEV(ms,{children:S.map(z=>e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:z.nom_application||"Non spécifié"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:213,columnNumber:25},void 0),e.jsxDEV(h,{children:typeof z.score_global=="number"?z.score_global.toFixed(2):"0.00"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:214,columnNumber:25},void 0),e.jsxDEV(h,{children:new Date(z.date_analyse).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:217,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(P,{size:"small",onClick:()=>t(`/analyses-interpretations/${z.id_application}`),children:"Détails"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:221,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:220,columnNumber:25},void 0)]},z.id_analyse,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:212,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:210,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:201,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:200,columnNumber:15},void 0):e.jsxDEV(fe,{severity:"info",children:"Aucune analyse disponible pour cette entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:194,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:155,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:154,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:135,columnNumber:5},void 0)},Ln=i=>{const{children:t,value:n,index:b,...m}=i;return e.jsxDEV("div",{role:"tabpanel",hidden:n!==b,id:`analysis-tabpanel-${b}`,"aria-labelledby":`analysis-tab-${b}`,...m,children:n===b&&e.jsxDEV(r,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:71,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:64,columnNumber:5},void 0)},Tn=({loading:i,error:t,applications:n,entreprises:b,selectedApplication:m,selectedEntreprise:A,analyses:p,selectedAnalyse:W,interpretation:S,historique:O,filteredHistorique:f,tabValue:w,selectedThematique:Q,openDialog:q,newAnalyseData:M,interpretationsSummary:T,page:$,rowsPerPage:_,order:Y,orderBy:R,searchTerm:H,filters:z,showFilters:j,uniqueThematiques:X,handleApplicationChange:V,handleEntrepriseChange:pe,handleAnalyseChange:E,handleThematiqueChange:Z,handleTabChange:Ve,handleOpenNewAnalyseDialog:Se,handleCloseDialog:u,addThematique:y,updateThematique:D,removeThematique:c,createNewAnalyse:N,calculateNewAnalyse:g,getScoreGlobal:o,prepareHistoriqueData:v,handleChangePage:B,handleChangeRowsPerPage:L,handleRequestSort:le,getFilteredData:re,getUniqueValues:F,setSearchTerm:oe,setFilters:ae,setShowFilters:Ae,fetchAllInterpretations:Ue,fetchAnalysesByApplication:ke,fetchAnalysesByEntreprise:te,fetchHistoriqueByEntreprise:he})=>{var ue,ee;const[de,ye]=a.useState(m?"application":A?"entreprise":"application"),[ve,qe]=a.useState({open:!1,message:"",severity:"success"});a.useEffect(()=>{m&&!A?ye("application"):A&&!m&&ye("entreprise")},[m,A]);const I=()=>{if(de==="application"){if(ye("entreprise"),m){const k=n.find(J=>J.id_application===m);k!=null&&k.id_entreprise&&pe({target:{value:k.id_entreprise}})}}else if(ye("application"),A&&!m){const k=n.filter(J=>J.id_entreprise===A);k.length>0&&V({target:{value:k[0].id_application}})}},C=({active:k,payload:J})=>k&&(J!=null&&J.length)?e.jsxDEV(Ce,{sx:{p:1},children:[e.jsxDEV(s,{children:`Thématique: ${J[0].payload.thematique}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:162,columnNumber:11},void 0),e.jsxDEV(s,{children:`Score: ${J[0].value}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:161,columnNumber:9},void 0):null;return i?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:173,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:172,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[t&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:t},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:180,columnNumber:17},void 0),e.jsxDEV(tr,{open:ve.open,autoHideDuration:6e3,onClose:()=>qe({...ve,open:!1}),children:e.jsxDEV(fe,{severity:ve.severity,children:ve.message},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:186,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:181,columnNumber:7},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{p:2},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:"Analyses et Interprétations de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV(r,{children:[e.jsxDEV(Oi,{value:de,exclusive:!0,onChange:(k,J)=>J&&I(),color:"primary",sx:{mr:2},children:[e.jsxDEV(wa,{value:"application",startIcon:e.jsxDEV(Wi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:204,columnNumber:64},void 0),children:"Vue Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:204,columnNumber:19},void 0),e.jsxDEV(wa,{value:"entreprise",startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:207,columnNumber:63},void 0),children:"Vue Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:207,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:197,columnNumber:17},void 0),de==="application"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(P,{variant:"outlined",color:"primary",onClick:Se,sx:{mr:1},children:"Nouvelle Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:213,columnNumber:21},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",onClick:g,startIcon:e.jsxDEV(ya,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:225,columnNumber:34},void 0),children:"Calculer Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:221,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:212,columnNumber:19},void 0),de==="entreprise"&&A&&e.jsxDEV(P,{variant:"contained",color:"primary",onClick:()=>te(A),startIcon:e.jsxDEV(ya,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:236,columnNumber:32},void 0),children:"Calculer Scores"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:232,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:196,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV(wr,{options:b,getOptionLabel:k=>k.nom_entreprise,value:b.find(k=>k.id_entreprise===A)||null,onChange:(k,J)=>pe({target:{value:(J==null?void 0:J.id_entreprise)||""}}),renderInput:k=>e.jsxDEV(ne,{...k,label:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:249,columnNumber:40},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:244,columnNumber:13},void 0),(de==="application"||A)&&e.jsxDEV(wr,{options:n.filter(k=>!A||k.id_entreprise===A),getOptionLabel:k=>k.nom_application,value:n.find(k=>k.id_application===m)||null,onChange:(k,J)=>V({target:{value:(J==null?void 0:J.id_application)||""}}),renderInput:k=>e.jsxDEV(ne,{...k,label:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:259,columnNumber:42},void 0),disabled:i},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:254,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:191,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:190,columnNumber:9},void 0),de==="entreprise"&&A?e.jsxDEV(d,{xs:12,children:e.jsxDEV(kn,{entrepriseId:A},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:268,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:267,columnNumber:11},void 0):e.jsxDEV(e.Fragment,{children:[W&&e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(oi,{title:"Score Global",value:o(),variant:"primary",subtitle:"Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:274,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:273,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{width:"100%",mb:2},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,children:[e.jsxDEV(s,{variant:"h6",children:"Récapitulatif des analyses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:286,columnNumber:19},void 0),e.jsxDEV(r,{display:"flex",alignItems:"center",children:[e.jsxDEV(ne,{size:"small",placeholder:"Rechercher...",value:H,onChange:k=>oe(k.target.value),InputProps:{startAdornment:e.jsxDEV(Ke,{position:"start",children:e.jsxDEV(Kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:296,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:295,columnNumber:27},void 0)},sx:{mr:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:288,columnNumber:21},void 0),e.jsxDEV(P,{startIcon:e.jsxDEV(Bi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:302,columnNumber:40},void 0),onClick:()=>Ae(!0),children:"Filtres"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:302,columnNumber:21},void 0),e.jsxDEV(Ie,{onClick:Ue,children:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:306,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:305,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:287,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:285,columnNumber:17},void 0),e.jsxDEV(Ha,{anchor:"right",open:j,onClose:()=>Ae(!1),children:e.jsxDEV(r,{sx:{width:300,p:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Filtres"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:313,columnNumber:21},void 0),e.jsxDEV(wr,{options:F("nom_application"),value:z.application,onChange:(k,J)=>ae({...z,application:J||""}),renderInput:k=>e.jsxDEV(ne,{...k,label:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:318,columnNumber:48},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:314,columnNumber:21},void 0),e.jsxDEV(wr,{options:F("niveau_global"),value:z.niveau,onChange:(k,J)=>ae({...z,niveau:J||""}),renderInput:k=>e.jsxDEV(ne,{...k,label:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:325,columnNumber:48},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:321,columnNumber:21},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Score min",type:"number",value:z.scoreMin,onChange:k=>ae({...z,scoreMin:k.target.value}),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:328,columnNumber:21},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Score max",type:"number",value:z.scoreMax,onChange:k=>ae({...z,scoreMax:k.target.value}),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:336,columnNumber:21},void 0),e.jsxDEV(P,{onClick:()=>ae({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""}),children:"Réinitialiser"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:344,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:312,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:311,columnNumber:17},void 0),e.jsxDEV(ds,{sx:{maxHeight:440},children:e.jsxDEV(os,{stickyHeader:!0,children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:e.jsxDEV(cr,{active:R==="nom_application",direction:R==="nom_application"?Y:"asc",onClick:()=>le("nom_application"),children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:357,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:356,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(cr,{active:R==="id_entreprise",direction:R==="id_entreprise"?Y:"asc",onClick:()=>le("id_entreprise"),children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:366,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:365,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(cr,{active:R==="score_global",direction:R==="score_global"?Y:"asc",onClick:()=>le("score_global"),children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:375,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:374,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(cr,{active:R==="niveau_global",direction:R==="niveau_global"?Y:"asc",onClick:()=>le("niveau_global"),children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:384,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:383,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(cr,{active:R==="date_analyse",direction:R==="date_analyse"?Y:"asc",onClick:()=>le("date_analyse"),children:"Date"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:393,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:392,columnNumber:25},void 0),e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:401,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:355,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:354,columnNumber:21},void 0),e.jsxDEV(ms,{children:[re().map(k=>{const J=b.find(K=>K.id_entreprise===k.id_entreprise),Fe=J?J.nom_entreprise:"Non spécifiée";return e.jsxDEV(Te,{hover:!0,selected:m===k.id_application,onClick:()=>ke(k.id_application),sx:{cursor:"pointer"},children:[e.jsxDEV(h,{children:k.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:416,columnNumber:29},void 0),e.jsxDEV(h,{children:Fe},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:417,columnNumber:29},void 0),e.jsxDEV(h,{children:typeof k.score_global=="number"?k.score_global.toFixed(2):"0.00"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:418,columnNumber:29},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:k.niveau_global,color:$s(k.niveau_global),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:424,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:423,columnNumber:29},void 0),e.jsxDEV(h,{children:Rn(k.date_analyse)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:430,columnNumber:29},void 0),e.jsxDEV(h,{children:e.jsxDEV(P,{variant:"outlined",size:"small",color:m===k.id_application?"secondary":"primary",onClick:K=>{K.stopPropagation(),ke(k.id_application)},children:m===k.id_application?"Sélectionnée":"Sélectionner"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:432,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:431,columnNumber:29},void 0)]},k.id_analyse,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:409,columnNumber:27},void 0)}),re().length===0&&e.jsxDEV(Te,{children:e.jsxDEV(h,{colSpan:6,align:"center",children:"Aucune analyse trouvée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:449,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:448,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:404,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:353,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:352,columnNumber:17},void 0),e.jsxDEV(va,{rowsPerPageOptions:[5,10,25,50],component:"div",count:T.length,rowsPerPage:_,page:$,onPageChange:B,onRowsPerPageChange:L,labelRowsPerPage:"Lignes par page:",labelDisplayedRows:({from:k,to:J,count:Fe})=>`${k}-${J} sur ${Fe}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:458,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:284,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:283,columnNumber:13},void 0),W&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Répartition par Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:476,columnNumber:21},void 0),e.jsxDEV(Ee,{children:((ue=W.thematiques)==null?void 0:ue.length)>0?e.jsxDEV(Ts,{width:"100%",height:350,children:e.jsxDEV(ra,{outerRadius:150,data:W.thematiques.map(k=>({thematique:k.thematique,score:k.score||0,fullMark:5})),children:[e.jsxDEV(aa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:488,columnNumber:29},void 0),e.jsxDEV(ia,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:489,columnNumber:29},void 0),e.jsxDEV(na,{angle:30,domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:490,columnNumber:29},void 0),e.jsxDEV(Dr,{name:"Score",dataKey:"score",stroke:"#0B4E87",fill:"#0B4E87",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:491,columnNumber:29},void 0),e.jsxDEV(nr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:498,columnNumber:29},void 0),e.jsxDEV(RechartsTooltip,{content:e.jsxDEV(C,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:499,columnNumber:55},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:499,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:480,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:479,columnNumber:25},void 0):e.jsxDEV(s,{align:"center",children:"Aucune donnée de thématique disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:503,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:477,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:475,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:474,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ce,{sx:{width:"100%"},children:[e.jsxDEV(Vs,{value:w,onChange:Ve,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[e.jsxDEV(Je,{label:"Interprétation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:518,columnNumber:23},void 0),e.jsxDEV(Je,{label:"Détails par Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:519,columnNumber:23},void 0),e.jsxDEV(Je,{label:"Historique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:520,columnNumber:23},void 0),e.jsxDEV(Je,{label:"Analyses Précédentes"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:521,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:511,columnNumber:21},void 0),e.jsxDEV(Ln,{value:w,index:0,children:S?e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Niveau de Maturité",subheader:S.niveau,action:e.jsxDEV(ie,{label:S.niveau,color:$s(S.niveau),size:"medium"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:533,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:529,columnNumber:31},void 0),e.jsxDEV(Ee,{children:e.jsxDEV(s,{variant:"body1",paragraph:!0,children:S.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:541,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:540,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:528,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:527,columnNumber:27},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Recommandations"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:549,columnNumber:31},void 0),e.jsxDEV(Ee,{children:e.jsxDEV(s,{variant:"body1",paragraph:!0,children:S.recommandations},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:551,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:550,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:548,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:547,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:526,columnNumber:25},void 0):e.jsxDEV(fe,{severity:"info",children:"Aucune interprétation disponible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:559,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:524,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:510,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:509,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:473,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:271,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:189,columnNumber:7},void 0),e.jsxDEV(cs,{open:q,onClose:u,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(bs,{children:"Créer une nouvelle analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:574,columnNumber:9},void 0),e.jsxDEV(fs,{children:[e.jsxDEV(s,{variant:"subtitle1",gutterBottom:!0,children:["Application: ",((ee=n.find(k=>k.id_application===m))==null?void 0:ee.nom_application)||"Non sélectionnée"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:576,columnNumber:11},void 0),e.jsxDEV(r,{sx:{mt:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Thématiques et Scores"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:580,columnNumber:13},void 0),M.thematiques.map((k,J)=>e.jsxDEV(d,{container:!0,spacing:2,sx:{mb:2},children:[e.jsxDEV(d,{xs:5,children:e.jsxDEV(ne,{fullWidth:!0,label:"Thématique",value:k.thematique,onChange:Fe=>D(J,"thematique",Fe.target.value)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:584,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:583,columnNumber:17},void 0),e.jsxDEV(d,{xs:3,children:e.jsxDEV(ne,{fullWidth:!0,type:"number",label:"Score",value:k.score,inputProps:{min:0,max:5,step:.1},onChange:Fe=>D(J,"score",parseFloat(Fe.target.value))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:592,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:591,columnNumber:17},void 0),e.jsxDEV(d,{xs:3,children:e.jsxDEV(ne,{fullWidth:!0,type:"number",label:"Nombre de réponses",value:k.nombre_reponses,inputProps:{min:0,step:1},onChange:Fe=>D(J,"nombre_reponses",parseInt(Fe.target.value))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:602,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:601,columnNumber:17},void 0),e.jsxDEV(d,{xs:1,children:e.jsxDEV(P,{variant:"outlined",color:"error",onClick:()=>c(J),sx:{height:"100%"},children:"X"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:612,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:611,columnNumber:17},void 0)]},J,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:582,columnNumber:15},void 0)),e.jsxDEV(P,{variant:"outlined",onClick:y,sx:{mt:1},children:"Ajouter une thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:623,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:579,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:575,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:u,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:629,columnNumber:11},void 0),e.jsxDEV(P,{onClick:()=>{N().then(()=>qe({open:!0,message:"Analyse créée avec succès",severity:"success"})).catch(()=>qe({open:!0,message:"Erreur lors de la création",severity:"error"}))},variant:"contained",color:"primary",disabled:M.thematiques.length===0,children:"Créer l'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:630,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:628,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:573,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:179,columnNumber:5},void 0)},Pn=()=>{const{id:i}=Gs();ns();const[t,n]=a.useState(!0),[b,m]=a.useState(null),[A,p]=a.useState([]),[W,S]=a.useState(""),[O,f]=a.useState([]),[w,Q]=a.useState(null),[q,M]=a.useState(null),[T,$]=a.useState([]),[_,Y]=a.useState([]),[R,H]=a.useState(""),[z,j]=a.useState(0),[X,V]=a.useState(""),[pe,E]=a.useState(!1),[Z,Ve]=a.useState({id_application:"",thematiques:[]}),[Se,u]=a.useState([]),[y,D]=a.useState(0),[c,N]=a.useState(10),[g,o]=a.useState("desc"),[v,B]=a.useState("date_analyse"),[L,le]=a.useState(""),[re,F]=a.useState({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""}),[oe,ae]=a.useState(!1),Ae=X?T.filter(ce=>ce.thematique===X):T,Ue=[...new Set(T.map(ce=>ce.thematique))],ke=async()=>{try{n(!0),m(null);const ce=await U.get("interpretations"),G=await U.get("applications/entreprise-mapping");if(Array.isArray(ce)){let _e=ce;if(G&&typeof G=="object"){const Re={};Array.isArray(G)?G.forEach(Ye=>{Re[Ye.id_application]=Ye.id_entreprise}):Object.keys(G).forEach(Ye=>{Re[Ye]=G[Ye]}),_e=_e.map(Ye=>({...Ye,id_entreprise:Ye.id_entreprise||Re[Ye.id_application]||"",organisation:Ye.organisation||"DSIN"}))}else _e=_e.map(Re=>({...Re,id_entreprise:Re.id_entreprise||"",organisation:Re.organisation||"DSIN"}));u(_e),console.log(`Chargement de ${_e.length} interprétations`)}else console.warn("Format de réponse inattendu pour les interprétations:",ce),u([])}catch(ce){console.error("Erreur lors du chargement des interprétations:",ce),m("Impossible de charger les interprétations"),u([])}finally{n(!1)}};a.useEffect(()=>{(async()=>{try{n(!0);const[G,_e]=await Promise.all([U.get("applications"),U.get("entreprises")]);Array.isArray(G)?p(G):(m("Format de réponse inattendu pour les applications"),p([])),Array.isArray(_e)?Y(_e):(m("Format de réponse inattendu pour les entreprises"),Y([])),await ke(),H(""),S("")}catch(G){console.error("Erreur lors du chargement des données initiales:",G),m("Impossible de charger les données initiales")}finally{n(!1)}})()},[]);const te=ce=>{const G=ce.target.value;S(G),ye(G)},he=async ce=>{try{const G=await U.get(`historique/entreprise/${ce}`);if(Array.isArray(G)){$(G);const _e=[...new Set(G.map(Re=>Re.thematique))];console.log(`${_e.length} thématiques uniques trouvées dans l'historique de l'entreprise ${ce}`),X&&!_e.includes(X)&&V("")}else console.warn("Format de réponse inattendu pour l'historique:",G),$([])}catch(G){console.error("Erreur lors du chargement de l'historique pour l'entreprise:",G),$([])}},de=async ce=>{n(!0),m(null);try{const G=await U.get(`analyses/entreprise/${ce}`);if(G&&typeof G=="object"){if(console.log("Données d'entreprise reçues:",G),G.analyses&&Array.isArray(G.analyses)){const _e=G.analyses.map(Pr);if(f(_e),_e.length>0){const Re=_e[0];Q(Re),ve(Re.id_analyse)}else Q(null),M(null)}else console.warn("Aucune analyse trouvée dans la réponse de l'API pour l'entreprise:",ce),f([]),Q(null),M(null);G.applications&&Array.isArray(G.applications)&&console.log(`${G.applications.length} applications trouvées pour l'entreprise ${ce}`)}else if(Array.isArray(G)){const _e=G.map(Pr);if(f(_e),_e.length>0){const Re=_e[0];Q(Re),ve(Re.id_analyse)}else Q(null),M(null)}else console.warn("Format de réponse inattendu pour les analyses:",G),f([]),Q(null),M(null)}catch(G){console.error("Erreur lors du chargement des analyses pour l'entreprise:",G),m("Impossible de charger les analyses pour cette entreprise"),f([]),Q(null)}finally{n(!1)}},ye=async ce=>{n(!0),m(null);try{const G=await U.get(`analyses/application/${ce}`);if(Array.isArray(G)){const _e=G.map(Pr);if(f(_e),_e.length>0){const Re=_e[0];Q(Re),ve(Re.id_analyse),qe(ce)}else Q(null),M(null),$([])}else console.warn("Format de réponse inattendu pour les analyses:",G),f([]),Q(null),M(null),$([])}catch(G){console.error("Erreur lors du chargement des analyses:",G),m("Impossible de charger les analyses"),f([]),Q(null)}finally{n(!1)}},ve=async ce=>{try{const G=await U.get(`interpretations/analyse/${ce}`);if(G&&typeof G=="object"){const _e={niveau:G.niveau||"Non évalué",description:G.description||"Aucune description disponible",recommandations:G.recommandations||"Aucune recommandation disponible",score:G.score||0};M(_e)}else console.warn("Format de réponse inattendu pour l'interprétation:",G),M(null)}catch(G){console.error("Erreur lors du chargement de l'interprétation:",G),M(null)}},qe=async ce=>{try{const G=await U.get(`historique/application/${ce}`);Array.isArray(G)?$(G):(console.warn("Format de réponse inattendu pour l'historique:",G),$([]))}catch(G){console.error("Erreur lors du chargement de l'historique:",G),$([])}},I=ce=>{const G=ce.target.value;if(H(G||""),Q(null),M(null),G){n(!0),de(G),he(G);const _e=Se.filter(Re=>Re.id_entreprise===G);console.log(`Filtre entreprise appliqué: ${G}, ${_e.length} résultats trouvés`),D(0)}else ke(),$([]),S("");F({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""})},C=ce=>{const G=Pr(ce);Q(G),ve(G.id_analyse)},ue=ce=>{V(ce.target.value)},ee=(ce,G)=>{j(G)},k=()=>{Ve({id_application:W,thematiques:[]}),E(!0)},J=()=>{E(!1)},Fe=()=>{Ve({...Z,thematiques:[...Z.thematiques,{thematique:"",score:0,nombre_reponses:0}]})},K=(ce,G,_e)=>{const Re=[...Z.thematiques];Re[ce]={...Re[ce],[G]:_e},Ve({...Z,thematiques:Re})},me=ce=>{const G=Z.thematiques.filter((_e,Re)=>Re!==ce);Ve({...Z,thematiques:G})},Ne=async()=>{try{await U.post("analyses",Z),ye(W),ke(),J()}catch(ce){console.error("Erreur lors de la création de l'analyse:",ce),m("Erreur lors de la création de l'analyse")}},We=async()=>{try{await U.post(`analyses/calculer/${W}`),ye(W),ke()}catch(ce){console.error("Erreur lors du calcul de l'analyse:",ce),m("Erreur lors du calcul de l'analyse")}},ps=()=>Ae.length===0?[]:[...Ae].sort((G,_e)=>{try{return new Date(G.date_mesure).getTime()-new Date(_e.date_mesure).getTime()}catch(Re){return console.error("Erreur lors du tri des données historiques:",Re),0}}).map(G=>{try{return{date:new Date(G.date_mesure).toLocaleDateString("fr-FR"),score:G.score,thematique:G.thematique}}catch(_e){return console.error("Erreur lors de la préparation des données historiques:",_e),{date:"Date inconnue",score:G.score||0,thematique:G.thematique||"Inconnue"}}}),ws=()=>{if(!w)return"N/A";const ce=w.score_global!==void 0?w.score_global:w.scoreGlobal!==void 0?w.scoreGlobal:null;return ce!==null?ce.toFixed(2):"N/A"},Rs=(ce,G)=>{D(G)},lr=ce=>{N(parseInt(ce.target.value,10)),D(0)},mr=ce=>{o(v===ce&&g==="asc"?"desc":"asc"),B(ce)},Qs=()=>{let ce=[...Se];return R&&(ce=ce.filter(G=>G.id_entreprise===R),console.log(`Filtré par entreprise ${R}: ${ce.length} résultats`)),ce=ce.filter(G=>{var Es,Hs,l;const _e=L.toLowerCase(),Re=((Es=G.nom_application)==null?void 0:Es.toLowerCase().includes(_e))||!1,Ye=((Hs=G.niveau_global)==null?void 0:Hs.toLowerCase().includes(_e))||!1,As=((l=G.organisation)==null?void 0:l.toLowerCase().includes(_e))||!1;return!(L&&!Re&&!Ye&&!As||re.application&&G.nom_application!==re.application||re.niveau&&G.niveau_global!==re.niveau||re.organisation&&G.organisation!==re.organisation||re.scoreMin&&typeof G.score_global=="number"&&G.score_global<parseFloat(re.scoreMin)||re.scoreMax&&typeof G.score_global=="number"&&G.score_global>parseFloat(re.scoreMax))}),ce.sort((G,_e)=>{const Re=G[v],Ye=_e[v];if(typeof Re=="number"&&typeof Ye=="number")return g==="asc"?Re-Ye:Ye-Re;const As=String(Re||""),Es=String(Ye||"");return g==="asc"?As.localeCompare(Es):Es.localeCompare(As)}),ce.slice(y*c,y*c+c)},qs=ce=>[...new Set(Se.map(G=>G[ce]))].filter(Boolean);return e.jsxDEV(Tn,{loading:t,error:b,applications:A,entreprises:_,selectedApplication:W,selectedEntreprise:R,analyses:O,selectedAnalyse:w,interpretation:q,historique:T,filteredHistorique:Ae,tabValue:z,selectedThematique:X,openDialog:pe,newAnalyseData:Z,interpretationsSummary:Se,page:y,rowsPerPage:c,order:g,orderBy:v,searchTerm:L,filters:re,showFilters:oe,uniqueThematiques:Ue,handleApplicationChange:te,handleEntrepriseChange:I,handleAnalyseChange:C,handleThematiqueChange:ue,handleTabChange:ee,handleOpenNewAnalyseDialog:k,handleCloseDialog:J,addThematique:Fe,updateThematique:K,removeThematique:me,createNewAnalyse:Ne,calculateNewAnalyse:We,getScoreGlobal:ws,prepareHistoriqueData:ps,handleChangePage:Rs,handleChangeRowsPerPage:lr,handleRequestSort:mr,getFilteredData:Qs,getUniqueValues:qs,setSearchTerm:le,setFilters:F,setShowFilters:ae,fetchAllInterpretations:ke,fetchAnalysesByApplication:ye,fetchAnalysesByEntreprise:de,fetchHistoriqueByEntreprise:he},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretations.tsx",lineNumber:652,columnNumber:5},void 0)},Na=new Map,br=i=>{if(i==null||i==="")return"N/A";const t=typeof i=="string"?parseFloat(i):i;return isNaN(t)?"N/A":t.toFixed(1)},xa=i=>{if(typeof i=="number"&&!isNaN(i))return i;if(typeof i=="string"){const t=parseFloat(i);return isNaN(t)?0:t}return 0},zn=async(i,t,n)=>{const b=`${i}_${t}_${n.join("|")}`;if(Na.has(b))return console.log("Benchmark data retrieved from cache"),Na.get(b);try{console.log("Fetching benchmark data from API...",{secteur:i,fonction:t,thematiques:n});const m={secteur:i,fonction:t,thematiques:n},A=await U.post("benchmark/analyze",m);let p;if(A&&A.data)p=A.data;else if(A)p=A;else throw new Error("Aucune donnée reçue de l'API benchmark");return Na.set(b,p),console.log("Benchmark data retrieved successfully:",p),p}catch(m){return console.error("Erreur lors de la récupération des données benchmark:",m),$n(i,t,n)}},$n=(i,t,n)=>({secteur:i,fonction:t,date_analyse:new Date().toISOString(),thematiques:n.map(b=>({nom:b,score_moyen:3+Math.random()*1.5,ecart_type:.2+Math.random()*.3,recommandations_llm:[{source:"ChatGPT",score:3+Math.random()*1.5,recommandation:`Recommandation ChatGPT pour ${b}: Optimiser les processus et améliorer l'efficacité opérationnelle en mettant l'accent sur l'automatisation et la standardisation.`,niveau_confiance:85+Math.floor(Math.random()*15)},{source:"Grok",score:3+Math.random()*1.5,recommandation:`Recommandation Grok pour ${b}: Implémenter des solutions innovantes et agiles en adoptant une approche disruptive et en exploitant les technologies émergentes.`,niveau_confiance:80+Math.floor(Math.random()*20)},{source:"Claude",score:3+Math.random()*1.5,recommandation:`Recommandation Claude pour ${b}: Structurer l'approche avec des méthodes éprouvées en privilégiant la qualité, la cohérence et une amélioration progressive.`,niveau_confiance:88+Math.floor(Math.random()*12)}]})),scores:{niveau_entreprise:3.5,niveau_fonction:3.6,niveau_thematique:3.4},metadata:{version_api:"1.0.0",sources_utilisees:["ChatGPT-4","Grok-2","Claude-3.5"],fiabilite_globale:87}}),On=i=>i>=4.5?{niveau_global:"Niveau 5 - Optimisé",recommandations_globales:"Maintenir l'excellence par l'innovation continue et le partage des bonnes pratiques."}:i>=3.5?{niveau_global:"Niveau 4 - Géré",recommandations_globales:"Perfectionner les processus existants et développer des capacités prédictives."}:i>=2.5?{niveau_global:"Niveau 3 - Mesuré",recommandations_globales:"Renforcer la culture d'amélioration continue et automatiser davantage les processus."}:i>=1.5?{niveau_global:"Niveau 2 - Défini",recommandations_globales:"Standardiser les pratiques et formaliser les processus dans toute l'organisation."}:{niveau_global:"Niveau 1 - Initial",recommandations_globales:"Initier une démarche d'amélioration structurée et identifier les processus critiques."},Wn=()=>{const[i,t]=a.useState([]),[n,b]=a.useState(""),[m,A]=a.useState(""),[p,W]=a.useState(null),[S,O]=a.useState(null),[f,w]=a.useState(!0),[Q,q]=a.useState(""),[M,T]=a.useState(0),[$,_]=a.useState(null),[Y,R]=a.useState(!1),[H,z]=a.useState([]);a.useEffect(()=>{pe()},[]),a.useEffect(()=>{console.log("Selected entreprise changed:",n),n?E(n):(W(null),O(null))},[n]),a.useEffect(()=>{if(p&&m){const u=p.fonctions.find(y=>y.id===m);u&&O(u)}},[m,p]),a.useEffect(()=>{S!=null&&S.thematiques&&p&&V(S.thematiques,p.secteur||"Finance",S.nom)},[S,p]);const j=async(u,y,D)=>{if(!D||D.length===0)return[];try{R(!0);const c=D.map(g=>g.nom),N=await zn(u,y,c);return N?(_(N),N.thematiques):[]}catch(c){return console.error("Erreur lors de la récupération du benchmark:",c),[]}finally{R(!1)}},X=(u,y)=>{const D=y.find(c=>c.nom.toLowerCase().includes(u.toLowerCase())||u.toLowerCase().includes(c.nom.toLowerCase()));return D?D.score_moyen:3.5},V=async(u=[],y="Finance",D="RH")=>{if(console.log("Converting radar data with API benchmark:",{thematiques:u,secteur:y,fonctionName:D}),!Array.isArray(u)||u.length===0){console.warn("No thematiques data available for radar chart"),z([]);return}try{const c=await j(y,D,u),N=u.map(g=>{const o=xa(g.score||g.score_moyen),v=X(g.nom,c);return{thematique:g.nom||"Thématique inconnue",score:o,benchmark:v,fullMark:5}}).filter(g=>g.score>0);console.log("Final radar data with API benchmark:",N),z(N)}catch(c){console.error("Erreur lors de la conversion des données radar:",c);const N=u.map(g=>({thematique:g.nom||"Thématique inconnue",score:xa(g.score||g.score_moyen),benchmark:3.5,fullMark:5})).filter(g=>g.score>0);z(N)}},pe=async()=>{try{const u=await U.get("entreprises");console.log("Response from entreprises API:",u);let y=[];if(Array.isArray(u))y=u;else if(u&&u.data&&Array.isArray(u.data))y=u.data;else{console.warn("Format de réponse inattendu pour entreprises:",u),q("Format de données invalide reçu du serveur.");return}const D=y.map(c=>({id_entreprise:c.id_entreprise,nom_entreprise:c.nom_entreprise||c.nom||"Entreprise inconnue",secteur:c.secteur||"Non défini",score_global:"0",niveau_global:"Non évalué",recommandations_globales:"Aucune évaluation disponible",fonctions:[]}));console.log("Formatted entreprises:",D),t(D),D.length>0&&b(D[0].id_entreprise)}catch(u){console.error("Erreur lors du chargement des entreprises:",u.message),q("Impossible de charger la liste des entreprises.")}finally{w(!1)}},E=async u=>{try{w(!0),console.log("Loading details for enterprise:",u);const[y,D]=await Promise.all([U.get(`entreprises/${u}`),U.get(`entreprises/${u}/fonctions`)]);console.log("Enterprise response:",y),console.log("Functions response:",D);let c={};y&&y.data?c=y.data:y&&(c=y);let N={};D&&D.data?N=D.data:D&&(N=D);const g=xa(N.score_global||0),o=On(g),v={id_entreprise:u,nom_entreprise:c.nom_entreprise||N.entreprise||"Entreprise inconnue",secteur:c.secteur||"Non défini",score_global:String(g),niveau_global:N.niveau_global||o.niveau_global,recommandations_globales:N.recommandations_globales||o.recommandations_globales,fonctions:Array.isArray(N.fonctions)?N.fonctions:[]};console.log("Final entreprise details:",v),W(v),v.fonctions.length>0?A(v.fonctions[0].id):(A(""),O(null))}catch(y){console.error("Erreur lors du chargement des détails de l'entreprise:",y.message),q("Impossible de charger les détails de l'entreprise.")}finally{w(!1)}},Z=u=>{const y=u.target.value;b(y)},Ve=u=>{A(u)},Se=(u,y)=>{T(y)};return f?e.jsxDEV(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:[e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:536,columnNumber:9},void 0),e.jsxDEV(s,{sx:{ml:2},children:"Chargement des données d'analyse..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:537,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:535,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[Q&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:[Q,e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:547,columnNumber:11},void 0),e.jsxDEV(s,{variant:"caption",children:"Vérifiez que l'entreprise sélectionnée possède des analyses de maturité."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:548,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:545,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(Ce,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:"Analyses de maturité par Fonctions évaluées"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:559,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:558,columnNumber:13},void 0),e.jsxDEV($e,{fullWidth:!0,variant:"outlined",sx:{mb:2},children:[e.jsxDEV(Ge,{id:"entreprise-select-label",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:565,columnNumber:15},void 0),e.jsxDEV(Qe,{labelId:"entreprise-select-label",id:"entreprise-select",value:n,onChange:Z,label:"Entreprise",children:i&&i.length>0?i.map((u,y)=>e.jsxDEV(De,{value:u.id_entreprise,children:u.nom_entreprise},`${u.id_entreprise}-${y}`,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:575,columnNumber:21},void 0)):e.jsxDEV(De,{value:"",children:e.jsxDEV("em",{children:"Aucune entreprise disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:581,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:580,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:566,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:564,columnNumber:13},void 0),e.jsxDEV(fe,{severity:"info",sx:{mb:2},children:["Debug: ",i.length," entreprises chargées | Sélectionnée: ",n||"Aucune"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:589,columnNumber:15},void 0),p&&e.jsxDEV(ge,{sx:{mb:2},children:[e.jsxDEV(es,{title:`Entreprise: ${p.nom_entreprise}`,subheader:`Secteur: ${p.secteur||"Non défini"}`,action:e.jsxDEV(ie,{label:`Score Global: ${br(p.score_global)}`,color:$s(p.niveau_global||"")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:601,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:597,columnNumber:17},void 0),e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"body2",children:[e.jsxDEV("strong",{children:"Niveau:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:609,columnNumber:21},void 0)," ",p.niveau_global||"Non défini"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:608,columnNumber:19},void 0),e.jsxDEV(s,{variant:"body2",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Recommandations:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:612,columnNumber:21},void 0)," ",p.recommandations_globales||"Aucune recommandation disponible"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:611,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:607,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:596,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:557,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:556,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:4,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Fonctions Analysées"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:623,columnNumber:13},void 0),e.jsxDEV(Ee,{sx:{p:0},children:p!=null&&p.fonctions&&p.fonctions.length>0?e.jsxDEV(hs,{children:p.fonctions.map((u,y)=>e.jsxDEV(gs.Fragment,{children:[e.jsxDEV(us,{onClick:()=>Ve(u.id),sx:{borderLeft:m===u.id?"4px solid #0B4E87":"4px solid transparent",bgcolor:m===u.id?"rgba(11, 78, 135, 0.05)":"transparent",cursor:"pointer"},children:e.jsxDEV(is,{primary:e.jsxDEV(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(s,{variant:"subtitle1",children:u.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:641,columnNumber:31},void 0),e.jsxDEV(ie,{label:br(u.score_global),color:$s(u.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:642,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:640,columnNumber:29},void 0),secondary:e.jsxDEV(s,{variant:"body2",sx:{mt:.5},children:u.niveau||"Niveau non défini"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:650,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:638,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:629,columnNumber:23},void 0),y<p.fonctions.length-1&&e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:656,columnNumber:74},void 0)]},`fonction-${u.id}-${y}`,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:628,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:626,columnNumber:17},void 0):e.jsxDEV(fe,{severity:"info",children:"Aucune fonction évaluée pour cette entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:661,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:624,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:622,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:621,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:8,children:S?e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:`Analyse de la fonction: ${S.nom}`,action:e.jsxDEV(ie,{label:`Score: ${br(S.score_global)}`,color:$s(S.niveau||"")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:674,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:671,columnNumber:15},void 0),e.jsxDEV(Ee,{children:[e.jsxDEV(Vs,{value:M,onChange:Se,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{mb:2},children:[e.jsxDEV(Je,{label:"Vue d'ensemble"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:689,columnNumber:19},void 0),e.jsxDEV(Je,{label:"Nos Recommandation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:690,columnNumber:19},void 0),e.jsxDEV(Je,{label:"Recommandations LLM Publics"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:691,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:681,columnNumber:17},void 0),M===0&&e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Score par Thématique vs Benchmark Marché"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:697,columnNumber:21},void 0),S.thematiques&&S.thematiques.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(r,{sx:{width:"100%",height:400},children:[e.jsxDEV(Ts,{width:"100%",height:350,children:e.jsxDEV(ra,{outerRadius:140,width:500,height:350,data:H,children:[e.jsxDEV(aa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:711,columnNumber:31},void 0),e.jsxDEV(ia,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:712,columnNumber:31},void 0),e.jsxDEV(na,{angle:30,domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:713,columnNumber:31},void 0),e.jsxDEV(Dr,{name:"Score Actuel",dataKey:"score",stroke:"#0B4E87",fill:"#0B4E87",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:716,columnNumber:31},void 0),e.jsxDEV(Dr,{name:"Benchmark Marché",dataKey:"benchmark",stroke:"#4CAF50",fill:"#4CAF50",fillOpacity:.3,strokeDasharray:"5 5",strokeWidth:2},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:725,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:705,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:704,columnNumber:27},void 0),e.jsxDEV(r,{sx:{display:"flex",justifyContent:"center",gap:3,mt:"10px",alignItems:"center"},children:[e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(r,{sx:{width:16,height:16,backgroundColor:"#0B4E87",opacity:.6,borderRadius:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:746,columnNumber:31},void 0),e.jsxDEV(s,{variant:"body2",children:"Score Actuel"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:753,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:745,columnNumber:29},void 0),e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(r,{sx:{width:16,height:16,backgroundColor:"#4CAF50",opacity:.3,border:"2px dashed #4CAF50",borderRadius:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:757,columnNumber:31},void 0),e.jsxDEV(s,{variant:"body2",children:"Benchmark Marché"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:765,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:756,columnNumber:29},void 0),Y&&e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1,ml:2},children:[e.jsxDEV(Pe,{size:16},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:770,columnNumber:33},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:"Chargement benchmark..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:771,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:769,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:738,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:703,columnNumber:25},void 0),$&&e.jsxDEV(fe,{severity:"info",sx:{mt:2},children:e.jsxDEV(s,{variant:"body2",children:[e.jsxDEV("strong",{children:"Benchmark basé sur :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:783,columnNumber:31},void 0)," ",$.metadata.sources_utilisees.join(", ")," |",e.jsxDEV("strong",{children:" Fiabilité :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:784,columnNumber:31},void 0)," ",$.metadata.fiabilite_globale,"% |",e.jsxDEV("strong",{children:" Analyse du :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:785,columnNumber:31},void 0)," ",new Date($.date_analyse).toLocaleDateString("fr-FR")]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:782,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:781,columnNumber:27},void 0),e.jsxDEV(r,{sx:{mt:2},children:[e.jsxDEV(s,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Détail des scores par thématique:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:792,columnNumber:27},void 0),e.jsxDEV(hs,{children:S.thematiques.map((u,y)=>e.jsxDEV(us,{children:e.jsxDEV(is,{primary:e.jsxDEV(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(s,{variant:"body1",children:u.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:801,columnNumber:39},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:1},children:[e.jsxDEV(ie,{label:`Actuel: ${br(u.score)}`,color:$s(u.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:803,columnNumber:41},void 0),$&&e.jsxDEV(ie,{label:`Benchmark: ${X(u.nom,$.thematiques).toFixed(1)}`,variant:"outlined",color:"success",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:809,columnNumber:43},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:802,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:800,columnNumber:37},void 0),secondary:u.niveau},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:798,columnNumber:33},void 0)},y,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:797,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:795,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:791,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:702,columnNumber:23},void 0):e.jsxDEV(fe,{severity:"info",children:["Aucune donnée de thématique disponible pour cette fonction.",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:829,columnNumber:25},void 0),e.jsxDEV(s,{variant:"caption",children:"Vérifiez que des formulaires ont été soumis et analysés pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:830,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:827,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:696,columnNumber:19},void 0),M===1&&e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Nos Recommandations"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:841,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body1",sx:{mb:2},children:e.jsxDEV("strong",{children:"Recommandations générales pour la fonction:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:845,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:844,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",sx:{mb:3,p:2,bgcolor:"grey.50",borderRadius:1},children:S.recommandations||"Aucune recommandation spécifique disponible pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:847,columnNumber:21},void 0),S.thematiques&&S.thematiques.length>0?e.jsxDEV(hs,{children:S.thematiques.map((u,y)=>e.jsxDEV(gs.Fragment,{children:[e.jsxDEV(us,{children:e.jsxDEV(is,{primary:e.jsxDEV(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(s,{variant:"subtitle1",fontWeight:"bold",children:u.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:859,columnNumber:37},void 0),e.jsxDEV(ie,{label:br(u.score),color:$s(u.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:860,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:858,columnNumber:35},void 0),secondary:e.jsxDEV(s,{variant:"body2",sx:{mt:1},children:u.recommandations||"Aucune recommandation spécifique pour cette thématique."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:868,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:856,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:855,columnNumber:29},void 0),y<S.thematiques.length-1&&e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:874,columnNumber:80},void 0)]},y,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:854,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:852,columnNumber:23},void 0):e.jsxDEV(fe,{severity:"info",children:"Aucune recommandation thématique disponible pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:879,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:840,columnNumber:19},void 0),M===2&&e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Recommandations LLM Publics"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:887,columnNumber:21},void 0),$&&$.thematiques.length>0?e.jsxDEV(r,{children:[e.jsxDEV(ge,{sx:{mb:3,bgcolor:"grey.50"},children:e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Informations sur l'analyse benchmark"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:896,columnNumber:29},void 0),e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{item:!0,xs:12,sm:4,children:e.jsxDEV(s,{variant:"body2",children:[e.jsxDEV("strong",{children:"Sources:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:902,columnNumber:35},void 0)," ",$.metadata.sources_utilisees.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:901,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:900,columnNumber:31},void 0),e.jsxDEV(d,{item:!0,xs:12,sm:4,children:e.jsxDEV(s,{variant:"body2",children:[e.jsxDEV("strong",{children:"Fiabilité globale:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:907,columnNumber:35},void 0)," ",$.metadata.fiabilite_globale,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:906,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:905,columnNumber:31},void 0),e.jsxDEV(d,{item:!0,xs:12,sm:4,children:e.jsxDEV(s,{variant:"body2",children:[e.jsxDEV("strong",{children:"Date d'analyse:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:912,columnNumber:35},void 0)," ",new Date($.date_analyse).toLocaleDateString("fr-FR")]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:911,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:910,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:899,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:895,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:894,columnNumber:25},void 0),$.thematiques.map((u,y)=>e.jsxDEV(ge,{sx:{mb:2},children:[e.jsxDEV(es,{title:u.nom,action:e.jsxDEV(r,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsxDEV(ie,{label:`Score moyen: ${u.score_moyen.toFixed(1)}`,color:"primary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:926,columnNumber:35},void 0),e.jsxDEV(ie,{label:`Écart-type: ${u.ecart_type.toFixed(2)}`,variant:"outlined",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:931,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:925,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:922,columnNumber:29},void 0),e.jsxDEV(Ee,{children:e.jsxDEV(d,{container:!0,spacing:2,children:u.recommandations_llm.map((D,c)=>e.jsxDEV(d,{item:!0,xs:12,md:4,children:e.jsxDEV(ge,{variant:"outlined",sx:{height:"100%"},children:[e.jsxDEV(es,{title:D.source,avatar:e.jsxDEV(r,{sx:{width:32,height:32,borderRadius:"50%",bgcolor:D.source==="ChatGPT"?"#10a37f":D.source==="Grok"?"#1da1f2":"#ff6b35",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:D.source==="ChatGPT"?"GPT":D.source==="Grok"?"GRK":"CLD"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:948,columnNumber:43},void 0),action:e.jsxDEV(r,{sx:{textAlign:"right"},children:[e.jsxDEV(s,{variant:"body2",fontWeight:"bold",children:[D.score.toFixed(1),"/5"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:967,columnNumber:45},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:["Confiance: ",D.niveau_confiance,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:970,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:966,columnNumber:43},void 0),sx:{pb:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:945,columnNumber:39},void 0),e.jsxDEV(Ee,{sx:{pt:0},children:e.jsxDEV(s,{variant:"body2",children:D.recommandation},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:978,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:977,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:944,columnNumber:37},void 0)},c,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:943,columnNumber:35},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:941,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:939,columnNumber:29},void 0)]},y,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:921,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:892,columnNumber:23},void 0):e.jsxDEV(r,{children:Y?e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:2,p:3},children:[e.jsxDEV(Pe,{size:24},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:994,columnNumber:29},void 0),e.jsxDEV(s,{children:"Chargement des recommandations LLM..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:995,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:993,columnNumber:27},void 0):e.jsxDEV(fe,{severity:"info",children:["Aucune recommandation LLM disponible pour cette fonction.",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:1e3,columnNumber:29},void 0),e.jsxDEV(s,{variant:"caption",children:"Les recommandations seront générées automatiquement lors de la sélection d'une fonction avec des thématiques."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:1001,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:998,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:991,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:886,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:680,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:670,columnNumber:13},void 0):e.jsxDEV(fe,{severity:"info",children:"Veuillez sélectionner une fonction pour voir son analyse détaillée."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:1013,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:668,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:554,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:543,columnNumber:5},void 0)},pa=new Map,fr=i=>Math.round(i||0).toString(),zr=i=>i>=80?"success":i>=60?"info":i>=40?"warning":i>=20?"error":"default",Bn=async(i,t)=>{const n=`${i}-${t}`;if(pa.has(n))return pa.get(n);try{const b=await U.post("benchmark/analyze",{secteur:i,fonction:t,thematiques:["General"]}),m=b.data||b;return pa.set(n,m),m}catch(b){return console.error("Erreur lors de la récupération du benchmark:",b),null}},Ba=()=>{const[i,t]=a.useState([]),[n,b]=a.useState(""),[m,A]=a.useState(null),[p,W]=a.useState(""),[S,O]=a.useState(!0),[f,w]=a.useState(!1),[Q,q]=a.useState(!1),[M,T]=a.useState(""),[$,_]=a.useState(0),[Y,R]=a.useState(0),[H,z]=a.useState(null),j=u=>({cybersecurite:{icon:e.jsxDEV(jr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:199,columnNumber:30},void 0),color:"#f44336",label:"Cybersécurité"},maturite_digitale:{icon:e.jsxDEV(Ur,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:200,columnNumber:34},void 0),color:"#2196f3",label:"Maturité Digitale"},gouvernance_donnees:{icon:e.jsxDEV(ea,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:201,columnNumber:36},void 0),color:"#4caf50",label:"Gouvernance des Données"},devsecops:{icon:e.jsxDEV(Zr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:202,columnNumber:26},void 0),color:"#ff9800",label:"DevSecOps"},innovation_numerique:{icon:e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:203,columnNumber:37},void 0),color:"#9c27b0",label:"Innovation Numérique"}})[u]||{icon:e.jsxDEV(ys,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:205,columnNumber:41},void 0),color:"#607d8b",label:u};a.useEffect(()=>{X()},[]),a.useEffect(()=>{n&&V(n)},[n]);const X=async()=>{try{O(!0),T(""),console.log("Chargement des entreprises via /api/entreprise-global");const u=await U.get("/entreprise-global");let y=[];Array.isArray(u)?y=u:u!=null&&u.data&&Array.isArray(u.data)&&(y=u.data),console.log("Entreprises récupérées:",y.length);const D=y.filter(c=>c.has_evaluation&&c.nombre_evaluations>0);console.log("Entreprises avec évaluations:",D.length),t(D),D.length>0&&b(D[0].id_entreprise)}catch(u){console.error("Erreur lors du chargement des entreprises:",u),T("Impossible de charger la liste des entreprises avec évaluations.")}finally{O(!1)}},V=async u=>{try{w(!0),T(""),console.log(`Chargement des détails pour l'entreprise: ${u}`);const y=await U.get(`/entreprise-global/${u}`),D=y.data||y;console.log("Détails de l'entreprise récupérés:",D),D.fonctions_analysis&&(D.fonctions_analysis=D.fonctions_analysis.map(c=>{const N=j(c.fonction);return{...c,...N}})),A(D),D.fonctions_analysis&&D.fonctions_analysis.length>0&&W(D.fonctions_analysis[0].fonction)}catch(y){console.error("Erreur lors du chargement des détails de l'entreprise:",y),T("Impossible de charger les détails de l'entreprise.")}finally{w(!1)}},pe=async u=>{if(m!=null&&m.entreprise)try{q(!0);const y=await Bn(m.entreprise.secteur,u);z(y)}catch(y){console.error("Erreur benchmark:",y)}finally{q(!1)}},E=u=>{b(u.target.value)},Z=(u,y)=>{_(y)},Ve=u=>{W(u),pe(u)},Se=()=>{n&&V(n)};return S?e.jsxDEV(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:[e.jsxDEV(Pe,{size:60},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:345,columnNumber:9},void 0),e.jsxDEV(s,{sx:{ml:2},children:"Chargement des analyses d'entreprise..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:346,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:344,columnNumber:7},void 0):i.length===0?e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4},children:e.jsxDEV(fe,{severity:"info",children:["Aucune entreprise avec évaluation de maturité disponible.",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:356,columnNumber:11},void 0),"Les entreprises doivent d'abord compléter leur évaluation de maturité DSIN."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:354,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:353,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(Ce,{elevation:2,sx:{p:3,mb:3},children:e.jsxDEV(d,{container:!0,spacing:3,alignItems:"center",children:[e.jsxDEV(d,{item:!0,xs:12,md:8,children:[e.jsxDEV(s,{variant:"h4",component:"h1",gutterBottom:!0,children:[e.jsxDEV(ys,{sx:{mr:2,verticalAlign:"middle"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:370,columnNumber:15},void 0),"Analyses & Interprétations - Entreprises"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:369,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body1",color:"text.secondary",children:"Analyse approfondie de la maturité DSIN des entreprises avec benchmarks sectoriels"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:373,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:368,columnNumber:11},void 0),e.jsxDEV(d,{item:!0,xs:12,md:4,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Sélectionner une entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:379,columnNumber:15},void 0),e.jsxDEV(Qe,{value:n,onChange:E,label:"Sélectionner une entreprise",children:i.map(u=>e.jsxDEV(De,{value:u.id_entreprise,children:e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"body1",children:u.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:388,columnNumber:23},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:[u.secteur," • ",u.taille_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:391,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:387,columnNumber:21},void 0)},u.id_entreprise,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:386,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:380,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:378,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:377,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:367,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:366,columnNumber:7},void 0),M&&e.jsxDEV(fe,{severity:"error",sx:{mb:3},children:M},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:404,columnNumber:9},void 0),f&&e.jsxDEV(r,{sx:{display:"flex",justifyContent:"center",p:3},children:[e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:411,columnNumber:11},void 0),e.jsxDEV(s,{sx:{ml:2},children:"Chargement des détails..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:412,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:410,columnNumber:9},void 0),m&&!f&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ge,{sx:{mb:3},children:[e.jsxDEV(es,{avatar:e.jsxDEV(xs,{color:"primary",sx:{fontSize:40}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:422,columnNumber:23},void 0),title:e.jsxDEV(s,{variant:"h5",component:"div",children:m.entreprise.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:424,columnNumber:17},void 0),subheader:e.jsxDEV(r,{sx:{mt:1},children:[e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:[m.entreprise.secteur," • ",m.entreprise.taille_entreprise," • ",m.entreprise.effectif_total," employés"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:430,columnNumber:19},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:["Dernière évaluation: ",new Date(m.entreprise.derniere_evaluation).toLocaleDateString("fr-FR"),m.statistiques.nombre_evaluations>1&&` • ${m.statistiques.nombre_evaluations} évaluations au total`]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:433,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:429,columnNumber:17},void 0),action:e.jsxDEV(r,{sx:{textAlign:"right"},children:[e.jsxDEV(s,{variant:"h4",color:"primary",fontWeight:"bold",children:[fr(m.entreprise.score_maturite_global_percentage),"/100"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:443,columnNumber:19},void 0),e.jsxDEV(ie,{label:m.entreprise.niveau_maturite_global,color:zr(m.entreprise.score_maturite_global_percentage),sx:{mt:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:446,columnNumber:19},void 0),e.jsxDEV(r,{sx:{mt:1},children:e.jsxDEV(P,{size:"small",startIcon:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:454,columnNumber:34},void 0),onClick:Se,children:"Actualiser"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:452,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:451,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:442,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:421,columnNumber:13},void 0),e.jsxDEV(Ee,{children:[e.jsxDEV(s,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[e.jsxDEV("strong",{children:"Recommandations globales:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:465,columnNumber:17},void 0)," ",m.entreprise.recommandations_globales]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:464,columnNumber:15},void 0),e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{item:!0,xs:6,md:3,children:e.jsxDEV(r,{sx:{textAlign:"center"},children:[e.jsxDEV(s,{variant:"h6",color:"primary",children:m.statistiques.nombre_acteurs_evalues},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:472,columnNumber:21},void 0),e.jsxDEV(s,{variant:"caption",children:"Acteurs évalués"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:475,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:471,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:470,columnNumber:17},void 0),e.jsxDEV(d,{item:!0,xs:6,md:3,children:e.jsxDEV(r,{sx:{textAlign:"center"},children:[e.jsxDEV(s,{variant:"h6",color:"primary",children:[Math.round(m.statistiques.taux_participation),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:480,columnNumber:21},void 0),e.jsxDEV(s,{variant:"caption",children:"Taux participation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:483,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:479,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:478,columnNumber:17},void 0),e.jsxDEV(d,{item:!0,xs:6,md:3,children:e.jsxDEV(r,{sx:{textAlign:"center"},children:[e.jsxDEV(s,{variant:"h6",color:"primary",children:m.statistiques.nombre_utilisateurs},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:488,columnNumber:21},void 0),e.jsxDEV(s,{variant:"caption",children:"Utilisateurs total"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:491,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:487,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:486,columnNumber:17},void 0),e.jsxDEV(d,{item:!0,xs:6,md:3,children:e.jsxDEV(r,{sx:{textAlign:"center"},children:[e.jsxDEV(s,{variant:"h6",color:"primary",children:m.statistiques.nombre_applications},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:496,columnNumber:21},void 0),e.jsxDEV(s,{variant:"caption",children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:499,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:495,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:494,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:469,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:463,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:420,columnNumber:11},void 0),e.jsxDEV(Ce,{sx:{mb:3},children:e.jsxDEV(Vs,{value:$,onChange:Z,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",children:[e.jsxDEV(Je,{label:"Vue d'ensemble",icon:e.jsxDEV(Ya,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:517,columnNumber:23},void 0),iconPosition:"start"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:515,columnNumber:15},void 0),e.jsxDEV(Je,{label:"Analyse par fonctions",icon:e.jsxDEV(ys,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:522,columnNumber:23},void 0),iconPosition:"start"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:520,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:508,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:507,columnNumber:11},void 0),$===0&&e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{item:!0,xs:12,md:6,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Radar de maturité",subheader:"Scores par fonction DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:534,columnNumber:19},void 0),e.jsxDEV(Ee,{children:e.jsxDEV(Ts,{width:"100%",height:350,children:e.jsxDEV(ra,{data:m.radar_data,children:[e.jsxDEV(aa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:541,columnNumber:25},void 0),e.jsxDEV(ia,{dataKey:"fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:542,columnNumber:25},void 0),e.jsxDEV(na,{angle:90,domain:[0,100],tick:!1},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:543,columnNumber:25},void 0),e.jsxDEV(Dr,{name:"Score",dataKey:"score",stroke:"#2196f3",fill:"#2196f3",fillOpacity:.3},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:548,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:540,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:539,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:538,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:533,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:532,columnNumber:15},void 0),e.jsxDEV(d,{item:!0,xs:12,md:6,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Scores détaillés",subheader:"Performance par fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:564,columnNumber:19},void 0),e.jsxDEV(Ee,{children:e.jsxDEV(hs,{children:m.fonctions_analysis.map((u,y)=>e.jsxDEV(gs.Fragment,{children:[e.jsxDEV(us,{children:[e.jsxDEV(Js,{sx:{bgcolor:u.color,mr:2},children:u.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:573,columnNumber:29},void 0),e.jsxDEV(is,{primary:u.label,secondary:e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",mt:1},children:[e.jsxDEV(s,{variant:"body2",sx:{mr:2},children:[fr(u.score_percentage),"/100"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:580,columnNumber:35},void 0),e.jsxDEV(ie,{size:"small",label:u.niveau,color:zr(u.score_percentage)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:583,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:579,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:576,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:572,columnNumber:27},void 0),y<m.fonctions_analysis.length-1&&e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:592,columnNumber:87},void 0)]},u.fonction,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:571,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:569,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:568,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:563,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:562,columnNumber:15},void 0),e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ge,{children:[e.jsxDEV(es,{title:"Historique des évaluations",subheader:`${m.evaluations_individuelles.length} évaluation(s) terminée(s)`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:603,columnNumber:19},void 0),e.jsxDEV(Ee,{children:e.jsxDEV(d,{container:!0,spacing:2,children:m.evaluations_individuelles.map(u=>e.jsxDEV(d,{item:!0,xs:12,md:6,lg:4,children:e.jsxDEV(Ce,{sx:{p:2,border:"1px solid #e0e0e0"},children:[e.jsxDEV(s,{variant:"subtitle1",gutterBottom:!0,children:u.evaluateur_nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:612,columnNumber:29},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",display:"block",children:new Date(u.date_soumission).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:615,columnNumber:29},void 0),e.jsxDEV(r,{sx:{mt:2},children:[e.jsxDEV(s,{variant:"h6",color:"primary",children:[fr(u.score_global/5*100),"/100"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:619,columnNumber:31},void 0),e.jsxDEV(ie,{size:"small",label:u.niveau_global,color:zr(u.score_global/5*100),sx:{mt:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:622,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:618,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:611,columnNumber:27},void 0)},u.id_evaluation,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:610,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:608,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:607,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:602,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:601,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:530,columnNumber:13},void 0),$===1&&e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(Ce,{sx:{p:2},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Sélectionner une fonction pour l'analyse détaillée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:644,columnNumber:19},void 0),e.jsxDEV(d,{container:!0,spacing:2,children:m.fonctions_analysis.map(u=>e.jsxDEV(d,{item:!0,xs:12,sm:6,md:4,lg:2.4,children:e.jsxDEV(P,{fullWidth:!0,variant:p===u.fonction?"contained":"outlined",onClick:()=>Ve(u.fonction),startIcon:u.icon,sx:{height:80,flexDirection:"column",gap:1,borderColor:u.color,color:p===u.fonction?"white":u.color,bgcolor:p===u.fonction?u.color:"transparent","&:hover":{bgcolor:p===u.fonction?u.color:`${u.color}20`}},children:[e.jsxDEV(s,{variant:"caption",children:u.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:667,columnNumber:27},void 0),e.jsxDEV(s,{variant:"body2",fontWeight:"bold",children:[fr(u.score_percentage),"/100"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:670,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:650,columnNumber:25},void 0)},u.fonction,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:649,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:647,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:643,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:642,columnNumber:15},void 0),p&&e.jsxDEV(d,{item:!0,xs:12,children:(()=>{const u=m.fonctions_analysis.find(y=>y.fonction===p);return u?e.jsxDEV(ge,{children:[e.jsxDEV(es,{avatar:e.jsxDEV(Js,{sx:{bgcolor:u.color},children:u.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:691,columnNumber:29},void 0),title:u.label,subheader:u.description,action:e.jsxDEV(r,{sx:{textAlign:"right"},children:[e.jsxDEV(s,{variant:"h5",color:"primary",children:[fr(u.score_percentage),"/100"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:699,columnNumber:31},void 0),e.jsxDEV(ie,{label:u.niveau,color:zr(u.score_percentage)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:702,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:698,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:689,columnNumber:25},void 0),e.jsxDEV(Ee,{children:Q?e.jsxDEV(r,{sx:{display:"flex",justifyContent:"center",p:3},children:[e.jsxDEV(Pe,{size:30},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:712,columnNumber:31},void 0),e.jsxDEV(s,{sx:{ml:2},children:"Chargement du benchmark..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:713,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:711,columnNumber:29},void 0):H?e.jsxDEV(fe,{severity:"info",children:e.jsxDEV(s,{variant:"body2",children:[e.jsxDEV("strong",{children:"Benchmark sectoriel disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:718,columnNumber:33},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:718,columnNumber:80},void 0),"Score entreprise: ",u.score_percentage,"% • Score secteur: ",H.scores.niveau_fonction,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:717,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:716,columnNumber:29},void 0):e.jsxDEV(fe,{severity:"warning",children:"Données de benchmark non disponibles pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:724,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:709,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:688,columnNumber:23},void 0):null})()},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:682,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:640,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:418,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationsEntreprises.tsx",lineNumber:364,columnNumber:5},void 0)},_s={cybersecurite:{label:"Cybersécurité",icon:e.jsxDEV(jr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:61,columnNumber:11},void 0),color:"#d32f2f",description:"Sécurité des systèmes et données"},maturite_digitale:{label:"Maturité Digitale",icon:e.jsxDEV(Ur,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:67,columnNumber:11},void 0),color:"#1976d2",description:"Transformation et stratégie digitale"},gouvernance_donnees:{label:"Gouvernance des Données",icon:e.jsxDEV(ea,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:73,columnNumber:11},void 0),color:"#388e3c",description:"Gestion et qualité des données"},devsecops:{label:"DevSecOps",icon:e.jsxDEV(Zr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:79,columnNumber:11},void 0),color:"#f57c00",description:"Développement et opérations sécurisées"},innovation_numerique:{label:"Innovation Numérique",icon:e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:85,columnNumber:11},void 0),color:"#7b1fa2",description:"Veille et adoption technologique"}},Gn=[{value:"1",label:"1 - Pas du tout",description:"Aucune mise en place"},{value:"2",label:"2 - Partiellement",description:"Début de mise en place"},{value:"3",label:"3 - Moyennement",description:"Mise en place partielle"},{value:"4",label:"4 - Largement",description:"Mise en place avancée"},{value:"5",label:"5 - Totalement",description:"Mise en place complète"}],Qn=(i,t)=>{const[n,b]=a.useState(i);return a.useEffect(()=>{const m=setTimeout(()=>{b(i)},t);return()=>{clearTimeout(m)}},[i,t]),n},Hn=()=>{const{enterpriseId:i}=Gs(),t=ns(),n=dr(),{currentUser:b}=or(),[m,A]=a.useState(null),[p,W]=a.useState({}),[S,O]=a.useState(0),[f,w]=a.useState({}),[Q,q]=a.useState(!0),[M,T]=a.useState(!1),[$,_]=a.useState(""),[Y,R]=a.useState(!1),[H]=a.useState(Date.now()),[z,j]=a.useState(null),[X,V]=a.useState("idle"),[pe,E]=a.useState(!1),[Z,Ve]=a.useState(""),[Se,u]=a.useState(!1),y=Object.keys(_s),D=Qn(f,5e3),c=a.useCallback(async()=>{var te,he;if(!i||!b){_("ID de l'entreprise ou utilisateur manquant"),q(!1);return}try{q(!0),_(""),console.log("🚀 Initialisation de l'évaluation pour entreprise:",i);let de;const ye=n.state;if(ye!=null&&ye.fromInvite&&(ye!=null&&ye.evaluationId)){console.log("📧 Arrivée depuis invitation:",ye);const ee=await U.get(`evaluation-invite/check-evaluation/${ye.evaluationId}`);de=ee.data.evaluation.id,ee.data.evaluation.statut==="NOUVEAU"&&await U.post("maturity-evaluation/start",{id_entreprise:i,id_acteur:b==null?void 0:b.id_acteur,id_evaluation:de})}else try{de=(await U.get(`maturity-evaluation/current/${i}`)).data.id_evaluation||`eval_${i}_${Date.now()}`}catch{de=(await U.post("maturity-evaluation/start",{id_entreprise:i,id_acteur:b==null?void 0:b.id_acteur})).data.id_evaluation}const ve=await U.get(`evaluation-data/${de}`),{evaluation:qe,fonctionsGlobales:I,responses:C}=ve.data,ue={};I.forEach(ee=>{ue[ee.code_fonction]=ee.questions.map(k=>({id_question:k.id_question,fonction:ee.code_fonction,numero_question:k.numero_question,texte_question:k.texte_question,description:k.description,poids:k.poids,type_reponse:k.type_reponse,ordre_affichage:k.ordre_question}))}),W(ue),A({id_evaluation:qe.id_evaluation,id_entreprise:qe.id_entreprise,entreprise_nom:qe.nom_entreprise,manager_id:qe.id_acteur,date_debut:qe.date_debut,statut:qe.statut,responses:C,scores:{}}),C&&Object.keys(C).length>0&&(w(C),Ve("Évaluation en cours récupérée"),u(!0)),console.log("✅ Évaluation initialisée:",de)}catch(de){console.error("❌ Erreur lors de l'initialisation:",de),_(((he=(te=de.response)==null?void 0:te.data)==null?void 0:he.message)||"Erreur lors du chargement de l'évaluation")}finally{q(!1)}},[i,b,n.state]);a.useEffect(()=>{c()},[c]),a.useEffect(()=>{D&&Object.keys(D).length>0&&m&&pe&&o(!1)},[D]),a.useEffect(()=>{const te=he=>{pe&&(he.preventDefault(),he.returnValue="")};return window.addEventListener("beforeunload",te),()=>window.removeEventListener("beforeunload",te)},[pe]);const N=(te,he)=>{if(!Object.values(p).flat().find(I=>I.id_question===te))return;const ve=parseInt(he)/5*100,qe={id_question:te,valeur_reponse:he,score_question:ve};w(I=>({...I,[te]:qe})),E(!0),V("idle")},g=()=>{const te={};return Object.keys(_s).forEach(he=>{const de=p[he]||[],ye=de.map(ee=>f[ee.id_question]).filter(Boolean),ve=de.length,qe=ye.length,I=ve>0?qe/ve*100:0;let C=0;ye.length>0&&(C=ye.reduce((k,J)=>k+J.score_question,0)/ye.length);let ue="Non évalué";C>=80?ue="Optimisé":C>=60?ue="Géré":C>=40?ue="Mesuré":C>=20?ue="Défini":C>0&&(ue="Initial"),te[he]={fonction:_s[he].label,score:C,niveau:ue,progress:I}}),te},o=async(te=!0)=>{if(!(!m||Object.keys(f).length===0))try{T(!0),V("saving");const he=Object.values(f);await U.post(`maturity-evaluation/${m.id_evaluation}/responses-batch`,{responses:he}),j(new Date),E(!1),V("saved"),te&&(Ve("✅ Réponses sauvegardées"),u(!0)),setTimeout(()=>{V("idle")},3e3)}catch(he){console.error("❌ Erreur lors de la sauvegarde:",he),V("error"),Ve("❌ Erreur lors de la sauvegarde"),u(!0)}finally{T(!1)}},v=async()=>{var te,he,de,ye;if(m)try{q(!0),await o(!1);const ve=g(),qe=Object.fromEntries(Object.entries(ve).map(([C,ue])=>[C,{score:ue.score,niveau:ue.niveau,progress:ue.progress}])),I=await U.post(`maturity-evaluation/${m.id_evaluation}/submit`,{scores:qe,duree_minutes:Math.round((Date.now()-H)/1e3/60)});console.log("✅ Évaluation soumise:",I.data),t(`/maturity-analysis/${m.id_evaluation}`,{state:{enterpriseId:m.id_entreprise,enterpriseName:m.entreprise_nom,scores:I.data.scores,fromEvaluation:!0}})}catch(ve){console.error("❌ Erreur lors de la soumission:",ve),_(((he=(te=ve.response)==null?void 0:te.data)==null?void 0:he.message)||"Erreur lors de la soumission de l'évaluation"),Ve(((ye=(de=ve.response)==null?void 0:de.data)==null?void 0:ye.message)||"Erreur lors de la soumission"),u(!0)}finally{q(!1)}},B=(te,he)=>{pe&&o(!1),O(he)},L=()=>{const te=Object.values(p).reduce((de,ye)=>de+ye.length,0),he=Object.keys(f).length;return te>0?he/te*100:0},le=()=>{const te=Object.values(p).reduce((he,de)=>he+de.length,0);return Object.keys(f).length===te},re=()=>{R(!0)},F=()=>{R(!1)},oe=()=>{R(!1),v()},ae=()=>{u(!1)};if(Q)return e.jsxDEV(ze,{maxWidth:"lg",sx:{py:4},children:e.jsxDEV(r,{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"60vh",justifyContent:"center",children:[e.jsxDEV(Pe,{size:60},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:389,columnNumber:11},void 0),e.jsxDEV(s,{variant:"h6",sx:{mt:2},children:"Chargement de l'évaluation..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:390,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:388,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:387,columnNumber:7},void 0);if($&&!m)return e.jsxDEV(ze,{maxWidth:"md",sx:{py:4},children:e.jsxDEV(Ce,{elevation:3,sx:{p:4,textAlign:"center"},children:[e.jsxDEV(ga,{sx:{fontSize:64,color:"error.main",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:402,columnNumber:11},void 0),e.jsxDEV(s,{variant:"h6",color:"error",gutterBottom:!0,children:"Erreur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:403,columnNumber:11},void 0),e.jsxDEV(s,{variant:"body1",color:"text.secondary",sx:{mb:3},children:$},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:406,columnNumber:11},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[e.jsxDEV(P,{variant:"outlined",onClick:()=>t("/dashboard"),startIcon:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:413,columnNumber:26},void 0),children:"Retour au tableau de bord"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:410,columnNumber:13},void 0),e.jsxDEV(P,{variant:"contained",onClick:c,startIcon:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:420,columnNumber:26},void 0),children:"Réessayer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:417,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:409,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:401,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:400,columnNumber:7},void 0);const Ae=g(),Ue=L(),ke=p[y[S]]||[];return e.jsxDEV(ze,{maxWidth:"lg",sx:{py:4},children:[e.jsxDEV(Ce,{elevation:3,sx:{p:3,mb:4},children:[e.jsxDEV(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"h4",gutterBottom:!0,children:"Évaluation de Maturité DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:439,columnNumber:13},void 0),e.jsxDEV(s,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:m==null?void 0:m.entreprise_nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:442,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:438,columnNumber:11},void 0),e.jsxDEV(r,{sx:{textAlign:"right"},children:[e.jsxDEV(ie,{icon:e.jsxDEV(Gi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:448,columnNumber:21},void 0),label:`${Math.round((Date.now()-H)/1e3/60)} min`,variant:"outlined",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:447,columnNumber:13},void 0),X==="saving"&&e.jsxDEV(ie,{icon:e.jsxDEV(Qi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:455,columnNumber:23},void 0),label:"Sauvegarde...",color:"info",size:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:454,columnNumber:15},void 0),X==="saved"&&e.jsxDEV(ie,{icon:e.jsxDEV(Hi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:464,columnNumber:23},void 0),label:"Sauvegardé",color:"success",size:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:463,columnNumber:15},void 0),X==="error"&&e.jsxDEV(ie,{icon:e.jsxDEV(ga,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:473,columnNumber:23},void 0),label:"Erreur sauvegarde",color:"error",size:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:472,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:446,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:437,columnNumber:9},void 0),e.jsxDEV(r,{sx:{mb:2},children:[e.jsxDEV(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsxDEV(s,{variant:"body2",children:["Progression globale: ",Object.keys(f).length,"/",Object.values(p).reduce((te,he)=>te+he.length,0)," questions"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:484,columnNumber:13},void 0),e.jsxDEV(s,{variant:"body2",children:[Math.round(Ue),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:487,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:483,columnNumber:11},void 0),e.jsxDEV(gr,{variant:"determinate",value:Ue,sx:{height:8,borderRadius:4}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:491,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:482,columnNumber:9},void 0),$&&e.jsxDEV(fe,{severity:"error",onClose:()=>_(""),sx:{mb:2},children:$},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:494,columnNumber:11},void 0),z&&e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:["Dernière sauvegarde: ",z.toLocaleTimeString("fr-FR")]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:499,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:436,columnNumber:7},void 0),e.jsxDEV(Ce,{elevation:2,sx:{mb:4},children:e.jsxDEV(Vs,{value:S,onChange:B,variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider"},children:y.map((te,he)=>{const de=_s[te],ye=Ae[te];return e.jsxDEV(Je,{icon:de.icon,label:e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"body2",fontWeight:"bold",children:de.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:521,columnNumber:21},void 0),ye&&e.jsxDEV(s,{variant:"caption",sx:{color:de.color},children:[Math.round(ye.progress),"% • ",ye.niveau]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:525,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:520,columnNumber:19},void 0),sx:{minHeight:80,"& .MuiTab-iconWrapper":{color:de.color}}},te,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:516,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:505,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:504,columnNumber:7},void 0),e.jsxDEV(Ce,{elevation:2,sx:{p:4,mb:4},children:[e.jsxDEV(r,{sx:{mb:3},children:[e.jsxDEV(s,{variant:"h5",gutterBottom:!0,sx:{color:_s[y[S]].color},children:_s[y[S]].label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:542,columnNumber:11},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:_s[y[S]].description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:545,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:541,columnNumber:9},void 0),e.jsxDEV(ss,{sx:{mb:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:549,columnNumber:9},void 0),ke.length===0?e.jsxDEV(fe,{severity:"info",children:"Aucune question disponible pour cette fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:551,columnNumber:11},void 0):e.jsxDEV(d,{container:!0,spacing:3,children:ke.map((te,he)=>{var de;return e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ge,{variant:"outlined",sx:{bgcolor:f[te.id_question]?"success.50":"background.paper",border:f[te.id_question]?2:1,borderColor:f[te.id_question]?"success.main":"divider"},children:e.jsxDEV(Ee,{children:[e.jsxDEV(r,{sx:{display:"flex",alignItems:"flex-start",gap:2,mb:2},children:[e.jsxDEV(ie,{label:te.numero_question,size:"small",sx:{bgcolor:_s[y[S]].color,color:"white"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:568,columnNumber:23},void 0),e.jsxDEV(r,{sx:{flex:1},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:te.texte_question},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:577,columnNumber:25},void 0),te.description&&e.jsxDEV(s,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:te.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:581,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:576,columnNumber:23},void 0),f[te.id_question]&&e.jsxDEV(Vr,{color:"success"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:587,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:567,columnNumber:21},void 0),e.jsxDEV($e,{component:"fieldset",children:[e.jsxDEV(Za,{component:"legend",children:"Votre évaluation:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:591,columnNumber:23},void 0),e.jsxDEV(Da,{row:!0,value:((de=f[te.id_question])==null?void 0:de.valeur_reponse)||"",onChange:ye=>N(te.id_question,ye.target.value),children:Gn.map(ye=>e.jsxDEV(yr,{value:ye.value,control:e.jsxDEV(Hr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:601,columnNumber:38},void 0),label:e.jsxDEV(as,{title:ye.description,arrow:!0,children:e.jsxDEV(s,{variant:"body2",children:ye.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:604,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:603,columnNumber:31},void 0)},ye.value,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:598,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:592,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:590,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:566,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:558,columnNumber:17},void 0)},te.id_question,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:557,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:555,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:540,columnNumber:7},void 0),e.jsxDEV(Ce,{elevation:2,sx:{p:4,mb:4},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Résumé des scores par fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:621,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:2,children:y.map(te=>{const he=_s[te],de=Ae[te];return e.jsxDEV(d,{item:!0,xs:12,sm:6,md:4,children:e.jsxDEV(ge,{variant:"outlined",children:e.jsxDEV(Ee,{children:[e.jsxDEV(r,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsxDEV(r,{sx:{color:he.color},children:he.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:633,columnNumber:23},void 0),e.jsxDEV(s,{variant:"body2",fontWeight:"bold",children:he.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:636,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:632,columnNumber:21},void 0),e.jsxDEV(r,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsxDEV(s,{variant:"h6",sx:{color:he.color},children:[Math.round((de==null?void 0:de.score)||0),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:641,columnNumber:23},void 0),e.jsxDEV(ie,{size:"small",label:(de==null?void 0:de.niveau)||"Non évalué",sx:{bgcolor:he.color,color:"white"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:644,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:640,columnNumber:21},void 0),e.jsxDEV(gr,{variant:"determinate",value:(de==null?void 0:de.progress)||0,sx:{height:6,borderRadius:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:650,columnNumber:21},void 0),e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:[Math.round((de==null?void 0:de.progress)||0),"% des questions répondues"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:655,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:631,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:630,columnNumber:17},void 0)},te,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:629,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:624,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:620,columnNumber:7},void 0),e.jsxDEV(Ce,{elevation:2,sx:{p:3},children:e.jsxDEV(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(P,{variant:"outlined",onClick:()=>t("/dashboard"),startIcon:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:670,columnNumber:24},void 0),disabled:M||Q,children:"Retour au tableau de bord"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:667,columnNumber:11},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:2},children:[e.jsxDEV(P,{variant:"contained",startIcon:e.jsxDEV(sa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:678,columnNumber:26},void 0),onClick:()=>o(!0),disabled:M||Q||!pe,sx:{bgcolor:"#1976d2"},children:M?"Sauvegarde...":"Sauvegarder"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:676,columnNumber:13},void 0),e.jsxDEV(P,{variant:"contained",startIcon:e.jsxDEV(Ja,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:687,columnNumber:26},void 0),onClick:re,disabled:M||Q||!le(),sx:{bgcolor:"#09C4B8"},children:"Soumettre l'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:685,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:675,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:666,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:665,columnNumber:7},void 0),e.jsxDEV(cs,{open:Y,onClose:F,children:[e.jsxDEV(bs,{children:"Confirmer la soumission"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:698,columnNumber:9},void 0),e.jsxDEV(fs,{children:e.jsxDEV(s,{variant:"body1",children:"Êtes-vous sûr de vouloir soumettre votre évaluation ? Une fois soumise, vous ne pourrez plus modifier vos réponses."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:700,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:699,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:F,color:"primary",children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:705,columnNumber:11},void 0),e.jsxDEV(P,{onClick:oe,color:"primary",variant:"contained",children:"Soumettre"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:708,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:704,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:697,columnNumber:7},void 0),e.jsxDEV(tr,{open:Se,autoHideDuration:3e3,onClose:ae,message:Z,anchorOrigin:{vertical:"bottom",horizontal:"right"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:713,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityEvaluation.tsx",lineNumber:435,columnNumber:5},void 0)},Oe=({children:i,className:t="h-5 w-5"})=>e.jsxDEV(r,{component:"span",sx:{display:"flex",alignItems:"center","& svg":{width:20,height:20}},children:gs.cloneElement(i,{className:t})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:189,columnNumber:3},void 0),Nr=i=>{const{children:t,value:n,index:b,...m}=i;return e.jsxDEV("div",{role:"tabpanel",hidden:n!==b,id:`admin-tabpanel-${b}`,"aria-labelledby":`admin-tab-${b}`,...m,children:n===b&&e.jsxDEV(r,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:206,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:198,columnNumber:5},void 0)},xr=()=>{const{hasPermission:i,canAccessAdminModule:t,isAdmin:n,isSuperAdmin:b,currentUser:m,hasGlobalAccess:A}=or(),p=ns();dr();const W=()=>{var l;return((l=m==null?void 0:m.nom_role)==null?void 0:l.toUpperCase())==="CONSULTANT"},S=()=>b()||A?"GLOBAL":(m==null?void 0:m.niveau_acces)||"ENTREPRISE",f=(()=>{const l=S();return b()?{canViewAll:!0,canManageUsers:!0,canManageRoles:!0,canManagePermissions:!0,canManageModules:!0,canEditAll:!0,canDeleteAll:!0,scope:"GLOBAL"}:n()?{canViewAll:!0,canManageUsers:!0,canManageRoles:l==="GLOBAL",canManagePermissions:l==="GLOBAL",canManageModules:l==="GLOBAL",canEditAll:!0,canDeleteAll:!1,scope:l}:W()?{canViewAll:!0,canManageUsers:!1,canManageRoles:!1,canManagePermissions:!1,canManageModules:!1,canEditAll:!1,canDeleteAll:!1,scope:l}:{canViewAll:!1,canManageUsers:!1,canManageRoles:!1,canManagePermissions:!1,canManageModules:!1,canEditAll:!1,canDeleteAll:!1,scope:"ENTREPRISE"}})(),w=()=>{const l=localStorage.getItem("admin-active-tab");return l&&parseInt(l)>=0&&parseInt(l)<=4?parseInt(l):0},[Q,q]=a.useState(!0),[M,T]=a.useState(w()),[$,_]=a.useState({open:!1,message:"",severity:"info"}),[Y,R]=a.useState([]),[H,z]=a.useState([]),[j,X]=a.useState([]),[V,pe]=a.useState([]),[E,Z]=a.useState([]),[Ve,Se]=a.useState([]),[u,y]=a.useState(!1),[D,c]=a.useState(!1),[N,g]=a.useState(!1),[o,v]=a.useState(!1),[B,L]=a.useState(!1),[le,re]=a.useState([]),[F,oe]=a.useState({nom_prenom:"",email:"",fonction:"",organisation:"DSIN",id_entreprise:"",mot_de_passe:"",id_role:""}),[ae,Ae]=a.useState({nom_role:"",description:"",niveau_acces:"ENTREPRISE"}),[Ue,ke]=a.useState({nom_entreprise:"",secteur:"",description:"",adresse:"",telephone:"",email:"",site_web:""}),[te,he]=a.useState("create"),[de,ye]=a.useState(null),[ve,qe]=a.useState(""),I=(l,Me="info")=>{_({open:!0,message:l,severity:Me})};a.useEffect(()=>{if(!f.canViewAll&&!W()){p("/");return}C()},[]),a.useEffect(()=>{localStorage.setItem("admin-active-tab",M.toString())},[M]);const C=async()=>{q(!0);try{await Promise.all([ue(),ee(),k(),J()])}catch(l){console.error("Erreur lors du chargement des données:",l),I("Erreur lors du chargement des données","error")}finally{q(!1)}},ue=async()=>{try{let l;try{l=await U.get("admin/users"),R(l.users||l||[])}catch{console.warn("Endpoint admin/users non disponible, utilisation de permissions-management/users"),l=await U.get("permissions-management/users"),R(l||[])}}catch(l){console.error("Erreur lors du chargement des utilisateurs:",l),I("Erreur lors du chargement des utilisateurs","error")}},ee=async()=>{try{let l;try{l=await U.get("admin/roles"),z(l||[])}catch{console.warn("Endpoint admin/roles non disponible, utilisation de permissions-management/roles"),l=await U.get("permissions-management/roles"),z(l||[])}}catch(l){console.error("Erreur lors du chargement des rôles:",l),I("Erreur lors du chargement des rôles","error")}},k=async()=>{try{let l;try{l=await U.get("admin/modules"),X(l||[])}catch{console.warn("Endpoint admin/modules non disponible, utilisation de permissions-management/modules"),l=await U.get("permissions-management/modules"),X(l||[])}}catch(l){console.error("Erreur lors du chargement des modules:",l),I("Erreur lors du chargement des modules","error")}},J=async()=>{try{console.log("🔍 Chargement des entreprises...");const l=await U.get("entreprises");console.log("✅ Entreprises reçues:",l);const Me=(l.entreprises||l||[]).map(Be=>({id_entreprise:Be.id_entreprise,nom_entreprise:Be.nom_entreprise,secteur:Be.secteur,description:Be.description,adresse:Be.adresse,telephone:Be.telephone,email:Be.email,site_web:Be.site_web,date_creation:Be.date_creation,date_modification:Be.date_modification,nombre_utilisateurs:Be.nombre_utilisateurs||0,nombre_applications:Be.nombre_applications||0}));console.log("🏢 Entreprises finales:",Me),Se(Me)}catch(l){console.error("❌ Erreur chargement entreprises:",l),I("Erreur lors du chargement des entreprises","error"),Se([{id_entreprise:"DSIN",nom_entreprise:"DSIN",secteur:"Public",description:"Direction du Système d'Information et du Numérique",adresse:"",telephone:"",email:"",site_web:"",nombre_utilisateurs:0,nombre_applications:0}])}},Fe=async l=>{try{let Me;try{Me=await U.get(`admin/roles/${l}/permissions`),Z(Me||[]),re(Me||[])}catch{Me=await U.get(`permissions-management/roles/${l}/permissions`),Z(Me||[]),re(Me||[])}}catch(Me){console.error("Erreur lors du chargement des permissions du rôle:",Me),I("Erreur lors du chargement des permissions","error")}},K=(l,Me)=>{[f.canViewAll,f.canManageRoles,f.canManagePermissions,f.canEditAll||f.canViewAll,f.canManageModules][Me]?T(Me):I("Vous n'avez pas les droits pour accéder à cet onglet","warning")},me=()=>{if(!f.canManageUsers){I("Vous n'avez pas les droits pour créer des utilisateurs","warning");return}he("create"),oe({nom_prenom:"",email:"",fonction:"",organisation:"",id_entreprise:f.scope==="ENTREPRISE"&&(m==null?void 0:m.id_entreprise)||"DSIN",mot_de_passe:"",id_role:""}),y(!0)},Ne=l=>{if(!f.canEditAll){I("Vous n'avez pas les droits pour modifier des utilisateurs","warning");return}he("edit"),ye(l),oe({nom_prenom:l.nom_prenom,email:l.email,fonction:l.role||"",organisation:l.organisation,id_entreprise:l.id_entreprise||"DSIN",id_role:l.id_role||""}),y(!0)},We=()=>{if(!f.canManageRoles){I("Vous n'avez pas les droits pour créer des rôles","warning");return}he("create"),Ae({nom_role:"",description:"",niveau_acces:"ENTREPRISE"}),c(!0)},ps=l=>{if(!f.canManageRoles){I("Vous n'avez pas les droits pour modifier des rôles","warning");return}he("edit"),ye(l),Ae({nom_role:l.nom_role,description:l.description,niveau_acces:l.niveau_acces}),c(!0)},ws=()=>{if(!f.canEditAll){I("Vous n'avez pas les droits pour créer des entreprises","warning");return}he("create"),ke({nom_entreprise:"",secteur:"",description:"",adresse:"",telephone:"",email:"",site_web:""}),g(!0)},Rs=l=>{if(!f.canEditAll){I("Vous n'avez pas les droits pour modifier des entreprises","warning");return}he("edit"),ye(l),ke({nom_entreprise:l.nom_entreprise,secteur:l.secteur||"",description:l.description||"",adresse:l.adresse||"",telephone:l.telephone||"",email:l.email||"",site_web:l.site_web||""}),g(!0)},lr=()=>{if(!f.canManagePermissions){I("Vous n'avez pas les droits pour modifier les permissions","warning");return}L(!0),re([...E])},mr=async()=>{try{const l=le.map(Me=>({id_module:Me.id_module,peut_voir:Me.peut_voir,peut_editer:Me.peut_editer,peut_supprimer:Me.peut_supprimer,peut_administrer:Me.peut_administrer}));try{await U.put(`admin/roles/${ve}/permissions`,{permissions:l})}catch{await U.put(`permissions-management/roles/${ve}/permissions`,{permissions:l})}Z([...le]),L(!1),I("Permissions mises à jour avec succès","success")}catch(l){console.error("Erreur lors de la sauvegarde des permissions:",l),I("Erreur lors de la sauvegarde des permissions","error")}},Qs=()=>{re([...E]),L(!1)},qs=(l,Me,Be)=>{re(_r=>_r.map(x=>x.id_module===l?{...x,[Me]:Be}:x))},ce=async()=>{try{const l={nom_prenom:F.nom_prenom,email:F.email,organisation:F.organisation,id_entreprise:F.id_entreprise,id_role:F.id_role,...te==="create"&&{mot_de_passe:F.mot_de_passe}};if(console.log("📤 Envoi données utilisateur:",l),te==="create"){try{await U.post("admin/users",l)}catch{console.warn("Endpoint admin/users non disponible, utilisation de permissions-management/users"),await U.post("permissions-management/users",l)}I("Utilisateur créé avec succès","success")}else if(de){try{await U.put(`admin/users/${de.id_acteur}`,l)}catch{await U.put(`acteurs/${de.id_acteur}`,l)}I("Utilisateur mis à jour avec succès","success")}await ue(),y(!1),console.log("✅ Utilisateur sauvegardé avec succès")}catch(l){console.error("❌ Erreur lors de la sauvegarde de l'utilisateur:",l),I("Erreur lors de la sauvegarde de l'utilisateur","error")}},G=async()=>{try{if(te==="create"){try{await U.post("admin/roles",ae)}catch{await U.post("permissions-management/roles",ae)}I("Rôle créé avec succès","success")}else if(de){try{await U.put(`admin/roles/${de.id_role}`,ae)}catch{await U.put(`permissions-management/roles/${de.id_role}`,ae)}I("Rôle mis à jour avec succès","success")}await ee(),c(!1)}catch(l){console.error("Erreur lors de la sauvegarde du rôle:",l),I("Erreur lors de la sauvegarde du rôle","error")}},_e=async()=>{try{te==="create"?(await U.post("entreprises",Ue),I("Entreprise créée avec succès","success")):de&&(await U.put(`entreprises/${de.id_entreprise}`,Ue),I("Entreprise mise à jour avec succès","success")),await J(),g(!1)}catch(l){console.error("Erreur lors de la sauvegarde de l'entreprise:",l),I("Erreur lors de la sauvegarde de l'entreprise","error")}},Re=async()=>{try{if(!de)return;if(M===0){try{await U.delete(`admin/users/${de.id_acteur}`)}catch{await U.delete(`acteurs/${de.id_acteur}`)}await ue(),I("Utilisateur supprimé avec succès","success")}else if(M===1){try{await U.delete(`admin/roles/${de.id_role}`)}catch{await U.delete(`permissions-management/roles/${de.id_role}`)}await ee(),I("Rôle supprimé avec succès","success")}else M===3&&(await U.delete(`entreprises/${de.id_entreprise}`),await J(),I("Entreprise supprimée avec succès","success"));v(!1),ye(null)}catch(l){console.error("Erreur lors de la suppression:",l),I("Erreur lors de la suppression","error")}},Ye=(l,Me)=>{switch(Me||l){case"SUPER_ADMINISTRATEUR":case"SuperAdmin":return{label:"Super Admin",color:"error",icon:e.jsxDEV(Oe,{children:e.jsxDEV(ma,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:825,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:825,columnNumber:17},void 0)};case"ADMINISTRATEUR":case"Admin":return{label:"Admin",color:"primary",icon:e.jsxDEV(Oe,{children:e.jsxDEV(qr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:832,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:832,columnNumber:17},void 0)};case"CONSULTANT":return{label:"Consultant",color:"secondary",icon:e.jsxDEV(Oe,{children:e.jsxDEV(kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:838,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:838,columnNumber:17},void 0)};case"MANAGER":return{label:"Manager",color:"info",icon:e.jsxDEV(Oe,{children:e.jsxDEV(Lr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:844,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:844,columnNumber:17},void 0)};case"INTERVENANT":default:return{label:"Intervenant",color:"default",icon:e.jsxDEV(Oe,{children:e.jsxDEV(qa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:851,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:851,columnNumber:17},void 0)}}},As=l=>b()?!0:n()?Ye(l.role,l.nom_role).label!=="Super Admin":!1,Es=l=>{if(!l)return"Non spécifiée";const Me=Ve.find(Be=>Be.id_entreprise===l);return Me?Me.nom_entreprise:l},Hs=()=>[{label:"Utilisateurs",icon:e.jsxDEV(Lr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:876,columnNumber:38},void 0),enabled:f.canViewAll},{label:"Rôles",icon:e.jsxDEV(kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:877,columnNumber:31},void 0),enabled:f.canManageRoles},{label:"Permissions",icon:e.jsxDEV(qr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:878,columnNumber:37},void 0),enabled:f.canManagePermissions},{label:"Entreprises",icon:e.jsxDEV(un,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:879,columnNumber:37},void 0),enabled:f.canEditAll||f.canViewAll},{label:"Modules",icon:e.jsxDEV(Fa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:880,columnNumber:33},void 0),enabled:f.canManageModules}];return Q?e.jsxDEV(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:889,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:888,columnNumber:7},void 0):!f.canViewAll&&!W()?e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(fe,{severity:"error",children:"Accès non autorisé. Vous devez avoir les permissions appropriées pour accéder à cette page."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:897,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:896,columnNumber:7},void 0):e.jsxDEV(ze,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{size:12,children:e.jsxDEV(Ce,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(r,{display:"flex",alignItems:"center",gap:2,children:[e.jsxDEV(Oe,{children:e.jsxDEV(qr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:912,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:912,columnNumber:17},void 0),e.jsxDEV(r,{children:[e.jsxDEV(s,{component:"h1",variant:"h5",color:"primary",children:"Administration Système"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:914,columnNumber:19},void 0),e.jsxDEV(s,{variant:"subtitle2",color:"text.secondary",children:[f.scope==="GLOBAL"?"Vue globale":`Vue limitée - ${Es((m==null?void 0:m.id_entreprise)||"")}`,W()&&" (Consultation seule)"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:917,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:913,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:911,columnNumber:15},void 0),e.jsxDEV(r,{display:"flex",gap:1,children:[e.jsxDEV(ie,{icon:e.jsxDEV(Oe,{children:e.jsxDEV(ma,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:926,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:926,columnNumber:25},void 0),label:b()?"Super Administrateur":n()?"Administrateur":W()?"Consultant":"Utilisateur",color:b()?"error":n()?"primary":W()?"secondary":"default",variant:"filled"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:925,columnNumber:17},void 0),!f.canEditAll&&e.jsxDEV(ie,{icon:e.jsxDEV(Oe,{children:e.jsxDEV(on,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:933,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:933,columnNumber:27},void 0),label:"Lecture seule",color:"warning",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:932,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:924,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:910,columnNumber:13},void 0),e.jsxDEV(d,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxDEV(d,{size:{xs:12,sm:3},children:e.jsxDEV(ge,{variant:"outlined",children:e.jsxDEV(Ee,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(s,{variant:"h4",color:"primary",children:Y.length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:947,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:["Utilisateurs",f.scope==="ENTREPRISE"?" (Entreprise)":""]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:950,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:946,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:945,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:944,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:3},children:e.jsxDEV(ge,{variant:"outlined",children:e.jsxDEV(Ee,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(s,{variant:"h4",color:"secondary",children:H.length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:959,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Rôles"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:962,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:958,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:957,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:956,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:3},children:e.jsxDEV(ge,{variant:"outlined",children:e.jsxDEV(Ee,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(s,{variant:"h4",color:"info",children:Ve.length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:971,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:974,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:970,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:969,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:968,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:3},children:e.jsxDEV(ge,{variant:"outlined",children:e.jsxDEV(Ee,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(s,{variant:"h4",color:"success",children:Y.filter(l=>Ye(l.role,l.nom_role).label==="Admin").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:983,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:"Administrateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:986,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:982,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:981,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:980,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:943,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:909,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:908,columnNumber:9},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(Ce,{sx:{width:"100%"},children:[e.jsxDEV(Vs,{value:M,onChange:K,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider"},children:Hs().map((l,Me)=>e.jsxDEV(Je,{label:l.label,icon:e.jsxDEV(Oe,{children:l.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1011,columnNumber:25},void 0),iconPosition:"start",disabled:!l.enabled},Me,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1008,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:999,columnNumber:13},void 0),e.jsxDEV(Nr,{value:M,index:0,children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{variant:"h6",children:"Gestion des Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1021,columnNumber:17},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Oe,{children:e.jsxDEV(ua,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1025,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1025,columnNumber:30},void 0),onClick:me,disabled:!f.canManageUsers,children:"Nouvel Utilisateur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1022,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1020,columnNumber:15},void 0),e.jsxDEV(ds,{children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1037,columnNumber:23},void 0),e.jsxDEV(h,{children:"Email"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1038,columnNumber:23},void 0),e.jsxDEV(h,{children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1039,columnNumber:23},void 0),e.jsxDEV(h,{children:"Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1040,columnNumber:23},void 0),e.jsxDEV(h,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1041,columnNumber:23},void 0),e.jsxDEV(h,{children:"Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1042,columnNumber:23},void 0),f.canEditAll&&e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1043,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1036,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1035,columnNumber:19},void 0),e.jsxDEV(ms,{children:Y.map(l=>{const Me=Ye(l.role,l.nom_role),Be=As(l);return e.jsxDEV(Te,{hover:!0,children:[e.jsxDEV(h,{children:l.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1053,columnNumber:27},void 0),e.jsxDEV(h,{children:l.email},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1054,columnNumber:27},void 0),e.jsxDEV(h,{children:l.role},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1055,columnNumber:27},void 0),e.jsxDEV(h,{children:l.organisation},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1056,columnNumber:27},void 0),e.jsxDEV(h,{children:Es(l.id_entreprise)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1057,columnNumber:27},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:Me.label,color:Me.color,icon:Me.icon,size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1059,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1058,columnNumber:27},void 0),f.canEditAll&&e.jsxDEV(h,{children:[e.jsxDEV(as,{title:Be?"Modifier l'utilisateur":"Droits insuffisants",children:e.jsxDEV("span",{children:e.jsxDEV(Ie,{color:"primary",onClick:()=>Ne(l),disabled:!Be,children:e.jsxDEV(Oe,{children:e.jsxDEV(Fr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1075,columnNumber:47},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1075,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1070,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1069,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1068,columnNumber:31},void 0),e.jsxDEV(as,{title:Be&&f.canDeleteAll?"Supprimer l'utilisateur":"Droits insuffisants",children:e.jsxDEV("span",{children:e.jsxDEV(Ie,{color:"error",onClick:()=>{ye(l),v(!0)},disabled:!Be||!f.canDeleteAll,children:e.jsxDEV(Oe,{children:e.jsxDEV(ca,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1089,columnNumber:47},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1089,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1081,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1080,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1079,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1067,columnNumber:29},void 0)]},l.id_acteur,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1052,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1046,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1034,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1033,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1019,columnNumber:13},void 0),e.jsxDEV(Nr,{value:M,index:1,children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{variant:"h6",children:"Gestion des Rôles"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1106,columnNumber:17},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Oe,{children:e.jsxDEV(ua,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1110,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1110,columnNumber:30},void 0),onClick:We,disabled:!f.canManageRoles,children:"Nouveau Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1107,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1105,columnNumber:15},void 0),e.jsxDEV(ds,{children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Nom du Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1122,columnNumber:23},void 0),e.jsxDEV(h,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1123,columnNumber:23},void 0),e.jsxDEV(h,{children:"Niveau d'Accès"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1124,columnNumber:23},void 0),e.jsxDEV(h,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1125,columnNumber:23},void 0),f.canManageRoles&&e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1126,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1121,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1120,columnNumber:19},void 0),e.jsxDEV(ms,{children:H.map(l=>e.jsxDEV(Te,{hover:!0,children:[e.jsxDEV(h,{children:e.jsxDEV(r,{display:"flex",alignItems:"center",gap:1,children:[l.nom_role==="SUPER_ADMINISTRATEUR"&&e.jsxDEV(Oe,{children:e.jsxDEV(ma,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1134,columnNumber:84},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1134,columnNumber:74},void 0),l.nom_role==="ADMINISTRATEUR"&&e.jsxDEV(Oe,{children:e.jsxDEV(qr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1135,columnNumber:78},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1135,columnNumber:68},void 0),l.nom_role==="CONSULTANT"&&e.jsxDEV(Oe,{children:e.jsxDEV(kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1136,columnNumber:74},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1136,columnNumber:64},void 0),l.nom_role==="MANAGER"&&e.jsxDEV(Oe,{children:e.jsxDEV(Lr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1137,columnNumber:71},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1137,columnNumber:61},void 0),l.nom_role==="INTERVENANT"&&e.jsxDEV(Oe,{children:e.jsxDEV(qa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1138,columnNumber:75},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1138,columnNumber:65},void 0),e.jsxDEV(s,{variant:"body2",children:l.nom_role},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1139,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1133,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1132,columnNumber:25},void 0),e.jsxDEV(h,{children:l.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1142,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:l.niveau_acces,color:l.niveau_acces==="GLOBAL"?"primary":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1144,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1143,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(Ss,{badgeContent:l.nombre_utilisateurs||0,color:"primary",children:e.jsxDEV(Oe,{children:e.jsxDEV(kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1152,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1152,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1151,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1150,columnNumber:25},void 0),f.canManageRoles&&e.jsxDEV(h,{children:[e.jsxDEV(Ie,{color:"primary",onClick:()=>ps(l),children:e.jsxDEV(Oe,{children:e.jsxDEV(Fr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1161,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1161,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1157,columnNumber:29},void 0),e.jsxDEV(Ie,{color:"error",onClick:()=>{ye(l),v(!0)},disabled:!f.canDeleteAll||(l.nombre_utilisateurs||0)>0,children:e.jsxDEV(Oe,{children:e.jsxDEV(ca,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1171,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1171,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1163,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1156,columnNumber:27},void 0)]},l.id_role,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1131,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1129,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1119,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1118,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1104,columnNumber:13},void 0),e.jsxDEV(Nr,{value:M,index:2,children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{variant:"h6",children:"Gestion des Permissions par Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1185,columnNumber:17},void 0),ve&&E.length>0&&e.jsxDEV(r,{children:B?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Oe,{children:e.jsxDEV(ln,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1193,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1193,columnNumber:38},void 0),onClick:mr,sx:{mr:1},children:"Sauvegarder"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1190,columnNumber:25},void 0),e.jsxDEV(P,{variant:"outlined",color:"secondary",startIcon:e.jsxDEV(Oe,{children:e.jsxDEV(mn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1202,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1202,columnNumber:38},void 0),onClick:Qs,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1199,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1189,columnNumber:23},void 0):e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Oe,{children:e.jsxDEV(Fr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1212,columnNumber:46},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1212,columnNumber:36},void 0),onClick:lr,disabled:!f.canManagePermissions,children:"Modifier les Permissions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1209,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1187,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1184,columnNumber:15},void 0),e.jsxDEV($e,{fullWidth:!0,sx:{mb:3},children:[e.jsxDEV(Ge,{children:"Sélectionner un rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1224,columnNumber:17},void 0),e.jsxDEV(Qe,{value:ve,onChange:l=>{qe(l.target.value),L(!1),l.target.value&&Fe(l.target.value)},children:H.map(l=>e.jsxDEV(De,{value:l.id_role,children:[l.nom_role," - ",l.description]},l.id_role,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1236,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1225,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1223,columnNumber:15},void 0),ve&&(B?le:E).length>0&&e.jsxDEV(ds,{children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Module"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1248,columnNumber:25},void 0),e.jsxDEV(h,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1249,columnNumber:25},void 0),e.jsxDEV(h,{align:"center",children:"Voir"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1250,columnNumber:25},void 0),e.jsxDEV(h,{align:"center",children:"Éditer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1251,columnNumber:25},void 0),e.jsxDEV(h,{align:"center",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1252,columnNumber:25},void 0),e.jsxDEV(h,{align:"center",children:"Administrer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1253,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1247,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1246,columnNumber:21},void 0),e.jsxDEV(ms,{children:(B?le:E).map(l=>e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:e.jsxDEV(s,{variant:"body2",fontWeight:"medium",children:l.nom_module},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1260,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1259,columnNumber:27},void 0),e.jsxDEV(h,{children:e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:l.module_description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1265,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1264,columnNumber:27},void 0),e.jsxDEV(h,{align:"center",children:B?e.jsxDEV(Rr,{checked:l.peut_voir,onChange:Me=>qs(l.id_module,"peut_voir",Me.target.checked),color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1271,columnNumber:31},void 0):e.jsxDEV(Os,{checked:l.peut_voir,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1277,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1269,columnNumber:27},void 0),e.jsxDEV(h,{align:"center",children:B?e.jsxDEV(Rr,{checked:l.peut_editer,onChange:Me=>qs(l.id_module,"peut_editer",Me.target.checked),color:"primary",disabled:!l.peut_voir},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1282,columnNumber:31},void 0):e.jsxDEV(Os,{checked:l.peut_editer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1289,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1280,columnNumber:27},void 0),e.jsxDEV(h,{align:"center",children:B?e.jsxDEV(Rr,{checked:l.peut_supprimer,onChange:Me=>qs(l.id_module,"peut_supprimer",Me.target.checked),color:"primary",disabled:!l.peut_editer},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1294,columnNumber:31},void 0):e.jsxDEV(Os,{checked:l.peut_supprimer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1301,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1292,columnNumber:27},void 0),e.jsxDEV(h,{align:"center",children:B?e.jsxDEV(Rr,{checked:l.peut_administrer,onChange:Me=>qs(l.id_module,"peut_administrer",Me.target.checked),color:"primary",disabled:!l.peut_editer},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1306,columnNumber:31},void 0):e.jsxDEV(Os,{checked:l.peut_administrer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1313,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1304,columnNumber:27},void 0)]},l.id_role_permission||l.id_module,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1258,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1256,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1245,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1244,columnNumber:17},void 0),ve&&E.length===0&&e.jsxDEV(fe,{severity:"info",sx:{mt:2},children:"Aucune permission définie pour ce rôle."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1324,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1183,columnNumber:13},void 0),e.jsxDEV(Nr,{value:M,index:3,children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{variant:"h6",children:"Gestion des Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1333,columnNumber:17},void 0),e.jsxDEV(P,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Oe,{children:e.jsxDEV(ua,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1337,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1337,columnNumber:30},void 0),onClick:ws,disabled:!f.canEditAll,children:"Nouvelle Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1334,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1332,columnNumber:15},void 0),!f.canEditAll&&f.canViewAll&&e.jsxDEV(fe,{severity:"info",sx:{mb:2},children:"Vous consultez les entreprises en mode lecture seule."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1346,columnNumber:17},void 0),e.jsxDEV(ds,{children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1355,columnNumber:23},void 0),e.jsxDEV(h,{children:"Secteur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1356,columnNumber:23},void 0),e.jsxDEV(h,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1357,columnNumber:23},void 0),e.jsxDEV(h,{children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1358,columnNumber:23},void 0),e.jsxDEV(h,{children:"Date Création"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1359,columnNumber:23},void 0),f.canEditAll&&e.jsxDEV(h,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1360,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1354,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1353,columnNumber:19},void 0),e.jsxDEV(ms,{children:Ve.map(l=>e.jsxDEV(Te,{hover:!0,children:[e.jsxDEV(h,{children:e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"body2",fontWeight:"medium",children:l.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1368,columnNumber:29},void 0),l.description&&e.jsxDEV(s,{variant:"caption",color:"text.secondary",children:l.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1372,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1367,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1366,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:l.secteur||"Non défini",size:"small",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1379,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1378,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(Ss,{badgeContent:l.nombre_utilisateurs||0,color:"primary",children:e.jsxDEV(Oe,{children:e.jsxDEV(Lr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1387,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1387,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1386,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1385,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(Ss,{badgeContent:l.nombre_applications||0,color:"secondary",children:e.jsxDEV(Oe,{children:e.jsxDEV(Fa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1392,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1392,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1391,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1390,columnNumber:25},void 0),e.jsxDEV(h,{children:l.date_creation?new Date(l.date_creation).toLocaleDateString():"Non définie"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1395,columnNumber:25},void 0),f.canEditAll&&e.jsxDEV(h,{children:[e.jsxDEV(Ie,{color:"primary",onClick:()=>Rs(l),children:e.jsxDEV(Oe,{children:e.jsxDEV(Fr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1407,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1407,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1403,columnNumber:29},void 0),e.jsxDEV(Ie,{color:"error",onClick:()=>{ye(l),v(!0)},disabled:!f.canDeleteAll||(l.nombre_utilisateurs||0)>0,children:e.jsxDEV(Oe,{children:e.jsxDEV(ca,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1417,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1417,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1409,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1402,columnNumber:27},void 0)]},l.id_entreprise,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1365,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1363,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1352,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1351,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1331,columnNumber:13},void 0),e.jsxDEV(Nr,{value:M,index:4,children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,children:"Configuration des Modules"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1430,columnNumber:15},void 0),e.jsxDEV(ds,{children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:"Module"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1436,columnNumber:23},void 0),e.jsxDEV(h,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1437,columnNumber:23},void 0),e.jsxDEV(h,{children:"Route"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1438,columnNumber:23},void 0),e.jsxDEV(h,{children:"Ordre"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1439,columnNumber:23},void 0),e.jsxDEV(h,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1440,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1435,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1434,columnNumber:19},void 0),e.jsxDEV(ms,{children:j.map(l=>e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:l.nom_module},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1446,columnNumber:25},void 0),e.jsxDEV(h,{children:l.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1447,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV("code",{children:l.route_base},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1449,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1448,columnNumber:25},void 0),e.jsxDEV(h,{children:l.ordre_affichage},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1451,columnNumber:25},void 0),e.jsxDEV(h,{children:e.jsxDEV(ie,{label:l.actif?"Actif":"Inactif",color:l.actif?"success":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1453,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1452,columnNumber:25},void 0)]},l.id_module,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1445,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1443,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1433,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1432,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1429,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:998,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:997,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:906,columnNumber:7},void 0),e.jsxDEV(cs,{open:u,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(bs,{children:te==="create"?"Créer un nouvel utilisateur":"Modifier l'utilisateur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1472,columnNumber:9},void 0),e.jsxDEV(fs,{children:e.jsxDEV(r,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{required:!0,fullWidth:!0,label:"Nom et prénom",value:F.nom_prenom,onChange:l=>oe({...F,nom_prenom:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1479,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1478,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{required:!0,fullWidth:!0,type:"email",label:"Email",value:F.email,onChange:l=>oe({...F,email:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1489,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1488,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{fullWidth:!0,label:"Fonction",value:F.fonction,onChange:l=>oe({...F,fonction:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1500,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1499,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{fullWidth:!0,label:"Organisation/Département",placeholder:"ex: IT, RH, Finance...",value:F.organisation,onChange:l=>oe({...F,organisation:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1509,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1508,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1520,columnNumber:19},void 0),e.jsxDEV(Qe,{value:F.id_role,onChange:l=>oe({...F,id_role:l.target.value}),children:H.filter(l=>f.scope==="ENTREPRISE"?l.niveau_acces==="ENTREPRISE"||l.nom_role==="INTERVENANT":!0).map(l=>e.jsxDEV(De,{value:l.id_role,children:l.nom_role},l.id_role,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1532,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1521,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1519,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1518,columnNumber:15},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV($e,{fullWidth:!0,required:!0,children:[e.jsxDEV(Ge,{id:"entreprise-label",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1542,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"entreprise-label",value:F.id_entreprise,label:"Entreprise",onChange:l=>oe({...F,id_entreprise:l.target.value}),disabled:f.scope==="ENTREPRISE",children:Ve.map(l=>e.jsxDEV(De,{value:l.id_entreprise,children:l.nom_entreprise},l.id_entreprise,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1551,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1543,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1541,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1540,columnNumber:15},void 0),te==="create"&&e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{fullWidth:!0,type:"password",label:"Mot de passe",value:F.mot_de_passe,onChange:l=>oe({...F,mot_de_passe:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1561,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1560,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1477,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1476,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1475,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:()=>y(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1574,columnNumber:11},void 0),e.jsxDEV(P,{onClick:ce,variant:"contained",color:"primary",children:te==="create"?"Créer":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1575,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1573,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1471,columnNumber:7},void 0),e.jsxDEV(cs,{open:D,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxDEV(bs,{children:te==="create"?"Créer un nouveau rôle":"Modifier le rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1583,columnNumber:9},void 0),e.jsxDEV(fs,{children:e.jsxDEV(r,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{required:!0,fullWidth:!0,label:"Nom du rôle",value:ae.nom_role,onChange:l=>Ae({...ae,nom_role:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1590,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1589,columnNumber:15},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:ae.description,onChange:l=>Ae({...ae,description:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1599,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1598,columnNumber:15},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Niveau d'accès"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1610,columnNumber:19},void 0),e.jsxDEV(Qe,{value:ae.niveau_acces,onChange:l=>Ae({...ae,niveau_acces:l.target.value}),children:[e.jsxDEV(De,{value:"ENTREPRISE",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1615,columnNumber:21},void 0),e.jsxDEV(De,{value:"GLOBAL",children:"Global"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1616,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1611,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1609,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1608,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1588,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1587,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1586,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:()=>c(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1624,columnNumber:11},void 0),e.jsxDEV(P,{onClick:G,variant:"contained",color:"primary",children:te==="create"?"Créer":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1625,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1623,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1582,columnNumber:7},void 0),e.jsxDEV(cs,{open:N,onClose:()=>g(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(bs,{children:te==="create"?"Créer une nouvelle entreprise":"Modifier l'entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1633,columnNumber:9},void 0),e.jsxDEV(fs,{children:e.jsxDEV(r,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{required:!0,fullWidth:!0,label:"Nom de l'entreprise",value:Ue.nom_entreprise,onChange:l=>ke({...Ue,nom_entreprise:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1640,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1639,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{required:!0,fullWidth:!0,label:"Secteur",value:Ue.secteur,onChange:l=>ke({...Ue,secteur:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1649,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1648,columnNumber:15},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:Ue.description,onChange:l=>ke({...Ue,description:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1658,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1657,columnNumber:15},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{fullWidth:!0,label:"Adresse",value:Ue.adresse,onChange:l=>ke({...Ue,adresse:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1668,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1667,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{fullWidth:!0,label:"Téléphone",value:Ue.telephone,onChange:l=>ke({...Ue,telephone:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1676,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1675,columnNumber:15},void 0),e.jsxDEV(d,{size:{xs:12,sm:6},children:e.jsxDEV(ne,{fullWidth:!0,type:"email",label:"Email",value:Ue.email,onChange:l=>ke({...Ue,email:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1684,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1683,columnNumber:15},void 0),e.jsxDEV(d,{size:12,children:e.jsxDEV(ne,{fullWidth:!0,label:"Site web",placeholder:"https://",value:Ue.site_web,onChange:l=>ke({...Ue,site_web:l.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1693,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1692,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1638,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1637,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1636,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:()=>g(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1705,columnNumber:11},void 0),e.jsxDEV(P,{onClick:_e,variant:"contained",color:"primary",children:te==="create"?"Créer":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1706,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1704,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1632,columnNumber:7},void 0),e.jsxDEV(cs,{open:o,onClose:()=>v(!1),children:[e.jsxDEV(bs,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1714,columnNumber:9},void 0),e.jsxDEV(fs,{children:e.jsxDEV(s,{children:"Êtes-vous sûr de vouloir supprimer cet élément ? Cette action est irréversible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1716,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1715,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:()=>v(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1721,columnNumber:11},void 0),e.jsxDEV(P,{onClick:Re,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1722,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1720,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1713,columnNumber:7},void 0),e.jsxDEV(tr,{open:$.open,autoHideDuration:6e3,onClose:()=>_({...$,open:!1}),children:e.jsxDEV(fe,{onClose:()=>_({...$,open:!1}),severity:$.severity,sx:{width:"100%"},children:$.message},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1734,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1729,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:905,columnNumber:5},void 0)},Yn=()=>{const[i,t]=a.useState([]),[n,b]=a.useState(null),[m,A]=a.useState(!1),[p,W]=a.useState(0),[S,O]=a.useState(0),[f,w]=a.useState({open:!1,message:"",severity:"success"}),[Q,q]=a.useState([]),[M,T]=a.useState(null),[$,_]=a.useState(!1),[Y,R]=a.useState({}),[H,z]=a.useState(!1),[j,X]=a.useState(""),[V,pe]=a.useState(null),[E,Z]=a.useState({}),[Ve,Se]=a.useState(!1),[u,y]=a.useState(null),D=[{value:"TrendingUp",label:"Tendance",component:pr},{value:"Security",label:"Sécurité",component:jr},{value:"Computer",label:"Ordinateur",component:Ur},{value:"Storage",label:"Stockage",component:ea},{value:"Code",label:"Code",component:Zr},{value:"Lightbulb",label:"Innovation",component:sr},{value:"Assessment",label:"Évaluation",component:ys},{value:"Functions",label:"Fonctions",component:la}];a.useEffect(()=>{p===0?o():p===1&&Ae()},[p]),a.useEffect(()=>{n!=null&&n.thematiques&&n.thematiques.forEach(I=>B(I.id_thematique))},[n]);const c=(I,C="success")=>{w({open:!0,message:I,severity:C})},N=()=>{Z({}),pe(null),X(""),z(!1)},g=I=>I>=4?"#4CAF50":I>=3?"#FF9800":I>=2?"#F44336":"#9E9E9E",o=async()=>{try{A(!0);const I=await U.get("/maturity-model/fonctions"),C=I.data||I;t(C),C.length>0&&!n&&v(C[0].id_fonction)}catch(I){console.error("Erreur lors du chargement des fonctions:",I),c("Erreur lors du chargement des fonctions","error")}finally{A(!1)}},v=async I=>{try{A(!0);const C=await U.get(`/maturity-model/fonctions/${I}`);b(C.data||C)}catch(C){console.error("Erreur lors du chargement des détails:",C),c("Erreur lors du chargement des détails","error")}finally{A(!1)}},B=async I=>{try{const C=await U.get(`/questions/thematique/${I}`);R(ue=>({...ue,[I]:C}))}catch{c("Erreur chargement des questions","error")}},L=(I,C=null)=>{X(I),pe(C),Z(C||{}),z(!0)},le=I=>{Z({id_thematique:I.id_thematique,texte:"",ponderation:1,aide_reponse:""}),X("question"),pe(null),z(!0)},re=async()=>{var I,C;try{let ue;switch(j){case"fonction":V?(ue=await U.put(`/maturity-model/fonctions/${V.id_fonction}`,E),c("Fonction mise à jour avec succès")):(ue=await U.post("/maturity-model/fonctions",E),c("Fonction créée avec succès")),await o();break;case"thematique":V?(ue=await U.put(`/maturity-model/thematiques/${V.id_thematique}`,E),c("Thématique mise à jour avec succès")):(ue=await U.post(`/maturity-model/fonctions/${n==null?void 0:n.id_fonction}/thematiques`,E),c("Thématique créée avec succès")),n&&await v(n.id_fonction);break;case"niveau-global":V?(ue=await U.put(`/maturity-model/niveaux-globaux/${V.id_niveau}`,E),c("Niveau global mis à jour avec succès")):(ue=await U.post(`/maturity-model/fonctions/${n==null?void 0:n.id_fonction}/niveaux-globaux`,E),c("Niveau global créé avec succès")),n&&await v(n.id_fonction);break;case"niveau-thematique":const{id_thematique:ee}=E;V?(ue=await U.put(`/maturity-model/niveaux-thematiques/${V.id_niveau}`,E),c("Niveau thématique mis à jour avec succès")):(ue=await U.post(`/maturity-model/thematiques/${ee}/niveaux`,{...E,id_fonction:n==null?void 0:n.id_fonction}),c("Niveau thématique créé avec succès")),n&&await v(n.id_fonction);break;case"question":if(!E.texte||E.texte.trim()===""){c("Le texte est obligatoire","warning");return}V?(await U.put(`/questions/${V.id_question}`,E),c("Question modifiée")):(await U.post("/questions",E),c("Question ajoutée")),await B(E.id_thematique),N();return;default:c("Type de dialogue non reconnu","error");return}N()}catch(ue){console.error("Erreur lors de la sauvegarde:",ue),c(((C=(I=ue.response)==null?void 0:I.data)==null?void 0:C.message)||"Erreur lors de la sauvegarde","error")}},F=async()=>{var I,C;if(u)try{switch(u.type){case"fonction":await U.delete(`/maturity-model/fonctions/${u.id}`),c("Fonction supprimée avec succès"),await o(),(n==null?void 0:n.id_fonction)===u.id&&b(null);break;case"thematique":await U.delete(`/maturity-model/thematiques/${u.id}`),c("Thématique supprimée avec succès"),n&&await v(n.id_fonction);break;case"niveau-global":await U.delete(`/maturity-model/niveaux-globaux/${u.id}`),c("Niveau global supprimé avec succès"),n&&await v(n.id_fonction);break;case"niveau-thematique":await U.delete(`/maturity-model/niveaux-thematiques/${u.id}`),c("Niveau thématique supprimé avec succès"),n&&await v(n.id_fonction);break}Se(!1),y(null)}catch(ue){console.error("Erreur lors de la suppression:",ue),c(((C=(I=ue.response)==null?void 0:I.data)==null?void 0:C.message)||"Erreur lors de la suppression","error")}},oe=async()=>{try{const I=await U.get("/maturity-model/export"),C=JSON.stringify(I.data||I,null,2),ue="data:application/json;charset=utf-8,"+encodeURIComponent(C),ee=`maturity-model-${new Date().toISOString().split("T")[0]}.json`,k=document.createElement("a");k.setAttribute("href",ue),k.setAttribute("download",ee),k.click(),c("Modèle exporté avec succès")}catch(I){console.error("Erreur lors de l'export:",I),c("Erreur lors de l'export","error")}},ae=(I,C,ue)=>{y({type:I,id:C,name:ue}),Se(!0)},Ae=async()=>{try{_(!0);const I=await U.get("/maturity-global-functions");q(I)}catch{c("Erreur lors du chargement des fonctions globales","error")}finally{_(!1)}},Ue=async I=>{try{const C=await U.get(`/maturity-global-functions/${I}`);T(C)}catch{c("Erreur lors du chargement des détails","error")}},ke=async()=>{var I,C;try{switch(j){case"fonction-globale":V?(await U.put(`/maturity-global-functions/${V.id_fonction}`,E),c("Fonction globale mise à jour avec succès")):(await U.post("/maturity-global-functions",E),c("Fonction globale créée avec succès")),await Ae();break;case"niveau-maturite-globale":V?(await U.put(`/maturity-global-functions/niveaux/${V.id_niveau}`,E),c("Niveau mis à jour avec succès")):(await U.post(`/maturity-global-functions/${M==null?void 0:M.id_fonction}/niveaux`,E),c("Niveau créé avec succès")),M&&await Ue(M.id_fonction);break;case"recommandation-globale":V?(await U.put(`/maturity-global-functions/recommandations/${V.id_recommandation}`,E),c("Recommandation mise à jour avec succès")):(await U.post(`/maturity-global-functions/${M==null?void 0:M.id_fonction}/recommandations`,E),c("Recommandation créée avec succès")),M&&await Ue(M.id_fonction);break}N()}catch(ue){c(((C=(I=ue.response)==null?void 0:I.data)==null?void 0:C.message)||"Erreur lors de la sauvegarde","error")}},te=async(I,C)=>{var ue,ee;try{switch(I){case"fonction-globale":await U.delete(`/maturity-global-functions/${C}`),await Ae();break;case"niveau":await U.delete(`/maturity-global-functions/niveaux/${C}`),M&&await Ue(M.id_fonction);break;case"recommandation":await U.delete(`/maturity-global-functions/recommandations/${C}`),M&&await Ue(M.id_fonction);break}c("Élément supprimé avec succès"),Se(!1),y(null)}catch(k){c(((ee=(ue=k.response)==null?void 0:ue.data)==null?void 0:ee.message)||"Erreur lors de la suppression","error")}},he=()=>{var I,C,ue,ee,k;return e.jsxDEV(ze,{maxWidth:"xl",sx:{mt:4,mb:4},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(r,{display:"flex",alignItems:"center",gap:2,children:[e.jsxDEV(oa,{color:"primary",fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:599,columnNumber:15},void 0),e.jsxDEV(s,{component:"h2",variant:"h5",color:"primary",children:"Modèle Standard de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:600,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:598,columnNumber:13},void 0),e.jsxDEV(r,{children:[e.jsxDEV(P,{variant:"outlined",startIcon:e.jsxDEV(Yi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:607,columnNumber:28},void 0),onClick:oe,sx:{mr:2},children:"Exporter"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:605,columnNumber:15},void 0),e.jsxDEV(P,{variant:"contained",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:615,columnNumber:28},void 0),onClick:()=>L("fonction"),children:"Nouvelle Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:613,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:604,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:597,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:596,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:4,children:e.jsxDEV(Ce,{sx:{p:2,height:"calc(100vh - 250px)",overflow:"auto"},children:[e.jsxDEV(s,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:"Fonctions d'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:627,columnNumber:13},void 0),m&&e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:631,columnNumber:25},void 0),e.jsxDEV(hs,{children:i.map(J=>e.jsxDEV(ge,{sx:{mb:2,cursor:"pointer",border:(n==null?void 0:n.id_fonction)===J.id_fonction?"2px solid #0B4E87":"1px solid #e0e0e0",transition:"all 0.3s","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},onClick:()=>v(J.id_fonction),children:e.jsxDEV(Ee,{children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(s,{variant:"h6",color:"primary",children:J.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:651,columnNumber:23},void 0),e.jsxDEV(r,{children:[e.jsxDEV(Ie,{size:"small",onClick:Fe=>{Fe.stopPropagation(),L("fonction",J)},children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:662,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:655,columnNumber:25},void 0),e.jsxDEV(Ie,{size:"small",color:"error",onClick:Fe=>{Fe.stopPropagation(),ae("fonction",J.id_fonction,J.nom)},children:e.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:672,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:664,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:654,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:650,columnNumber:21},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",sx:{mt:1,mb:2},children:J.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:677,columnNumber:21},void 0),e.jsxDEV(r,{display:"flex",gap:1,children:[e.jsxDEV(ie,{size:"small",icon:e.jsxDEV(oa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:684,columnNumber:31},void 0),label:`${J.nb_thematiques||0} thématiques`,color:"primary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:682,columnNumber:23},void 0),e.jsxDEV(ie,{size:"small",icon:e.jsxDEV(pr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:691,columnNumber:31},void 0),label:`${J.nb_niveaux_globaux||0} niveaux`,color:"secondary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:689,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:681,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:649,columnNumber:19},void 0)},J.id_fonction,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:635,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:633,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:626,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:625,columnNumber:9},void 0),e.jsxDEV(d,{item:!0,xs:12,md:8,children:n?e.jsxDEV(Ce,{sx:{p:2,height:"calc(100vh - 250px)",overflow:"auto"},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"h5",gutterBottom:!0,children:n.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:710,columnNumber:19},void 0),e.jsxDEV(s,{variant:"body2",color:"textSecondary",children:n.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:713,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:709,columnNumber:17},void 0),e.jsxDEV(r,{children:[e.jsxDEV(ie,{label:n.actif?"Actif":"Inactif",color:n.actif?"success":"default",sx:{mr:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:718,columnNumber:19},void 0),e.jsxDEV(as,{title:"Modifier",children:e.jsxDEV(Ie,{onClick:()=>L("fonction",n),children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:727,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:724,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:723,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:717,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:708,columnNumber:15},void 0),e.jsxDEV(Vs,{value:S,onChange:(J,Fe)=>O(Fe),sx:{mb:3},children:[e.jsxDEV(Je,{label:"Thématiques"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:734,columnNumber:17},void 0),e.jsxDEV(Je,{label:"Niveaux Globaux"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:735,columnNumber:17},void 0),e.jsxDEV(Je,{label:"Niveaux Thématiques"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:736,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:733,columnNumber:15},void 0),S===0&&e.jsxDEV(r,{children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(s,{variant:"h6",children:["Thématiques (",((I=n.thematiques)==null?void 0:I.length)||0,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:743,columnNumber:21},void 0),e.jsxDEV(P,{variant:"contained",size:"small",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:747,columnNumber:34},void 0),onClick:()=>L("thematique"),children:"Ajouter une thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:744,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:742,columnNumber:19},void 0),(C=n.thematiques)==null?void 0:C.map(J=>{var Fe,K,me;return e.jsxDEV(vr,{sx:{mb:1},children:[e.jsxDEV(Er,{expandIcon:e.jsxDEV(Ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:756,columnNumber:53},void 0),children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"subtitle1",sx:{fontWeight:500},children:J.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:759,columnNumber:29},void 0),e.jsxDEV(s,{variant:"caption",color:"textSecondary",children:[J.nombre_questions," questions • ",((Fe=J.niveauxThematiques)==null?void 0:Fe.length)||0," niveaux définis"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:762,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:758,columnNumber:27},void 0),e.jsxDEV(r,{onClick:Ne=>Ne.stopPropagation(),children:[e.jsxDEV(Ie,{size:"small",onClick:()=>L("thematique",J),children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:771,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:767,columnNumber:29},void 0),e.jsxDEV(Ie,{size:"small",color:"error",onClick:()=>ae("thematique",J.id_thematique,J.nom),children:e.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:778,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:773,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:766,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:757,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:756,columnNumber:23},void 0),e.jsxDEV(Mr,{children:[e.jsxDEV(s,{variant:"body2",color:"textSecondary",sx:{mb:2},children:J.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:784,columnNumber:25},void 0),e.jsxDEV(P,{variant:"outlined",size:"small",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:790,columnNumber:38},void 0),onClick:()=>le(J),disabled:(((K=Y[J.id_thematique])==null?void 0:K.length)||0)>=J.nombre_questions,children:"Ajouter une question"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:787,columnNumber:25},void 0),e.jsxDEV(r,{sx:{mt:2},children:[e.jsxDEV(s,{variant:"subtitle2",children:"Questions :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:797,columnNumber:27},void 0),(me=Y[J.id_thematique])==null?void 0:me.map((Ne,We)=>e.jsxDEV(Ce,{sx:{p:1,mb:1},children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(s,{children:[We+1,". ",Ne.texte]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:801,columnNumber:33},void 0),e.jsxDEV(r,{children:e.jsxDEV(Ie,{size:"small",onClick:()=>L("question",Ne),children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:804,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:803,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:802,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:800,columnNumber:31},void 0)},Ne.id_question,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:799,columnNumber:29},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:796,columnNumber:25},void 0),J.niveauxThematiques&&J.niveauxThematiques.length>0&&e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"subtitle2",gutterBottom:!0,children:"Niveaux définis:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:814,columnNumber:29},void 0),e.jsxDEV(r,{display:"flex",flexWrap:"wrap",gap:1,children:J.niveauxThematiques.map(Ne=>e.jsxDEV(ie,{label:`${Ne.score_min}-${Ne.score_max}: ${Ne.niveau}`,size:"small",sx:{bgcolor:g((Ne.score_min+Ne.score_max)/2),color:"white"}},Ne.id_niveau,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:819,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:817,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:813,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:783,columnNumber:23},void 0)]},J.id_thematique,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:755,columnNumber:21},void 0)}),(!n.thematiques||n.thematiques.length===0)&&e.jsxDEV(r,{textAlign:"center",py:4,children:e.jsxDEV(s,{variant:"body1",color:"textSecondary",children:"Aucune thématique définie pour cette fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:838,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:837,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:741,columnNumber:17},void 0),S===1&&e.jsxDEV(r,{children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(s,{variant:"h6",children:["Niveaux Globaux (",((ue=n.niveauxGlobaux)==null?void 0:ue.length)||0,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:850,columnNumber:21},void 0),e.jsxDEV(P,{variant:"contained",size:"small",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:854,columnNumber:34},void 0),onClick:()=>L("niveau-global"),children:"Ajouter un niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:851,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:849,columnNumber:19},void 0),e.jsxDEV(ds,{children:e.jsxDEV(os,{children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{width:"120",children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:865,columnNumber:27},void 0),e.jsxDEV(h,{width:"200",children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:866,columnNumber:27},void 0),e.jsxDEV(h,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:867,columnNumber:27},void 0),e.jsxDEV(h,{width:"100",children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:868,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:864,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:863,columnNumber:23},void 0),e.jsxDEV(ms,{children:(ee=n.niveauxGlobaux)==null?void 0:ee.map(J=>e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:e.jsxDEV(r,{display:"flex",alignItems:"center",gap:1,children:[e.jsxDEV(r,{sx:{width:16,height:16,borderRadius:"50%",bgcolor:g((J.score_min+J.score_max)/2)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:876,columnNumber:33},void 0),J.score_min," - ",J.score_max]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:875,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:874,columnNumber:29},void 0),e.jsxDEV(h,{children:e.jsxDEV(s,{variant:"subtitle2",children:J.niveau},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:888,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:887,columnNumber:29},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"body2",children:J.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:894,columnNumber:33},void 0),J.recommandations&&e.jsxDEV(s,{variant:"caption",color:"textSecondary",sx:{mt:1,display:"block"},children:[e.jsxDEV("strong",{children:"Recommandations:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:899,columnNumber:37},void 0)," ",J.recommandations]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:898,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:893,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:892,columnNumber:29},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{children:[e.jsxDEV(Ie,{size:"small",onClick:()=>L("niveau-global",J),children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:910,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:906,columnNumber:33},void 0),e.jsxDEV(Ie,{size:"small",color:"error",onClick:()=>ae("niveau-global",J.id_niveau,J.niveau),children:e.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:917,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:912,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:905,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:904,columnNumber:29},void 0)]},J.id_niveau,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:873,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:871,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:862,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:861,columnNumber:19},void 0),(!n.niveauxGlobaux||n.niveauxGlobaux.length===0)&&e.jsxDEV(r,{textAlign:"center",py:4,children:e.jsxDEV(s,{variant:"body1",color:"textSecondary",children:"Aucun niveau global défini pour cette fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:929,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:928,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:848,columnNumber:17},void 0),S===2&&e.jsxDEV(r,{children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(s,{variant:"h6",children:"Niveaux Thématiques"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:941,columnNumber:21},void 0),e.jsxDEV(P,{variant:"contained",size:"small",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:945,columnNumber:34},void 0),onClick:()=>L("niveau-thematique"),disabled:!n.thematiques||n.thematiques.length===0,children:"Ajouter un niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:942,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:940,columnNumber:19},void 0),(k=n.thematiques)==null?void 0:k.map(J=>e.jsxDEV(r,{mb:3,children:[e.jsxDEV(s,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:500,color:"#0B4E87"},children:J.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:955,columnNumber:23},void 0),J.niveauxThematiques&&J.niveauxThematiques.length>0?e.jsxDEV(ds,{sx:{mb:2},children:e.jsxDEV(os,{size:"small",children:[e.jsxDEV(ls,{children:e.jsxDEV(Te,{children:[e.jsxDEV(h,{width:"100",children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:964,columnNumber:33},void 0),e.jsxDEV(h,{width:"200",children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:965,columnNumber:33},void 0),e.jsxDEV(h,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:966,columnNumber:33},void 0),e.jsxDEV(h,{width:"80",children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:967,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:963,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:962,columnNumber:29},void 0),e.jsxDEV(ms,{children:J.niveauxThematiques.map(Fe=>e.jsxDEV(Te,{children:[e.jsxDEV(h,{children:e.jsxDEV(r,{display:"flex",alignItems:"center",gap:1,children:[e.jsxDEV(r,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:g((Fe.score_min+Fe.score_max)/2)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:975,columnNumber:39},void 0),Fe.score_min," - ",Fe.score_max]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:974,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:973,columnNumber:35},void 0),e.jsxDEV(h,{children:Fe.niveau},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:986,columnNumber:35},void 0),e.jsxDEV(h,{children:e.jsxDEV(s,{variant:"body2",sx:{fontSize:"0.875rem"},children:Fe.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:988,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:987,columnNumber:35},void 0),e.jsxDEV(h,{children:e.jsxDEV(r,{children:[e.jsxDEV(Ie,{size:"small",onClick:()=>L("niveau-thematique",Fe),children:e.jsxDEV(Cs,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:998,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:994,columnNumber:39},void 0),e.jsxDEV(Ie,{size:"small",color:"error",onClick:()=>ae("niveau-thematique",Fe.id_niveau,Fe.niveau),children:e.jsxDEV(Ds,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1005,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1e3,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:993,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:992,columnNumber:35},void 0)]},Fe.id_niveau,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:972,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:970,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:961,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:960,columnNumber:25},void 0):e.jsxDEV(s,{variant:"body2",color:"textSecondary",sx:{ml:2,mb:2},children:"Aucun niveau défini pour cette thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1015,columnNumber:25},void 0),e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1020,columnNumber:23},void 0)]},J.id_thematique,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:954,columnNumber:21},void 0)),(!n.thematiques||n.thematiques.length===0)&&e.jsxDEV(r,{textAlign:"center",py:4,children:e.jsxDEV(s,{variant:"body1",color:"textSecondary",children:"Aucune thématique définie. Créez d'abord des thématiques pour définir leurs niveaux."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1026,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1025,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:939,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:707,columnNumber:13},void 0):e.jsxDEV(Ce,{sx:{p:6,textAlign:"center",height:"calc(100vh - 250px)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxDEV(r,{children:[e.jsxDEV(ys,{sx:{fontSize:80,color:"#e0e0e0",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1037,columnNumber:17},void 0),e.jsxDEV(s,{variant:"h6",color:"textSecondary",children:"Sélectionnez une fonction pour voir les détails"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1038,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1036,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1035,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:705,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:594,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:593,columnNumber:5},void 0)},de=()=>e.jsxDEV(r,{children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(s,{variant:"h5",component:"h2",children:[e.jsxDEV(la,{sx:{mr:1,verticalAlign:"middle"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1057,columnNumber:11},void 0),"Fonctions de Maturité Globale"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1056,columnNumber:9},void 0),e.jsxDEV(P,{variant:"contained",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1062,columnNumber:22},void 0),onClick:()=>{X("fonction-globale"),pe(null),Z({nom:"",description:"",code_fonction:"",poids:1,ordre_affichage:Q.length+1,couleur:"#2196F3",icone:"TrendingUp"}),z(!0)},children:"Nouvelle Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1060,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1055,columnNumber:7},void 0),$?e.jsxDEV(r,{display:"flex",justifyContent:"center",p:4,children:e.jsxDEV(Pe,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1084,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1083,columnNumber:9},void 0):e.jsxDEV(d,{container:!0,spacing:3,children:Q.map(I=>{var C;return e.jsxDEV(d,{item:!0,xs:12,md:6,lg:4,children:e.jsxDEV(ge,{sx:{cursor:"pointer","&:hover":{boxShadow:6},borderLeft:`4px solid ${I.couleur}`},onClick:()=>Ue(I.id_fonction),children:e.jsxDEV(Ee,{children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:2,children:[gs.createElement(((C=D.find(ue=>ue.value===I.icone))==null?void 0:C.component)||pr,{sx:{color:I.couleur,mr:1}}),e.jsxDEV(s,{variant:"h6",component:"h3",flexGrow:1,children:I.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1104,columnNumber:21},void 0),e.jsxDEV(Ie,{size:"small",onClick:ue=>{ue.stopPropagation(),X("fonction-globale"),pe(I),Z({nom:I.nom,description:I.description,code_fonction:I.code_fonction,poids:I.poids,ordre_affichage:I.ordre_affichage,couleur:I.couleur,icone:I.icone}),z(!0)},children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1125,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1107,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1099,columnNumber:19},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",mb:2,children:I.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1129,columnNumber:19},void 0),e.jsxDEV(r,{display:"flex",gap:1,flexWrap:"wrap",children:[e.jsxDEV(ie,{size:"small",label:`${I.nb_questions||0} questions`,icon:e.jsxDEV(Ki,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1137,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1134,columnNumber:21},void 0),e.jsxDEV(ie,{size:"small",label:`${I.nb_niveaux||0} niveaux`,icon:e.jsxDEV(Ra,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1142,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1139,columnNumber:21},void 0),e.jsxDEV(ie,{size:"small",label:`${I.nb_recommandations||0} recommandations`,icon:e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1147,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1144,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1133,columnNumber:19},void 0),e.jsxDEV(r,{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(ie,{size:"small",label:`Poids: ${I.poids}`,variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1152,columnNumber:21},void 0),e.jsxDEV(ie,{size:"small",label:I.actif?"Actif":"Inactif",color:I.actif?"success":"default"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1157,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1151,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1098,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1090,columnNumber:15},void 0)},I.id_fonction,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1089,columnNumber:13},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1087,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1054,columnNumber:5},void 0),ye=()=>{var I,C,ue;return M?e.jsxDEV(r,{children:[e.jsxDEV(r,{display:"flex",alignItems:"center",mb:3,children:[e.jsxDEV(P,{variant:"outlined",onClick:()=>T(null),sx:{mr:2},children:"← Retour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1178,columnNumber:11},void 0),e.jsxDEV(r,{display:"flex",alignItems:"center",flexGrow:1,children:[gs.createElement(((I=D.find(ee=>ee.value===M.icone))==null?void 0:I.component)||pr,{sx:{color:M.couleur,mr:1}}),e.jsxDEV(s,{variant:"h5",children:M.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1190,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1185,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1177,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{item:!0,xs:12,md:6,children:e.jsxDEV(Ce,{sx:{p:3},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{variant:"h6",children:[e.jsxDEV(Ra,{sx:{mr:1,verticalAlign:"middle"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1202,columnNumber:19},void 0),"Niveaux de Maturité"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1201,columnNumber:17},void 0),e.jsxDEV(P,{size:"small",variant:"outlined",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1208,columnNumber:30},void 0),onClick:()=>{var ee;X("niveau-maturite-globale"),pe(null),Z({nom_niveau:"",description:"",score_min:0,score_max:1,ordre_niveau:(((ee=M.niveaux)==null?void 0:ee.length)||0)+1,couleur:"#4CAF50"}),z(!0)},children:"Ajouter"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1205,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1200,columnNumber:15},void 0),(C=M.niveaux)==null?void 0:C.map(ee=>e.jsxDEV(ge,{sx:{mb:2,borderLeft:`4px solid ${ee.couleur}`},children:e.jsxDEV(Ee,{sx:{py:2},children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(r,{children:[e.jsxDEV(s,{variant:"subtitle1",fontWeight:"bold",children:ee.nom_niveau},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1232,columnNumber:25},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:["Score: ",ee.score_min," - ",ee.score_max]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1235,columnNumber:25},void 0),e.jsxDEV(s,{variant:"body2",children:ee.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1238,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1231,columnNumber:23},void 0),e.jsxDEV(r,{children:[e.jsxDEV(Ie,{size:"small",onClick:()=>{X("niveau-maturite-globale"),pe(ee),Z({nom_niveau:ee.nom_niveau,description:ee.description,score_min:ee.score_min,score_max:ee.score_max,ordre_niveau:ee.ordre_niveau,couleur:ee.couleur}),z(!0)},children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1259,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1243,columnNumber:25},void 0),e.jsxDEV(Ie,{size:"small",onClick:()=>{y({type:"niveau",id:ee.id_niveau,name:ee.nom_niveau}),Se(!0)},children:e.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1272,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1261,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1242,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1230,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1229,columnNumber:19},void 0)},ee.id_niveau,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1228,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1199,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1198,columnNumber:11},void 0),e.jsxDEV(d,{item:!0,xs:12,md:6,children:e.jsxDEV(Ce,{sx:{p:3},children:[e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(s,{variant:"h6",children:[e.jsxDEV(sr,{sx:{mr:1,verticalAlign:"middle"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1287,columnNumber:19},void 0),"Recommandations"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1286,columnNumber:17},void 0),e.jsxDEV(P,{size:"small",variant:"outlined",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1293,columnNumber:30},void 0),onClick:()=>{X("recommandation-globale"),pe(null),Z({titre:"",description:"",actions_recommandees:[],priorite:"MOYENNE",type_recommandation:"MOYEN_TERME",ordre_affichage:0}),z(!0)},children:"Ajouter"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1290,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1285,columnNumber:15},void 0),(ue=M.recommandations)==null?void 0:ue.map(ee=>e.jsxDEV(ge,{sx:{mb:2},children:e.jsxDEV(Ee,{sx:{py:2},children:e.jsxDEV(r,{display:"flex",justifyContent:"space-between",alignItems:"start",children:[e.jsxDEV(r,{flexGrow:1,children:[e.jsxDEV(s,{variant:"subtitle1",fontWeight:"bold",children:ee.titre},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1317,columnNumber:25},void 0),e.jsxDEV(r,{display:"flex",gap:1,my:1,children:[e.jsxDEV(ie,{size:"small",label:ee.priorite,color:ee.priorite==="CRITIQUE"?"error":ee.priorite==="HAUTE"?"warning":ee.priorite==="MOYENNE"?"primary":"default"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1321,columnNumber:27},void 0),e.jsxDEV(ie,{size:"small",label:ee.type_recommandation.replace("_"," "),variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1330,columnNumber:27},void 0),ee.nom_niveau&&e.jsxDEV(ie,{size:"small",label:ee.nom_niveau,variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1336,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1320,columnNumber:25},void 0),e.jsxDEV(s,{variant:"body2",color:"text.secondary",children:ee.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1343,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1316,columnNumber:23},void 0),e.jsxDEV(r,{children:[e.jsxDEV(Ie,{size:"small",onClick:()=>{X("recommandation-globale"),pe(ee),Z({titre:ee.titre,description:ee.description,actions_recommandees:ee.actions_recommandees||[],priorite:ee.priorite,type_recommandation:ee.type_recommandation,id_niveau:ee.id_niveau,score_min:ee.score_min,score_max:ee.score_max,ordre_affichage:ee.ordre_affichage}),z(!0)},children:e.jsxDEV(Cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1367,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1348,columnNumber:25},void 0),e.jsxDEV(Ie,{size:"small",onClick:()=>{y({type:"recommandation",id:ee.id_recommandation,name:ee.titre}),Se(!0)},children:e.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1380,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1369,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1347,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1315,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1314,columnNumber:19},void 0)},ee.id_recommandation,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1313,columnNumber:17},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1284,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1283,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1196,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1176,columnNumber:7},void 0):null},ve=()=>{var I;switch(j){case"fonction":return e.jsxDEV(r,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[e.jsxDEV(ne,{fullWidth:!0,label:"Nom",value:E.nom||"",onChange:C=>Z({...E,nom:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1403,columnNumber:13},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:E.description||"",onChange:C=>Z({...E,description:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1410,columnNumber:13},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Ordre",type:"number",value:E.ordre||999,onChange:C=>Z({...E,ordre:parseInt(C.target.value)||999})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1419,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1402,columnNumber:11},void 0);case"thematique":return e.jsxDEV(r,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[e.jsxDEV(ne,{fullWidth:!0,label:"Nom",value:E.nom||"",onChange:C=>Z({...E,nom:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1432,columnNumber:13},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:E.description||"",onChange:C=>Z({...E,description:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1439,columnNumber:13},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Ordre",type:"number",value:E.ordre||999,onChange:C=>Z({...E,ordre:parseInt(C.target.value)||999})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1448,columnNumber:13},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Nombre de questions",type:"number",value:E.nombre_questions||0,onChange:C=>Z({...E,nombre_questions:parseInt(C.target.value)||0})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1455,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1431,columnNumber:11},void 0);case"niveau-global":case"niveau-thematique":return e.jsxDEV(r,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[e.jsxDEV(r,{children:[e.jsxDEV(s,{gutterBottom:!0,children:"Plage de scores"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1470,columnNumber:15},void 0),e.jsxDEV(r,{sx:{display:"flex",gap:2},children:[e.jsxDEV(ne,{label:"Score min",type:"number",inputProps:{min:0,max:5,step:.1},value:E.score_min??"",onChange:C=>Z({...E,score_min:parseFloat(C.target.value)||0}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1472,columnNumber:17},void 0),e.jsxDEV(ne,{label:"Score max",type:"number",inputProps:{min:0,max:5,step:.1},value:E.score_max??"",onChange:C=>Z({...E,score_max:parseFloat(C.target.value)||0}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1480,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1471,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1469,columnNumber:13},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Niveau",value:E.niveau||"",onChange:C=>Z({...E,niveau:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1491,columnNumber:13},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:E.description||"",onChange:C=>Z({...E,description:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1499,columnNumber:13},void 0),e.jsxDEV(ne,{fullWidth:!0,label:"Recommandations",multiline:!0,rows:3,value:E.recommandations||"",onChange:C=>Z({...E,recommandations:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1509,columnNumber:13},void 0),j==="niveau-global"&&e.jsxDEV(ne,{fullWidth:!0,label:"Ordre",type:"number",value:E.ordre||999,onChange:C=>Z({...E,ordre:parseInt(C.target.value)||999})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1519,columnNumber:15},void 0),j==="niveau-thematique"&&!V&&e.jsxDEV($e,{fullWidth:!0,required:!0,children:[e.jsxDEV(Ge,{children:"Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1530,columnNumber:17},void 0),e.jsxDEV(Qe,{value:E.id_thematique||"",onChange:C=>Z({...E,id_thematique:C.target.value}),label:"Thématique",children:(I=n==null?void 0:n.thematiques)==null?void 0:I.map(C=>e.jsxDEV(De,{value:C.id_thematique,children:C.nom},C.id_thematique,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1537,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1531,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1529,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1468,columnNumber:11},void 0);case"question":return e.jsxDEV(r,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[e.jsxDEV(ne,{label:"Texte de la question",fullWidth:!0,multiline:!0,rows:3,required:!0,value:E.texte||"",onChange:C=>Z({...E,texte:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1550,columnNumber:13},void 0),e.jsxDEV(ne,{label:"Pondération",type:"number",fullWidth:!0,value:E.ponderation||1,onChange:C=>Z({...E,ponderation:parseInt(C.target.value)||1})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1559,columnNumber:13},void 0),e.jsxDEV(ne,{label:"Aide à la réponse",fullWidth:!0,multiline:!0,rows:2,value:E.aide_reponse||"",onChange:C=>Z({...E,aide_reponse:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1566,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1549,columnNumber:11},void 0);case"fonction-globale":return e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ne,{fullWidth:!0,label:"Nom de la fonction",value:E.nom||"",onChange:C=>Z({...E,nom:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1581,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1580,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ne,{fullWidth:!0,label:"Code fonction",value:E.code_fonction||"",onChange:C=>Z({...E,code_fonction:C.target.value}),required:!0,disabled:!!V,helperText:"Code unique pour identifier la fonction (non modifiable après création)"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1590,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1589,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ne,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:E.description||"",onChange:C=>Z({...E,description:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1601,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1600,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:6,children:e.jsxDEV(ne,{fullWidth:!0,type:"number",label:"Poids",value:E.poids||1,onChange:C=>Z({...E,poids:parseFloat(C.target.value)}),inputProps:{step:.1,min:.1,max:5}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1611,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1610,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:6,children:e.jsxDEV(ne,{fullWidth:!0,type:"number",label:"Ordre d'affichage",value:E.ordre_affichage||1,onChange:C=>Z({...E,ordre_affichage:parseInt(C.target.value)}),inputProps:{min:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1621,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1620,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:6,children:e.jsxDEV(ne,{fullWidth:!0,type:"color",label:"Couleur",value:E.couleur||"#2196F3",onChange:C=>Z({...E,couleur:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1631,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1630,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:6,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Icône"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1641,columnNumber:17},void 0),e.jsxDEV(Qe,{value:E.icone||"TrendingUp",onChange:C=>Z({...E,icone:C.target.value}),label:"Icône",children:D.map(C=>e.jsxDEV(De,{value:C.value,children:e.jsxDEV(r,{display:"flex",alignItems:"center",children:[gs.createElement(C.component,{sx:{mr:1}}),C.label]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1649,columnNumber:23},void 0)},C.value,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1648,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1642,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1640,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1639,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1579,columnNumber:11},void 0);case"niveau-maturite-globale":return e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ne,{fullWidth:!0,label:"Nom du niveau",value:E.nom_niveau||"",onChange:C=>Z({...E,nom_niveau:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1665,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1664,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ne,{fullWidth:!0,multiline:!0,rows:2,label:"Description",value:E.description||"",onChange:C=>Z({...E,description:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1674,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1673,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:4,children:e.jsxDEV(ne,{fullWidth:!0,type:"number",label:"Score minimum",value:E.score_min||0,onChange:C=>Z({...E,score_min:parseFloat(C.target.value)}),inputProps:{step:.01,min:0,max:5},required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1684,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1683,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:4,children:e.jsxDEV(ne,{fullWidth:!0,type:"number",label:"Score maximum",value:E.score_max||1,onChange:C=>Z({...E,score_max:parseFloat(C.target.value)}),inputProps:{step:.01,min:0,max:5},required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1695,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1694,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:4,children:e.jsxDEV(ne,{fullWidth:!0,type:"number",label:"Ordre",value:E.ordre_niveau||1,onChange:C=>Z({...E,ordre_niveau:parseInt(C.target.value)}),inputProps:{min:1},required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1706,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1705,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ne,{fullWidth:!0,type:"color",label:"Couleur",value:E.couleur||"#4CAF50",onChange:C=>Z({...E,couleur:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1717,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1716,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1663,columnNumber:11},void 0);case"recommandation-globale":return e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ne,{fullWidth:!0,label:"Titre",value:E.titre||"",onChange:C=>Z({...E,titre:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1732,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1731,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV(ne,{fullWidth:!0,multiline:!0,rows:4,label:"Description",value:E.description||"",onChange:C=>Z({...E,description:C.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1741,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1740,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:6,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Priorité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1753,columnNumber:17},void 0),e.jsxDEV(Qe,{value:E.priorite||"MOYENNE",onChange:C=>Z({...E,priorite:C.target.value}),label:"Priorité",children:[e.jsxDEV(De,{value:"FAIBLE",children:"Faible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1759,columnNumber:19},void 0),e.jsxDEV(De,{value:"MOYENNE",children:"Moyenne"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1760,columnNumber:19},void 0),e.jsxDEV(De,{value:"HAUTE",children:"Haute"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1761,columnNumber:19},void 0),e.jsxDEV(De,{value:"CRITIQUE",children:"Critique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1762,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1754,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1752,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1751,columnNumber:13},void 0),e.jsxDEV(d,{item:!0,xs:6,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Type"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1768,columnNumber:17},void 0),e.jsxDEV(Qe,{value:E.type_recommandation||"MOYEN_TERME",onChange:C=>Z({...E,type_recommandation:C.target.value}),label:"Type",children:[e.jsxDEV(De,{value:"IMMEDIATE",children:"Immédiate"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1774,columnNumber:19},void 0),e.jsxDEV(De,{value:"COURT_TERME",children:"Court terme"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1775,columnNumber:19},void 0),e.jsxDEV(De,{value:"MOYEN_TERME",children:"Moyen terme"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1776,columnNumber:19},void 0),e.jsxDEV(De,{value:"LONG_TERME",children:"Long terme"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1777,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1769,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1767,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1766,columnNumber:13},void 0),(M==null?void 0:M.niveaux)&&e.jsxDEV(d,{item:!0,xs:12,children:e.jsxDEV($e,{fullWidth:!0,children:[e.jsxDEV(Ge,{children:"Niveau associé (optionnel)"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1784,columnNumber:19},void 0),e.jsxDEV(Qe,{value:E.id_niveau||"",onChange:C=>Z({...E,id_niveau:C.target.value||null}),label:"Niveau associé (optionnel)",children:[e.jsxDEV(De,{value:"",children:"Aucun niveau spécifique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1790,columnNumber:21},void 0),M.niveaux.map(C=>e.jsxDEV(De,{value:C.id_niveau,children:[C.nom_niveau," (",C.score_min," - ",C.score_max,")"]},C.id_niveau,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1792,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1785,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1783,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1782,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1730,columnNumber:11},void 0);default:return e.jsxDEV(s,{children:["Contenu du dialogue non défini pour le type: ",j]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1804,columnNumber:16},void 0)}},qe=()=>{const I=V?"Modifier":"Créer";switch(j){case"fonction":return`${I} une fonction`;case"thematique":return`${I} une thématique`;case"niveau-global":return`${I} un niveau global`;case"niveau-thematique":return`${I} un niveau thématique`;case"question":return`${I} une question`;case"fonction-globale":return`${I} une fonction globale`;case"niveau-maturite-globale":return`${I} un niveau de maturité`;case"recommandation-globale":return`${I} une recommandation`;default:return"Dialogue"}};return e.jsxDEV(ze,{maxWidth:"xl",sx:{py:4},children:[e.jsxDEV(s,{variant:"h4",component:"h1",gutterBottom:!0,children:[e.jsxDEV(Ka,{sx:{mr:2,verticalAlign:"middle"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1830,columnNumber:9},void 0),"Administration du Modèle de Maturité"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1829,columnNumber:7},void 0),e.jsxDEV(Ce,{sx:{mt:3},children:[e.jsxDEV(Vs,{value:p,onChange:(I,C)=>W(C),variant:"scrollable",scrollButtons:"auto",children:[e.jsxDEV(Je,{label:"Modèle Standard",icon:e.jsxDEV(oa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1841,columnNumber:46},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1841,columnNumber:11},void 0),e.jsxDEV(Je,{label:"Fonctions Globales",icon:e.jsxDEV(la,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1842,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1842,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1835,columnNumber:9},void 0),e.jsxDEV(r,{sx:{p:0},children:[p===0&&he(),p===1&&e.jsxDEV(r,{sx:{p:3},children:M?ye():de()},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1849,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1845,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1834,columnNumber:7},void 0),e.jsxDEV(cs,{open:H,onClose:N,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(bs,{children:qe()},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1861,columnNumber:9},void 0),e.jsxDEV(fs,{children:ve()},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1862,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:N,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1866,columnNumber:11},void 0),e.jsxDEV(P,{onClick:j.includes("globale")||j.includes("niveau-maturite")||j.includes("recommandation")?ke:re,variant:"contained",startIcon:e.jsxDEV(sa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1876,columnNumber:24},void 0),disabled:!E.nom&&(j==="fonction"||j==="thematique"||j==="fonction-globale")||!E.niveau&&(j==="niveau-global"||j==="niveau-thematique")||!E.nom_niveau&&j==="niveau-maturite-globale"||!E.titre&&j==="recommandation-globale"||!E.texte&&j==="question",children:"Enregistrer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1867,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1865,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1860,columnNumber:7},void 0),e.jsxDEV(cs,{open:Ve,onClose:()=>Se(!1),children:[e.jsxDEV(bs,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1895,columnNumber:9},void 0),e.jsxDEV(fs,{children:[e.jsxDEV(s,{children:['Êtes-vous sûr de vouloir supprimer "',u==null?void 0:u.name,'" ?']},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1897,columnNumber:11},void 0),e.jsxDEV(s,{variant:"caption",color:"error",sx:{mt:1,display:"block"},children:"Cette action est irréversible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1900,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1896,columnNumber:9},void 0),e.jsxDEV(Ns,{children:[e.jsxDEV(P,{onClick:()=>Se(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1905,columnNumber:11},void 0),e.jsxDEV(P,{onClick:()=>{u&&(u.type==="fonction-globale"||u.type==="niveau"||u.type==="recommandation"?te(u.type,u.id):F())},color:"error",variant:"contained",startIcon:e.jsxDEV(Ds,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1922,columnNumber:24},void 0),children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1908,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1904,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1891,columnNumber:7},void 0),e.jsxDEV(tr,{open:f.open,autoHideDuration:6e3,onClose:()=>w({...f,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsxDEV(fe,{onClose:()=>w({...f,open:!1}),severity:f.severity,sx:{width:"100%"},children:f.message},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1936,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1930,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1828,columnNumber:5},void 0)},hr=({children:i,module:t,action:n="voir",adminOnly:b=!1,fallbackUrl:m="/auth/login",showDetailedError:A=!0})=>{const{isAuthenticated:p,isLoading:W,currentUser:S,hasPermission:O,canAccessRoute:f,isAdmin:w,isSuperAdmin:Q}=or(),q=dr(),[M,T]=a.useState(!0),[$,_]=a.useState(!1),[Y,R]=a.useState(null),H=a.useCallback(()=>w(),[w]),z=a.useCallback(()=>Q(),[Q]);return a.useEffect(()=>{let j=!0;return W||(async()=>{console.log("🔍 ProtectedRoute - Vérification permissions pour:",q.pathname);try{if(!j)return;if(T(!0),R(null),!p){console.log("❌ Utilisateur non authentifié"),j&&(R({type:"auth",message:"Vous devez être connecté pour accéder à cette page.",suggestion:"Veuillez vous connecter avec vos identifiants."}),_(!1),T(!1));return}if(b&&!H()&&!z()){console.log("❌ Accès administrateur requis mais utilisateur non admin"),j&&(R({type:"admin",message:"Accès réservé aux administrateurs.",suggestion:"Contactez votre administrateur système pour obtenir les droits nécessaires."}),_(!1),T(!1));return}if(t&&O){const V=O(t,n);if(console.log(`🔍 Permission ${t}:${n} = ${V?"✅":"❌"}`),!V){j&&(R({type:"permission",message:`Vous n'avez pas les permissions nécessaires pour ${n==="voir"?"consulter":n} ce module.`,suggestion:`Module requis: ${t} (${n}). Contactez votre administrateur pour obtenir ces permissions.`}),_(!1),T(!1));return}}if(f){const V=f(q.pathname);if(console.log(`🚦 Accès route ${q.pathname} = ${V?"✅":"❌"}`),!V){j&&(R({type:"permission",message:"Vous n'avez pas accès à cette page.",suggestion:"Vérifiez que vous avez les permissions nécessaires ou contactez votre administrateur."}),_(!1),T(!1));return}}console.log("✅ Accès autorisé"),j&&(_(!0),T(!1))}catch(V){console.error("❌ Erreur lors de la vérification des permissions:",V),j&&(R({type:"permission",message:"Erreur lors de la vérification des permissions.",suggestion:"Veuillez rafraîchir la page ou contacter le support technique."}),_(!1),T(!1))}})(),()=>{j=!1}},[p,W,t,n,b,q.pathname,S==null?void 0:S.id_acteur,S==null?void 0:S.nom_role]),W||M&&p?e.jsxDEV(r,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"80vh",gap:2,children:[e.jsxDEV(Pe,{size:48},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:195,columnNumber:9},void 0),e.jsxDEV(s,{variant:"body1",color:"text.secondary",children:"Vérification des permissions..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:196,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:187,columnNumber:7},void 0):p?!$&&Y?A?e.jsxDEV(ze,{maxWidth:"md",sx:{mt:8,mb:4},children:e.jsxDEV(Ce,{elevation:3,sx:{p:4,textAlign:"center"},children:e.jsxDEV(r,{display:"flex",flexDirection:"column",alignItems:"center",gap:3,children:[Y.type==="auth"&&e.jsxDEV(Cr,{color:"error",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:221,columnNumber:15},void 0),Y.type==="admin"&&e.jsxDEV(Ca,{color:"warning",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:224,columnNumber:15},void 0),Y.type==="permission"&&e.jsxDEV(Xr,{color:"error",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:227,columnNumber:15},void 0),e.jsxDEV(fe,{severity:Y.type==="admin"?"warning":"error",sx:{width:"100%",textAlign:"left"},children:[e.jsxDEV(Ji,{children:[Y.type==="auth"&&"Authentification requise",Y.type==="admin"&&"Accès administrateur requis",Y.type==="permission"&&"Permissions insuffisantes"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:235,columnNumber:15},void 0),e.jsxDEV(s,{variant:"body1",gutterBottom:!0,children:Y.message},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:240,columnNumber:15},void 0),Y.suggestion&&e.jsxDEV(s,{variant:"body2",sx:{mt:1,opacity:.8},children:["💡 ",Y.suggestion]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:244,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:231,columnNumber:13},void 0),e.jsxDEV(r,{display:"flex",gap:2,mt:2,children:[e.jsxDEV(P,{variant:"contained",onClick:()=>window.history.back(),color:"primary",children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:252,columnNumber:15},void 0),e.jsxDEV(P,{variant:"outlined",onClick:()=>window.location.href="/",color:"primary",children:"Accueil"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:259,columnNumber:15},void 0),Y.type==="auth"&&e.jsxDEV(P,{variant:"contained",onClick:()=>window.location.href=m,color:"secondary",children:"Se connecter"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:267,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:218,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:217,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:216,columnNumber:7},void 0):e.jsxDEV(zs,{to:"/",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:212,columnNumber:14},void 0):(console.log("✅ Affichage du contenu protégé"),e.jsxDEV(e.Fragment,{children:i},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:284,columnNumber:10},void 0)):(console.log("🔄 Redirection vers page de connexion"),e.jsxDEV(zs,{to:m,state:{from:q},replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:206,columnNumber:12},void 0))};typeof window<"u"&&(window.onerror=(i,t,n,b,m)=>(Ze.error("Erreur globale non gérée",{message:i,source:t,lineno:n,colno:b,stack:m==null?void 0:m.stack}),!1),window.addEventListener("unhandledrejection",i=>{var t,n;Ze.error("Promesse rejetée non gérée",{reason:((t=i.reason)==null?void 0:t.message)||String(i.reason),stack:(n=i.reason)==null?void 0:n.stack})}),window.initialLoadTime=performance.now());const Kn=Xi({palette:{primary:{main:"#0B4E87"},secondary:{main:"#09C4B8"}},typography:{fontFamily:'"Ubuntu", sans-serif'},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}}}},Zi),rs=({children:i,module:t,action:n="voir",adminOnly:b=!1})=>e.jsxDEV(hr,{module:t,action:n,adminOnly:b,showDetailedError:!0,children:i},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:103,columnNumber:5},void 0),Jn=()=>(a.useEffect(()=>{Ze.info("Application V2 initialisée",{version:"1.0.0",environment:"production",features:["enterprise_registration","maturity_evaluation","enterprise_analysis","unified_administration","enhanced_permissions"]});const i=performance.now()-(window.initialLoadTime||0);return i>0&&Ze.logPerformance("app-v2-initial-load",i),()=>{Ze.flush().catch(console.error)}},[]),e.jsxDEV(en,{theme:Kn,children:e.jsxDEV(ei,{dateAdapter:si,adapterLocale:ai,children:e.jsxDEV(xn,{children:e.jsxDEV(rn,{children:[e.jsxDEV(Le,{path:"/auth",element:e.jsxDEV(Cn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:144,columnNumber:42},void 0),children:[e.jsxDEV(Le,{path:"login",element:e.jsxDEV(hn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:145,columnNumber:44},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:145,columnNumber:15},void 0),e.jsxDEV(Le,{path:"enterprise-registration",element:e.jsxDEV(Pa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:147,columnNumber:62},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:147,columnNumber:15},void 0),e.jsxDEV(Le,{path:"enterprise-registration/step/:step",element:e.jsxDEV(Pa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:148,columnNumber:73},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:148,columnNumber:15},void 0),e.jsxDEV(Le,{path:"evaluation-invite/:token",element:e.jsxDEV(yn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:149,columnNumber:63},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:149,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:144,columnNumber:13},void 0),e.jsxDEV(Le,{path:"/maturity-evaluation/:enterpriseId",element:e.jsxDEV(hr,{fallbackUrl:"/auth/login",children:e.jsxDEV(Hn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:157,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:156,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:153,columnNumber:13},void 0),e.jsxDEV(Le,{path:"/maturity-analysis/:evaluationId",element:e.jsxDEV(hr,{fallbackUrl:"/auth/login",children:e.jsxDEV(Ba,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:166,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:165,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:162,columnNumber:13},void 0),e.jsxDEV(Le,{path:"/",element:e.jsxDEV(hr,{fallbackUrl:"/auth/login",children:e.jsxDEV(pn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:176,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:175,columnNumber:17},void 0),children:[e.jsxDEV(Le,{index:!0,element:e.jsxDEV(rs,{module:"DASHBOARD",children:e.jsxDEV(vn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:185,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:184,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:181,columnNumber:15},void 0),e.jsxDEV(Le,{path:"analyses-interpretations",element:e.jsxDEV(rs,{module:"ANALYSES",children:e.jsxDEV(Pn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:197,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:196,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV(Le,{path:"analyses-interpretations-functions",element:e.jsxDEV(rs,{module:"ANALYSES",children:e.jsxDEV(Wn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:207,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:206,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:203,columnNumber:15},void 0),e.jsxDEV(Le,{path:"analyses-interpretations-entreprises",element:e.jsxDEV(rs,{module:"ANALYSES",children:e.jsxDEV(Ba,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:217,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:216,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:213,columnNumber:15},void 0),e.jsxDEV(Le,{path:"calculate-score",element:e.jsxDEV(rs,{module:"ANALYSES",action:"editer",children:e.jsxDEV(_n,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:227,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:226,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:223,columnNumber:15},void 0),e.jsxDEV(Le,{path:"questionnaires",element:e.jsxDEV(rs,{module:"QUESTIONNAIRES",children:e.jsxDEV(En,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:237,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:236,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:233,columnNumber:15},void 0),e.jsxDEV(Le,{path:"questionnaires/:id",element:e.jsxDEV(rs,{module:"QUESTIONNAIRES",children:e.jsxDEV(Mn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:246,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:245,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:242,columnNumber:15},void 0),e.jsxDEV(Le,{path:"questionnaires-admin",element:e.jsxDEV(rs,{module:"QUESTIONNAIRES",action:"administrer",adminOnly:!0,children:e.jsxDEV(Un,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:255,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:254,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:251,columnNumber:15},void 0),e.jsxDEV(Le,{path:"forms",element:e.jsxDEV(rs,{module:"FORMULAIRES",children:e.jsxDEV(In,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:265,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:264,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:261,columnNumber:15},void 0),e.jsxDEV(Le,{path:"forms/new",element:e.jsxDEV(rs,{module:"FORMULAIRES",action:"editer",children:e.jsxDEV(wn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:274,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:273,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:270,columnNumber:15},void 0),e.jsxDEV(Le,{path:"forms/:id",element:e.jsxDEV(rs,{module:"FORMULAIRES",children:e.jsxDEV(Sn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:283,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:282,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:279,columnNumber:15},void 0),e.jsxDEV(Le,{path:"applications",element:e.jsxDEV(rs,{module:"APPLICATIONS",children:e.jsxDEV(Vn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:293,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:292,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:289,columnNumber:15},void 0),e.jsxDEV(Le,{path:"organisations",element:e.jsxDEV(rs,{module:"ENTREPRISES",children:e.jsxDEV(An,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:303,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:302,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:299,columnNumber:15},void 0),e.jsxDEV(Le,{path:"administration",element:e.jsxDEV(rs,{module:"ADMINISTRATION",adminOnly:!0,children:e.jsxDEV(xr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:315,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:314,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:311,columnNumber:15},void 0),e.jsxDEV(Le,{path:"maturity-model-admin",element:e.jsxDEV(rs,{module:"ADMINISTRATION",action:"administrer",adminOnly:!0,children:e.jsxDEV(Yn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:325,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:324,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:321,columnNumber:15},void 0),e.jsxDEV(Le,{path:"administration/users",element:e.jsxDEV(rs,{module:"ADMINISTRATION",action:"administrer",children:e.jsxDEV(xr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:335,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:334,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:331,columnNumber:15},void 0),e.jsxDEV(Le,{path:"administration/enterprises",element:e.jsxDEV(rs,{module:"ADMINISTRATION",action:"administrer",children:e.jsxDEV(xr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:344,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:343,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:340,columnNumber:15},void 0),e.jsxDEV(Le,{path:"administration/roles",element:e.jsxDEV(rs,{module:"ADMINISTRATION",action:"administrer",adminOnly:!0,children:e.jsxDEV(xr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:353,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:352,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:349,columnNumber:15},void 0),e.jsxDEV(Le,{path:"administration/permissions",element:e.jsxDEV(rs,{module:"ADMINISTRATION",action:"administrer",adminOnly:!0,children:e.jsxDEV(xr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:362,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:361,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:358,columnNumber:15},void 0),e.jsxDEV(Le,{path:"analyses-functions",element:e.jsxDEV(zs,{to:"/analyses-interpretations-functions",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:370,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:370,columnNumber:15},void 0),e.jsxDEV(Le,{path:"analyses",element:e.jsxDEV(zs,{to:"/analyses-interpretations",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:371,columnNumber:47},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:371,columnNumber:15},void 0),e.jsxDEV(Le,{path:"admin",element:e.jsxDEV(zs,{to:"/administration",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:372,columnNumber:44},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:372,columnNumber:15},void 0),e.jsxDEV(Le,{path:"welcome",element:e.jsxDEV(zs,{to:"/analyses-interpretations-entreprises",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:375,columnNumber:46},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:375,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:172,columnNumber:13},void 0),e.jsxDEV(Le,{path:"/",element:e.jsxDEV(hr,{fallbackUrl:"/auth/login",children:e.jsxDEV(zs,{to:"/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:385,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:384,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:381,columnNumber:13},void 0),e.jsxDEV(Le,{path:"/unauthorized",element:e.jsxDEV("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",flexDirection:"column",gap:"20px"},children:[e.jsxDEV("h1",{children:"🚫 Accès non autorisé"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:400,columnNumber:17},void 0),e.jsxDEV("p",{children:"Vous n'avez pas les permissions nécessaires pour accéder à cette page."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:401,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>window.history.back(),children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:402,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:392,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:391,columnNumber:13},void 0),e.jsxDEV(Le,{path:"/maintenance",element:e.jsxDEV("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",flexDirection:"column",gap:"20px"},children:[e.jsxDEV("h1",{children:"🔧 Maintenance en cours"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:417,columnNumber:17},void 0),e.jsxDEV("p",{children:"La plateforme est temporairement indisponible pour maintenance."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:418,columnNumber:17},void 0),e.jsxDEV("p",{children:"Veuillez réessayer dans quelques minutes."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:419,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:409,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:408,columnNumber:13},void 0),e.jsxDEV(Le,{path:"*",element:e.jsxDEV("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",flexDirection:"column",gap:"20px"},children:[e.jsxDEV("h1",{children:"📄 Page non trouvée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:433,columnNumber:17},void 0),e.jsxDEV("p",{children:"La page que vous recherchez n'existe pas."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:434,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>window.location.href="/",style:{marginRight:"10px"},children:"Accueil"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:436,columnNumber:19},void 0),e.jsxDEV("button",{onClick:()=>window.history.back(),children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:439,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:435,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:425,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:424,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:142,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:141,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:140,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:139,columnNumber:5},void 0)),Xn=({message:i,type:t,duration:n=3e3,onClose:b})=>{const[m,A]=a.useState(!0);if(a.useEffect(()=>{const S=setTimeout(()=>{A(!1),b&&b()},n);return()=>clearTimeout(S)},[n,b]),!m)return null;const p={success:"bg-success-500",error:"bg-danger-500",info:"bg-primary-500",warning:"bg-warning-500"}[t],W={success:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:40,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:39,columnNumber:7},void 0),error:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:45,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:44,columnNumber:7},void 0),info:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:50,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:49,columnNumber:7},void 0),warning:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:55,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:54,columnNumber:7},void 0)};return e.jsxDEV("div",{className:"fixed bottom-4 right-4 z-50 flex items-center p-4 mb-4 rounded-lg shadow-lg text-white animate-slideIn-right min-w-64 max-w-md",children:[e.jsxDEV("div",{className:`flex items-center justify-center rounded-full p-2 ${p}`,children:W[t]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:62,columnNumber:7},void 0),e.jsxDEV("div",{className:"ml-3 text-sm font-medium",children:i},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:65,columnNumber:7},void 0),e.jsxDEV("button",{onClick:()=>{A(!1),b&&b()},className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex h-8 w-8 text-white hover:bg-white hover:bg-opacity-20",children:[e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:77,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:76,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:68,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:61,columnNumber:5},void 0)},Zn=a.createContext(void 0),li=({children:i})=>{const[t,n]=a.useState([]),b=(A,p)=>{const W=Math.random().toString(36).substring(2,9);n(S=>[...S,{id:W,message:A,type:p}])},m=A=>{n(p=>p.filter(W=>W.id!==A))};return e.jsxDEV(Zn.Provider,{value:{toasts:t,addToast:b,removeToast:m},children:[i,e.jsxDEV("div",{className:"toast-container",children:t.map(A=>e.jsxDEV(Xn,{message:A.message,type:A.type,onClose:()=>m(A.id)},A.id,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:50,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:48,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:46,columnNumber:5},void 0)},et=()=>{const i=document.getElementById("splash-screen");i&&(i.style.opacity="0",setTimeout(()=>{i.style.display="none"},500))},st=()=>e.jsxDEV(fi,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxDEV(li,{children:e.jsxDEV(Jn,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/main.tsx",lineNumber:32,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/main.tsx",lineNumber:31,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/main.tsx",lineNumber:25,columnNumber:3},void 0);ci.createRoot(document.getElementById("root")).render(e.jsxDEV(gs.StrictMode,{children:e.jsxDEV(li,{children:e.jsxDEV(st,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/main.tsx",lineNumber:40,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/main.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/main.tsx",lineNumber:38,columnNumber:3},void 0));setTimeout(et,1e3);
//# sourceMappingURL=index-BnbW21iI.js.map
