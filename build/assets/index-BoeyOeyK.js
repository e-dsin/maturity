var ia=Object.defineProperty;var na=(s,n,r)=>n in s?ia(s,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[n]=r;var Is=(s,n,r)=>na(s,typeof n!="symbol"?n+"":n,r);import{r as a,c as e,b as Us}from"./react-CW6gyLGC.js";import{a as ta}from"./react-dom-VufzJFnG.js";import{L as zr,u as da,B as oa}from"./react-router-dom-BrOVRVko.js";import{u as la,a as ma,B as t,C as ua,A as ca,T as ar,I as xe,M as ba,b as i,c as xs,d as Es,L as fa,D as Br,e as Na,f as ze,g as ps,P as dr,h as ve,i as xa,j as Ls,k as pa,l as Wr,Q as br,S as or,m as Ca,n as fr,o as js,p as lr,q as Vr,r as Cs,E as ha,s as Vs,t as ya,v as _e,w as we,x as re,y as he,z as oe,F as Qr,G as Ss,H as G,J as d,K as pe,N as Ce,O as ir,R as Ks,U as ga,V as Gr,W as Nr,X as Ge,Y as Ve,Z as Se,_ as qe,$ as Ne,a0 as hs,a1 as Ae,a2 as Re,a3 as Le,a4 as ce,a5 as o,a6 as Te,a7 as Ye,a8 as ke,a9 as Ie,aa as as,ab as He,ac as Js,ad as Xs,ae as Zs,af as va,ag as Ma,ah as ns,ai as Da,aj as Ke,ak as Je,al as Xe,am as qs,an as Ze,ao as Rs,ap as xr,aq as Ea,ar as Hr,as as Yr,at as Ua,au as pr,av as ja,aw as Ar,ax as Va,ay as mr,az as ks,aA as Aa,aB as rs,aC as Kr,aD as Cr,aE as hr,aF as yr,aG as _a,aH as Ia,aI as Sa,aJ as _r,aK as qa,aL as Jr,aM as wa,aN as Fa,aO as nr,aP as ws,aQ as Ra,aR as La,aS as Ta,aT as Pa,aU as ka,aV as Os,aW as Ir,aX as Sr,aY as Oa,aZ as $a,a_ as za,a$ as Ba,b0 as Wa,b1 as Qa,b2 as Ga,b3 as Ha}from"./@mui-CcVpdC8U.js";import{a4 as Xr}from"./date-fns-0_aLd2RI.js";import{a as Ya}from"./axios-xsH4HHeE.js";import{b as Oe,a as er,O as Zr,g as Ts,h as Ns,i as Ka,j as ge}from"./react-router-DlF-2oIe.js";import{R as us,B as ur,C as Gs,X as Hs,Y as Ys,T as Fs,L as cs,a as cr,b as Ws,P as Ja,c as Xa,d as gr,e as vr,f as Mr,g as Dr,h as Er,i as Za,j as ei}from"./recharts-BacKPPsp.js";import"./scheduler-BdgtklXn.js";import"./@remix-run-DUCO3W-r.js";import"./@emotion-DcY20CWh.js";import"./hoist-non-react-statics-ChoYklYu.js";import"./@babel-BtohYyOd.js";import"./stylis-Blw2ohPC.js";import"./prop-types-BhEpm81J.js";import"./object-assign-Dw8nQtKq.js";import"./react-is-6VGF0abh.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-BFOp6jtI.js";import"./dom-helpers-D0mFdbeO.js";import"./@popperjs-CMBiYTiD.js";import"./lodash-DjiupQAW.js";import"./react-smooth-CGlHDv2K.js";import"./fast-equals-BIyco3rD.js";import"./tiny-invariant-7zSWqrSz.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BfpcI_6t.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))l(m);new MutationObserver(m=>{for(const E of m)if(E.type==="childList")for(const p of E.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function r(m){const E={};return m.integrity&&(E.integrity=m.integrity),m.referrerPolicy&&(E.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?E.credentials="include":m.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function l(m){if(m.ep)return;m.ep=!0;const E=r(m);fetch(m.href,E)}})();const si={minLevel:"DEBUG",sendToServer:!1,serverUrl:"/api/logs",batchSize:10,sendInterval:3e4,includeUserInfo:!0},qr={DEBUG:0,INFO:1,WARN:2,ERROR:3};class ri{constructor(n={}){Is(this,"config");Is(this,"logBuffer",[]);Is(this,"sendTimer",null);Is(this,"sessionId");this.config={...si,...n},this.sessionId=this.getOrCreateSessionId(),this.config.sendToServer&&(this.startSendTimer(),this.setupUnloadHandler()),this.setupErrorCapture()}getOrCreateSessionId(){let n=sessionStorage.getItem("logSessionId");return n||(n=Date.now().toString(36)+Math.random().toString(36).substring(2),sessionStorage.setItem("logSessionId",n)),n}startSendTimer(){this.sendTimer&&window.clearInterval(this.sendTimer),this.sendTimer=window.setInterval(()=>{this.sendLogs()},this.config.sendInterval)}setupErrorCapture(){window.addEventListener("error",n=>{var r;return this.error("Erreur non gérée",{message:n.message,filename:n.filename,lineno:n.lineno,colno:n.colno,stack:(r=n.error)==null?void 0:r.stack}),!1}),window.addEventListener("unhandledrejection",n=>{var r,l;return this.error("Promesse rejetée non gérée",{reason:((r=n.reason)==null?void 0:r.message)||String(n.reason),stack:(l=n.reason)==null?void 0:l.stack}),!1})}async sendLogs(n=!1){if(!this.config.sendToServer||this.logBuffer.length<this.config.batchSize&&!n||this.logBuffer.length===0)return;const r=[...this.logBuffer];this.logBuffer=[];try{const l={sessionId:this.sessionId,batchId:Date.now().toString(36),userAgent:navigator.userAgent,language:navigator.language,screenSize:`${window.innerWidth}x${window.innerHeight}`,userId:localStorage.getItem("userId")||void 0,url:window.location.href,referrer:document.referrer},m=await fetch(this.config.serverUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:r,metadata:l}),signal:AbortSignal.timeout?AbortSignal.timeout(5e3):void 0});m.ok||(console.error(`Échec d'envoi des logs: ${m.status}`),this.logBuffer=[...r,...this.logBuffer])}catch(l){console.error("Erreur lors de l'envoi des logs:",l),this.logBuffer=[...r,...this.logBuffer]}}setupUnloadHandler(){window.addEventListener("beforeunload",()=>{this.sendLogs(!0)})}addLog(n,r,l={}){if(qr[n]<qr[this.config.minLevel])return;const m={level:n,message:r,timestamp:new Date().toISOString(),details:{...l}};switch(this.logBuffer.push(m),n){case"DEBUG":console.debug(`[${n}] ${r}`,l);break;case"INFO":console.info(`[${n}] ${r}`,l);break;case"WARN":console.warn(`[${n}] ${r}`,l);break;case"ERROR":console.error(`[${n}] ${r}`,l),this.sendLogs(!0);break}}debug(n,r={}){this.addLog("DEBUG",n,r)}info(n,r={}){this.addLog("INFO",n,r)}warn(n,r={}){this.addLog("WARN",n,r)}error(n,r={}){this.addLog("ERROR",n,r)}flush(){return this.sendLogs(!0)}setConfig(n){this.config={...this.config,...n},this.config.sendToServer?this.startSendTimer():this.sendTimer&&(window.clearInterval(this.sendTimer),this.sendTimer=null)}logUserAction(n,r={}){this.info(`Action utilisateur: ${n}`,{type:"user_action",action:n,...r})}logNavigation(n,r={}){this.info(`Navigation: ${n}`,{type:"navigation",path:n,...r})}logPerformance(n,r,l={}){this.info(`Performance: ${n} (${r}ms)`,{type:"performance",operation:n,durationMs:r,...l})}logApiCall(n,r,l,m,E={}){const p=l>=400?"ERROR":"INFO";this.addLog(p,`API ${r} ${n}: ${l} (${m}ms)`,{type:"api_call",endpoint:n,method:r,status:l,durationMs:m,...E})}}const is=new ri,ai="http://localhost:5000",wr="/api",ds=Ya.create({baseURL:ai,headers:{"Content-Type":"application/json"}});ds.interceptors.request.use(s=>{var l;s.metadata={startTime:Date.now()};const n=localStorage.getItem("auth_token");n&&s.headers&&(s.headers.Authorization=`Bearer ${n}`);const r={method:((l=s.method)==null?void 0:l.toUpperCase())||"GET",url:s.url||"unknown"};if(s.data)try{const m=typeof s.data=="string"?s.data:JSON.stringify(s.data);r.data=m.substring(0,500)}catch{}return is.debug(`API Request: ${r.method} ${r.url}`,r),s},s=>{const n=(s==null?void 0:s.message)||"Erreur inconnue de requête API",r=(s==null?void 0:s.stack)||"";return is.error("Erreur de requête API",{message:n,stack:r}),Promise.reject(s)});ds.interceptors.response.use(s=>{var m,E,p;const n=Fr(s.config),r=((m=s.config)==null?void 0:m.url)||"unknown",l=((p=(E=s.config)==null?void 0:E.method)==null?void 0:p.toUpperCase())||"GET";return is.info(`API Response: ${l} ${r} - ${s.status}`,{status:s.status,statusText:s.statusText||"",duration:n,size:s.data?JSON.stringify(s.data).length:0,url:r}),s},s=>{var r,l,m,E,p,B;const n={url:((r=s.config)==null?void 0:r.url)||"unknown",method:((m=(l=s.config)==null?void 0:l.method)==null?void 0:m.toUpperCase())||"UNKNOWN",status:(E=s.response)==null?void 0:E.status,statusText:((p=s.response)==null?void 0:p.statusText)||"",duration:s.config?Fr(s.config):null,message:(s==null?void 0:s.message)||"Erreur inconnue"};return s.response&&s.response.status===401?(is.warn("Session expirée ou non authentifiée",n),localStorage.removeItem("auth_token"),window.location.href="/auth/login"):is.error("Erreur de réponse API",{...n,...((B=s.response)==null?void 0:B.data)&&{response:JSON.stringify(s.response.data).substring(0,500),stack:(s==null?void 0:s.stack)||""}}),Promise.reject(s)});const ms=s=>s.startsWith(wr)?s:`${wr}${s.startsWith("/")?s:`/${s}`}`,Fr=s=>{var n;try{if((n=s==null?void 0:s.metadata)!=null&&n.startTime)return Date.now()-s.metadata.startTime}catch{}return 0},fs=async(s,n,r,l={})=>{const m=ms(n),E=performance.now();try{const p=await r(),B=performance.now()-E;return B>1e3&&is.info(`API Performance: ${s} ${m} - ${Math.round(B)}ms`,{...l,duration:B}),p}catch(p){throw p}},w={get:(s,n)=>{const r=ms(s);return fs("GET",r,()=>ds.get(r,n).then(l=>l.data),{params:n==null?void 0:n.params})},post:(s,n,r)=>{const l=ms(s);return fs("POST",l,()=>ds.post(l,n,r).then(m=>m.data),{dataSize:n?JSON.stringify(n).length:0})},put:(s,n,r)=>{const l=ms(s);return fs("PUT",l,()=>ds.put(l,n,r).then(m=>m.data),{dataSize:n?JSON.stringify(n).length:0})},patch:(s,n,r)=>{const l=ms(s);return fs("PATCH",l,()=>ds.patch(l,n,r).then(m=>m.data),{dataSize:n?JSON.stringify(n).length:0})},delete:(s,n)=>{const r=ms(s);return fs("DELETE",r,()=>ds.delete(r,n).then(l=>l.data),{})},downloadFile:(s,n)=>{const r=ms(s);return fs("GET",r,()=>ds.get(r,{...n,responseType:"blob"}).then(l=>l.data),{responseType:"blob"})},uploadFile:(s,n,r)=>{const l=ms(s);return fs("POST",l,()=>ds.post(l,n,{...r,headers:{...r==null?void 0:r.headers,"Content-Type":"multipart/form-data"}}).then(m=>m.data),{formDataEntries:Array.from(n.keys()).join(",")})}},Qs={DASHBOARD:{nom_module:"DASHBOARD",route_base:"/",description:"Tableau de bord principal",icone:"dashboard",ordre:1},QUESTIONNAIRES:{nom_module:"QUESTIONNAIRES",route_base:"/questionnaires",description:"Gestion des questionnaires",icone:"quiz",ordre:2},FORMULAIRES:{nom_module:"FORMULAIRES",route_base:"/formulaires",description:"Gestion des formulaires",icone:"assignment",ordre:3},ANALYSES:{nom_module:"ANALYSES",route_base:"/analyses-fonctions",description:"Analyses et recommandations",icone:"analytics",ordre:4},APPLICATIONS:{nom_module:"APPLICATIONS",route_base:"/applications",description:"Portfolio applications",icone:"apps",ordre:5},ENTREPRISES:{nom_module:"ENTREPRISES",route_base:"/organisations",description:"Gestion des organisations",icone:"business",ordre:6},ADMINISTRATION:{nom_module:"ADMINISTRATION",route_base:"/admin",description:"Administration système",icone:"admin_panel_settings",ordre:10,sous_modules:{USERS:{nom_module:"ADMIN_USERS",route_base:"/admin/users",description:"Gestion des utilisateurs",icone:"people"},PERMISSIONS:{nom_module:"ADMIN_PERMISSIONS",route_base:"/admin/permissions",description:"Gestion des permissions",icone:"security"},ROLES:{nom_module:"ADMIN_ROLES",route_base:"/admin/roles",description:"Gestion des rôles",icone:"account_circle"},MATURITY:{nom_module:"ADMIN_MATURITY",route_base:"/admin/maturity-model",description:"Modèle de maturité",icone:"model_training"},SYSTEM:{nom_module:"ADMIN_SYSTEM",route_base:"/admin/system",description:"Configuration système",icone:"settings"}}}},ea=a.createContext({currentUser:null,isAuthenticated:!1,isLoading:!0,login:async()=>{},logout:async()=>{},register:async()=>{},forgotPassword:async()=>{},updateProfile:async()=>{},error:null,permissions:[],hasGlobalAccess:!1,hasPermission:()=>!1,canAccessRoute:()=>!1,canAccessAdminModule:()=>!1,getAccessibleModules:()=>[],getAdminSubModules:()=>[],refreshPermissions:async()=>{},isAdmin:()=>!1,isSuperAdmin:()=>!1,getAllAppModules:()=>Qs}),sr=()=>a.useContext(ea),ii=({children:s})=>{const[n,r]=a.useState(null),[l,m]=a.useState(!1),[E,p]=a.useState(!0),[B,x]=a.useState(null),[A,_]=a.useState([]),[O,j]=a.useState(!1),T=a.useCallback(u=>u?u.nom_role==="ADMINISTRATEUR"||u.nom_role==="SUPER_ADMINISTRATEUR"||u.niveau_acces==="GLOBAL":!1,[]),V=a.useCallback(u=>u?u.nom_role==="SUPER_ADMINISTRATEUR":!1,[]),W=a.useCallback(()=>{const u=[];return Object.values(Qs).forEach($=>{const k={nom_module:$.nom_module,route_base:$.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0};"sous_modules"in $&&$.sous_modules&&(k.sous_permissions=Object.values($.sous_modules).map(v=>({nom_module:v.nom_module,route_base:v.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0}))),u.push(k)}),u},[]),R=a.useCallback((u,$)=>{const k=[{nom_module:"DASHBOARD",route_base:"/",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1},{nom_module:"QUESTIONNAIRES",route_base:"/questionnaires",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"FORMULAIRES",route_base:"/formulaires",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"ANALYSES",route_base:"/analyses-fonctions",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1}];return u==="SUPER_ADMINISTRATEUR"||u==="ADMINISTRATEUR"||$==="GLOBAL"?(console.log("🔑 Génération permissions Administrateur (TOUTES)"),W()):u==="CONSULTANT"?(console.log("🔑 Génération permissions Consultant (ÉTENDUES)"),k.map(v=>({...v,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!1})).concat([{nom_module:"APPLICATIONS",route_base:"/applications",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"ENTREPRISES",route_base:"/organisations",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1}])):u==="MANAGER"?(console.log("🔑 Génération permissions Manager (MOYENNES)"),k.map(v=>({...v,peut_voir:!0,peut_editer:v.nom_module!=="DASHBOARD",peut_supprimer:!1,peut_administrer:!1})).concat([{nom_module:"APPLICATIONS",route_base:"/applications",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1}])):(console.log("🔑 Génération permissions Intervenant (BASE)"),k)},[W]),M=a.useCallback(async()=>{var u;try{if(p(!0),localStorage.getItem("auth_token")){console.log("🔑 Token trouvé, vérification...");try{const k=await w.get("/user/permissions");r(k.user),_(k.permissions||[]),j(k.hasGlobalAccess||T(k.user)),m(!0),x(null),console.log("✅ Utilisateur authentifié avec système de permissions")}catch{console.log("⚠️ Endpoint permissions non disponible, utilisation /auth/me...");const v=await w.get("/auth/me"),h=v.user||((u=v.data)==null?void 0:u.user);h&&(r(h),_(R(h.nom_role,h.niveau_acces)),j(T(h)),m(!0),x(null),console.log("✅ Utilisateur authentifié (fallback /auth/me)"))}}else console.log("ℹ️ Aucun token trouvé")}catch($){console.warn("⚠️ Erreur d'authentification:",$.message),localStorage.removeItem("auth_token"),r(null),_([]),j(!1),m(!1)}finally{p(!1)}},[T,R]),z=async(u,$)=>{var k,v,h,N;try{x(null),p(!0),console.log("🔄 === DÉBUT LOGIN ==="),console.log("📧 Email:",u);const f=await w.post("/auth/login",{email:u,password:$});if(f.token&&f.user)localStorage.setItem("auth_token",f.token),r(f.user),_(R(f.user.nom_role,f.user.niveau_acces)),j(T(f.user)),m(!0),console.log("✅ === LOGIN RÉUSSI ==="),console.log("👤 Utilisateur:",{email:f.user.email,nom_role:f.user.nom_role,niveau_acces:f.user.niveau_acces,isAdmin:T(f.user)});else throw new Error("Réponse de connexion invalide")}catch(f){console.error("❌ === ERREUR LOGIN ==="),console.error("Message:",((v=(k=f.response)==null?void 0:k.data)==null?void 0:v.message)||f.message);const y=((N=(h=f.response)==null?void 0:h.data)==null?void 0:N.message)||f.message||"Erreur de connexion";throw x(y),new Error(y)}finally{p(!1),console.log("🏁 === FIN LOGIN ===")}},g=async()=>{try{await w.post("/auth/logout")}catch(u){console.warn("Erreur lors de la déconnexion:",u)}finally{localStorage.removeItem("auth_token"),r(null),_([]),j(!1),m(!1),console.log("✅ Déconnexion réussie")}},L=async u=>{var $,k;try{x(null),p(!0);const v=await w.post("/auth/register",u);v.token&&v.user&&(localStorage.setItem("auth_token",v.token),r(v.user),_(R(v.user.nom_role,v.user.niveau_acces)),j(T(v.user)),m(!0))}catch(v){const h=((k=($=v.response)==null?void 0:$.data)==null?void 0:k.message)||"Erreur lors de l'inscription";throw x(h),new Error(h)}finally{p(!1)}},I=async u=>{var $,k;try{x(null),await w.post("/auth/forgot-password",{email:u})}catch(v){const h=((k=($=v.response)==null?void 0:$.data)==null?void 0:k.message)||"Erreur lors de la récupération";throw x(h),new Error(h)}},c=async u=>{var $,k;try{x(null);const v=await w.put("/auth/profile",u);v.user&&(r(v.user),j(T(v.user)))}catch(v){const h=((k=($=v.response)==null?void 0:$.data)==null?void 0:k.message)||"Erreur lors de la mise à jour";throw x(h),new Error(h)}},U=a.useCallback(()=>T(n),[n,T]),Q=a.useCallback(()=>V(n),[n,V]),H=a.useCallback((u,$)=>{if(T(n)||V(n)||O)return!0;let k=A.find(v=>v.nom_module.toUpperCase()===u.toUpperCase());if(!k){for(const v of A)if(v.sous_permissions&&(k=v.sous_permissions.find(h=>h.nom_module.toUpperCase()===u.toUpperCase()),k))break}if(!k)return!1;switch($.toLowerCase()){case"voir":case"view":return k.peut_voir;case"editer":case"edit":return k.peut_editer;case"supprimer":case"delete":return k.peut_supprimer;case"administrer":case"admin":return k.peut_administrer;default:return!1}},[n,A,O,T,V]),Y=a.useCallback(u=>{if(T(n)||V(n)||O)return!0;const $=u.startsWith("/")?u.substring(1):u,k={"":"DASHBOARD",dashboard:"DASHBOARD",questionnaires:"QUESTIONNAIRES",formulaires:"FORMULAIRES","analyses-fonctions":"ANALYSES","analyses-interpretations":"ANALYSES",applications:"APPLICATIONS",organisations:"ENTREPRISES",admin:"ADMINISTRATION","admin/users":"ADMIN_USERS","admin/permissions":"ADMIN_PERMISSIONS","admin/roles":"ADMIN_ROLES","admin/maturity-model":"ADMIN_MATURITY","admin/system":"ADMIN_SYSTEM",users:"ADMIN_USERS"};let v=null;for(const[h,N]of Object.entries(k))if($.startsWith(h)){v=N;break}return v?H(v,"voir"):!1},[n,O,H,T,V]),Z=a.useCallback(u=>T(n)||V(n)||O?!0:H(`ADMIN_${u.toUpperCase()}`,"voir"),[n,O,H,T,V]),te=a.useCallback(()=>T(n)||V(n)||O?W():A.filter(u=>u.peut_voir),[n,O,A,W,T,V]),ne=a.useCallback(()=>{var $;if(T(n)||V(n)||O){const k=Qs.ADMINISTRATION;if(k.sous_modules)return Object.values(k.sous_modules).map(v=>({nom_module:v.nom_module,route_base:v.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0}))}const u=A.find(k=>k.nom_module==="ADMINISTRATION");return(($=u==null?void 0:u.sous_permissions)==null?void 0:$.filter(k=>k.peut_voir))||[]},[n,O,A,T,V]),P=a.useCallback(async()=>{l&&await M()},[l,M]),ie=a.useCallback(()=>Qs,[]);a.useEffect(()=>{M()},[M]);const be={currentUser:n,isAuthenticated:l,isLoading:E,login:z,logout:g,register:L,forgotPassword:I,updateProfile:c,error:B,permissions:A,hasGlobalAccess:O,hasPermission:H,canAccessRoute:Y,canAccessAdminModule:Z,getAccessibleModules:te,getAdminSubModules:ne,refreshPermissions:P,isAdmin:U,isSuperAdmin:Q,getAllAppModules:ie};return e.jsxDEV(ea.Provider,{value:be,children:s},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/contexts/AuthContext.tsx",lineNumber:649,columnNumber:5},void 0)},ni=({message:s,type:n,duration:r=3e3,onClose:l})=>{const[m,E]=a.useState(!0);if(a.useEffect(()=>{const x=setTimeout(()=>{E(!1),l&&l()},r);return()=>clearTimeout(x)},[r,l]),!m)return null;const p={success:"bg-success-500",error:"bg-danger-500",info:"bg-primary-500",warning:"bg-warning-500"}[n],B={success:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:40,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:39,columnNumber:7},void 0),error:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:45,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:44,columnNumber:7},void 0),info:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:50,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:49,columnNumber:7},void 0),warning:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:55,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:54,columnNumber:7},void 0)};return e.jsxDEV("div",{className:"fixed bottom-4 right-4 z-50 flex items-center p-4 mb-4 rounded-lg shadow-lg text-white animate-slideIn-right min-w-64 max-w-md",children:[e.jsxDEV("div",{className:`flex items-center justify-center rounded-full p-2 ${p}`,children:B[n]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:62,columnNumber:7},void 0),e.jsxDEV("div",{className:"ml-3 text-sm font-medium",children:s},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:65,columnNumber:7},void 0),e.jsxDEV("button",{onClick:()=>{E(!1),l&&l()},className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex h-8 w-8 text-white hover:bg-white hover:bg-opacity-20",children:[e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:77,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:76,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:68,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:61,columnNumber:5},void 0)},ti=a.createContext(void 0),sa=({children:s})=>{const[n,r]=a.useState([]),l=(E,p)=>{const B=Math.random().toString(36).substring(2,9);r(x=>[...x,{id:B,message:E,type:p}])},m=E=>{r(p=>p.filter(B=>B.id!==E))};return e.jsxDEV(ti.Provider,{value:{toasts:n,addToast:l,removeToast:m},children:[s,e.jsxDEV("div",{className:"toast-container",children:n.map(E=>e.jsxDEV(ni,{message:E.message,type:E.type,onClose:()=>m(E.id)},E.id,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:50,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:48,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:46,columnNumber:5},void 0)},ys=280,di=()=>{const s=la(),n=ma(s.breakpoints.down("md")),[r,l]=a.useState(!n),[m,E]=a.useState(!1),p=Oe(),B=er(),{currentUser:x,hasPermission:A,canAccessRoute:_,canAccessAdminModule:O,isAdmin:j,isSuperAdmin:T,logout:V,getAdminSubModules:W}=sr(),R=[{text:"Dashboard",icon:e.jsxDEV(xa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:80,columnNumber:13},void 0),path:"/",module:"DASHBOARD",action:"voir"},{text:"Analyses & Recommandations",icon:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:87,columnNumber:13},void 0),path:"/analyses-fonctions",module:"ANALYSES",action:"voir"},{text:"Applications Portfolio",icon:e.jsxDEV(pa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:94,columnNumber:13},void 0),path:"/applications",module:"APPLICATIONS",action:"voir"},{text:"Formulaires",icon:e.jsxDEV(Wr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:101,columnNumber:13},void 0),path:"/formulaires",module:"FORMULAIRES",action:"voir"},{text:"Questionnaires",icon:e.jsxDEV(br,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:108,columnNumber:13},void 0),path:"/questionnaires",module:"QUESTIONNAIRES",action:"voir"},{text:"",icon:e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:117,columnNumber:13},void 0),divider:!0},{text:"Administration",icon:e.jsxDEV(Es,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:123,columnNumber:13},void 0),module:"ADMINISTRATION",action:"voir",adminOnly:!0,subItems:[{text:"Gestion des Utilisateurs",icon:e.jsxDEV(dr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:130,columnNumber:17},void 0),path:"/admin/users",module:"ADMIN_USERS",action:"voir"},{text:"Permissions & Rôles",icon:e.jsxDEV(or,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:137,columnNumber:17},void 0),path:"/admin/permissions",module:"ADMIN_PERMISSIONS",action:"voir"},{text:"Modèle de Maturité",icon:e.jsxDEV(Ca,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:144,columnNumber:17},void 0),path:"/admin/maturity-model",module:"ADMIN_MATURITY",action:"voir"},{text:"Configuration Système",icon:e.jsxDEV(fr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:151,columnNumber:17},void 0),path:"/admin/system",module:"ADMIN_SYSTEM",action:"voir"}]}],M=()=>{l(!r)},z=Y=>{p(Y),n&&l(!1)},g=()=>{E(!m)},L=async()=>{try{await V(),p("/auth/login")}catch(Y){console.error("Erreur lors de la déconnexion:",Y)}},I=Y=>Y.adminOnly&&!j()&&!T()?!1:Y.module&&Y.action?A(Y.module,Y.action):Y.path?_(Y.path):!0,c=Y=>Y.path?B.pathname===Y.path||B.pathname.startsWith(Y.path+"/"):!1,U=()=>B.pathname.startsWith("/admin"),Q=(Y,Z=!1)=>{if(Y.divider)return e.jsxDEV(ze,{sx:{my:1}},"divider",!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:220,columnNumber:14},void 0);if(!I(Y))return null;const te=c(Y),ne=Y.subItems&&Y.subItems.length>0;return e.jsxDEV(js,{disablePadding:!0,sx:{pl:Z?4:0},children:e.jsxDEV(lr,{selected:te,onClick:()=>{ne&&Y.text==="Administration"?g():Y.path&&z(Y.path)},sx:{borderRadius:1,mx:1,mb:.5,...te&&{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"},"& .MuiListItemIcon-root":{color:"primary.contrastText"}}},children:[e.jsxDEV(Vr,{sx:{minWidth:40},children:Y.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:257,columnNumber:11},void 0),e.jsxDEV(Cs,{primary:e.jsxDEV(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxDEV(i,{variant:"body2",sx:{fontWeight:te?600:400},children:Y.text},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:263,columnNumber:17},void 0),Y.adminOnly&&e.jsxDEV(ve,{label:"Admin",size:"small",color:"secondary",sx:{height:20,fontSize:"0.7rem",...te&&{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:267,columnNumber:19},void 0),ne&&(m?e.jsxDEV(ha,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:282,columnNumber:35},void 0):e.jsxDEV(Vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:282,columnNumber:52},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:262,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:260,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:232,columnNumber:9},void 0)},Y.text,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:231,columnNumber:7},void 0)},H=()=>{const Y=R.find(Z=>Z.text==="Administration");return!Y||!Y.subItems?null:e.jsxDEV(ya,{in:m,timeout:"auto",unmountOnExit:!0,children:e.jsxDEV(ps,{component:"div",disablePadding:!0,children:Y.subItems.map(Z=>{if(!I(Z))return null;const te=c(Z);return e.jsxDEV(js,{disablePadding:!0,sx:{pl:2},children:e.jsxDEV(lr,{selected:te,onClick:()=>Z.path&&z(Z.path),sx:{borderRadius:1,mx:1,mb:.5,backgroundColor:te?"rgba(0, 0, 0, 0.08)":"transparent","&:hover":{backgroundColor:te?"rgba(0, 0, 0, 0.12)":"rgba(0, 0, 0, 0.04)"}},children:[e.jsxDEV(Vr,{sx:{minWidth:40,ml:2},children:Z.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:320,columnNumber:19},void 0),e.jsxDEV(Cs,{primary:e.jsxDEV(i,{variant:"body2",sx:{fontWeight:te?600:400},children:Z.text},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:325,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:323,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:307,columnNumber:17},void 0)},Z.text,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:306,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:299,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:298,columnNumber:7},void 0)};return Us.useEffect(()=>{U()&&E(!0)},[B.pathname]),e.jsxDEV(t,{sx:{display:"flex"},children:[e.jsxDEV(ua,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:348,columnNumber:7},void 0),e.jsxDEV(ca,{position:"fixed",sx:{zIndex:s.zIndex.drawer+1,width:{sm:r?`calc(100% - ${ys}px)`:"100%"},ml:{sm:r?`${ys}px`:0},transition:s.transitions.create(["width","margin"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen})},children:e.jsxDEV(ar,{children:[e.jsxDEV(xe,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:M,sx:{mr:2},children:e.jsxDEV(ba,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:369,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:362,columnNumber:11},void 0),e.jsxDEV(i,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"Plateforme d'Évaluation de Maturité - DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:371,columnNumber:11},void 0),e.jsxDEV(t,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxDEV(t,{sx:{textAlign:"right",display:{xs:"none",sm:"block"}},children:[e.jsxDEV(i,{variant:"body2",sx:{opacity:.9},children:x==null?void 0:x.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:378,columnNumber:15},void 0),e.jsxDEV(i,{variant:"caption",sx:{opacity:.7},children:[(x==null?void 0:x.nom_role)||(x==null?void 0:x.role)," - ",x==null?void 0:x.organisation]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:381,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:377,columnNumber:13},void 0),(j()||T())&&e.jsxDEV(xs,{color:"secondary",variant:"dot",children:e.jsxDEV(Es,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:388,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:387,columnNumber:15},void 0),e.jsxDEV(xe,{color:"inherit",onClick:L,title:"Déconnexion",children:e.jsxDEV(fa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:397,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:392,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:376,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:361,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:349,columnNumber:7},void 0),e.jsxDEV(Br,{variant:n?"temporary":"permanent",open:r,onClose:()=>l(!1),sx:{width:ys,flexShrink:0,"& .MuiDrawer-paper":{width:ys,boxSizing:"border-box",...n&&{boxShadow:s.shadows[8]}}},children:[e.jsxDEV(ar,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2},children:[e.jsxDEV(t,{sx:{display:"flex",alignItems:"center",gap:1},children:e.jsxDEV("img",{src:"/logo_qwanza.svg",alt:"Logo",style:{height:32,width:"auto"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:428,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:427,columnNumber:11},void 0),e.jsxDEV(xe,{onClick:M,children:e.jsxDEV(Na,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:435,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:434,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:419,columnNumber:9},void 0),e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:438,columnNumber:9},void 0),e.jsxDEV(t,{sx:{overflow:"auto",flex:1},children:e.jsxDEV(ps,{component:"nav",sx:{px:1,py:2},children:R.map(Y=>Y.text==="Administration"?e.jsxDEV(Us.Fragment,{children:[Q(Y),H()]},"administration",!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:446,columnNumber:19},void 0):Q(Y))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:441,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:440,columnNumber:9},void 0),e.jsxDEV(t,{sx:{p:2,borderTop:"1px solid",borderColor:"divider"},children:[e.jsxDEV(t,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.jsxDEV(dr,{sx:{fontSize:16,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:460,columnNumber:13},void 0),e.jsxDEV(i,{variant:"caption",sx:{color:"text.secondary"},children:"Connecté en tant que:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:461,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:459,columnNumber:11},void 0),e.jsxDEV(i,{variant:"body2",sx:{fontWeight:600,mb:.5},children:x==null?void 0:x.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:465,columnNumber:11},void 0),e.jsxDEV(i,{variant:"caption",sx:{color:"text.secondary"},children:[(x==null?void 0:x.nom_role)||(x==null?void 0:x.role),(j()||T())&&e.jsxDEV(ve,{label:"Admin",size:"small",color:"primary",sx:{ml:1,height:16,fontSize:"0.7rem"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:471,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:468,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:458,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:403,columnNumber:7},void 0),e.jsxDEV(t,{component:"main",sx:{flexGrow:1,p:3,width:{sm:`calc(100% - ${r?ys:0}px)`},ml:{sm:r?`${ys}px`:0},transition:s.transitions.create("margin",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen})},children:[e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:495,columnNumber:9},void 0)," ",e.jsxDEV(Zr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:496,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:482,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:347,columnNumber:5},void 0)},oi=({children:s})=>e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxDEV(zr,{to:"/",children:e.jsxDEV("img",{className:"mx-auto h-12 w-auto",src:"/logo_qwanza.svg",alt:"Plateforme Évaluation Maturité DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:14,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:13,columnNumber:9},void 0),e.jsxDEV("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Plateforme d'Évaluation Maturité DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:20,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:12,columnNumber:7},void 0),e.jsxDEV("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxDEV("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxDEV(Zr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:27,columnNumber:10},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:26,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-6 text-center text-sm text-gray-500",children:e.jsxDEV("p",{children:"© Qwanza 2025 - All right reserved"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:31,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:30,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:25,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:11,columnNumber:5},void 0),li=()=>{var W,R;const s=Oe(),n=er(),{login:r,error:l,isLoading:m,isAuthenticated:E}=sr(),[p,B]=a.useState({email:"admin@qwanza.fr",password:"password",rememberMe:!1}),[x,A]=a.useState(null),[_,O]=a.useState(!1),j=((R=(W=n.state)==null?void 0:W.from)==null?void 0:R.pathname)||"/";a.useEffect(()=>{E&&!m&&(console.log("✅ Utilisateur déjà authentifié, redirection vers:",j),s(j,{replace:!0}))},[E,m,s,j]);const T=M=>{const{name:z,value:g,checked:L}=M.target;B(I=>({...I,[z]:z==="rememberMe"?L:g})),x&&A(null)},V=async M=>{if(M.preventDefault(),A(null),!p.email||!p.password){A("Veuillez remplir tous les champs");return}O(!0);try{console.log("🔄 Tentative de connexion avec:",p.email),await r(p.email,p.password),console.log("✅ Connexion réussie")}catch(z){console.error("❌ Erreur de connexion:",z),A(z.message||"Erreur de connexion. Vérifiez vos identifiants.")}finally{O(!1)}};return m?e.jsxDEV(_e,{component:"main",maxWidth:"xs",children:e.jsxDEV(t,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:99,columnNumber:11},void 0),e.jsxDEV(i,{variant:"body1",sx:{mt:2},children:"Vérification de l'authentification..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:100,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:91,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:90,columnNumber:7},void 0):e.jsxDEV(_e,{component:"main",maxWidth:"xs",children:e.jsxDEV(t,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(re,{elevation:3,sx:{padding:4,width:"100%"},children:e.jsxDEV(t,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(i,{component:"h1",variant:"h4",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"bold"},children:"eQwanza"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:"Plateforme d'Évaluation de Maturité - Accédez à votre espace"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:132,columnNumber:13},void 0),(l||x)&&e.jsxDEV(he,{severity:"error",sx:{width:"100%",mb:2},children:l||x},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:138,columnNumber:15},void 0),e.jsxDEV(t,{component:"form",onSubmit:V,noValidate:!0,sx:{mt:1,width:"100%"},children:[e.jsxDEV(oe,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Adresse email",name:"email",type:"email",autoComplete:"email",autoFocus:!0,value:p.email,onChange:T,disabled:_||m},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:144,columnNumber:15},void 0),e.jsxDEV(oe,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"current-password",value:p.password,onChange:T,disabled:_||m},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV(Qr,{control:e.jsxDEV(Ss,{value:"remember",color:"primary",name:"rememberMe",checked:p.rememberMe,onChange:T,disabled:_||m},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:175,columnNumber:19},void 0),label:"Se souvenir de moi"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:173,columnNumber:15},void 0),e.jsxDEV(G,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5},disabled:_||m,startIcon:_?e.jsxDEV(we,{size:20},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:193,columnNumber:43},void 0):null,children:_?"Connexion en cours...":"Se connecter"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:187,columnNumber:15},void 0),e.jsxDEV(t,{sx:{display:"flex",justifyContent:"center",mt:2},children:e.jsxDEV(zr,{to:"/auth/register",style:{textDecoration:"none"},children:e.jsxDEV(i,{variant:"body2",color:"primary",children:"Pas encore de compte ? S'inscrire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:200,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:199,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:198,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:143,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:119,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:118,columnNumber:9},void 0),e.jsxDEV(re,{elevation:1,sx:{mt:2,p:2,bgcolor:"info.light",width:"100%"},children:e.jsxDEV(i,{variant:"caption",color:"info.contrastText",children:[e.jsxDEV("strong",{children:"🧪 Mode Développement"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:213,columnNumber:15},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:213,columnNumber:53},void 0),e.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:214,columnNumber:15},void 0)," admin@qwanza.fr",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:214,columnNumber:54},void 0),e.jsxDEV("strong",{children:"Mot de passe:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:215,columnNumber:15},void 0)," password",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:215,columnNumber:54},void 0),e.jsxDEV("strong",{children:"Rôle:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:216,columnNumber:15},void 0)," Administrateur (accès total)",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:216,columnNumber:66},void 0),e.jsxDEV("em",{children:"Ces identifiants sont pré-remplis pour faciliter les tests"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:217,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:212,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:211,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:110,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:109,columnNumber:5},void 0)},gs=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#8DD1E1","#A4DE6C","#D0ED57"],mi=()=>{const s=Oe(),[n,r]=a.useState(!0),[l,m]=a.useState(null),[E,p]=a.useState([]),[B,x]=a.useState([]),[A,_]=a.useState([]),[O,j]=a.useState([]),[T,V]=a.useState([]),[W,R]=a.useState(""),[M,z]=a.useState("all"),[g,L]=a.useState("all"),[I,c]=a.useState(0),[U,Q]=a.useState([]),[H,Y]=a.useState([]);a.useEffect(()=>{(async()=>{r(!0),m(null);try{const[$,k,v,h]=await Promise.all([w.get("entreprises"),w.get("fonctions"),w.get("applications"),w.get("formulaires/recent")]);console.log("Entreprises response:",$),console.log("Fonctions response:",k),console.log("Applications response:",v),console.log("Formulaires response:",h);const N=Array.isArray($)?$:[];p(N);const f=Z(N);x(f);const y=Array.isArray(k)?k:[];_(y);const S=Array.isArray(v)?v.filter(ee=>ee.score_global!==void 0&&ee.score_global!==null):[];j(S);const K=[...new Set(S.map(ee=>ee.hebergement||ee.mode_hebergement).filter(Boolean))],b=[...new Set(S.map(ee=>ee.technology||ee.technologie||ee.language).filter(Boolean))];Q(K),Y(b);const F=Array.isArray(h)?h:[];console.log("Formulaire data:",F),V(F)}catch($){console.error("Erreur lors du chargement des données:",$),m("Impossible de charger les données du tableau de bord.")}finally{r(!1)}})()},[]);const Z=u=>{const $=u.reduce((k,v)=>{const h=v.secteur||"Non défini";return k[h]||(k[h]={scoreTotal:0,count:0}),v.score_global!==void 0&&v.score_global!==null&&(k[h].scoreTotal+=v.score_global,k[h].count++),k},{});return Object.entries($).map(([k,{scoreTotal:v,count:h}])=>({nom:k,nombre_entreprises:h,score_moyen:h>0?v/h:0})).sort((k,v)=>v.score_moyen-k.score_moyen)},te=()=>{if(!T||!T.length)return[];console.log("Formulaires reçus:",T);const u=T.reduce(($,k)=>{const v=k.nom_fonction||k.thematique||k.titre||"Non défini";return $[v]=($[v]||0)+1,$},{});return Object.entries(u).map(([$,k])=>({name:$,value:k}))},ne=()=>!O||!O.length?[]:(console.log("Applications disponibles:",O),O.filter(u=>(M==="all"||u.hebergement===M||u.mode_hebergement===M)&&(g==="all"||u.technologie===g||u.technology===g||u.language===g)).sort((u,$)=>{const k=u.score_global!==void 0?u.score_global:0;return($.score_global!==void 0?$.score_global:0)-k}).slice(0,10)),P=(u,$)=>{c($)},ie=({active:u,payload:$,label:k})=>u&&($!=null&&$.length)?e.jsxDEV(re,{sx:{p:1},children:[e.jsxDEV(i,{variant:"body2",children:`${k}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:287,columnNumber:11},void 0),e.jsxDEV(i,{variant:"body2",children:`Score: ${$[0].value.toFixed(2)}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:288,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:286,columnNumber:9},void 0):null,be=u=>u>=3.5?"success":u>=2?"warning":"error";return n?e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:305,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:304,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[l&&e.jsxDEV(he,{severity:"error",sx:{mb:2},children:l},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:312,columnNumber:17},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,mb:2},children:[e.jsxDEV(i,{component:"h1",variant:"h4",color:"primary",gutterBottom:!0,children:"Tableau de bord de maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:318,columnNumber:13},void 0),e.jsxDEV(i,{variant:"body1",children:"Vue d'ensemble des scores de maturité par secteur, fonction et application."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:321,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:317,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:316,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,md:3,children:e.jsxDEV(pe,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(Ce,{children:[e.jsxDEV(t,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(ir,{sx:{bgcolor:"#0B4E87",mr:2},children:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:333,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:332,columnNumber:17},void 0),e.jsxDEV(i,{variant:"h6",children:"Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:335,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:331,columnNumber:15},void 0),e.jsxDEV(i,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(E==null?void 0:E.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:337,columnNumber:15},void 0),e.jsxDEV(i,{variant:"body2",color:"textSecondary",align:"center",children:"évaluées dans la plateforme"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:340,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:330,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:329,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:328,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,md:3,children:e.jsxDEV(pe,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(Ce,{children:[e.jsxDEV(t,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(ir,{sx:{bgcolor:"#4CAF50",mr:2},children:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:352,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:351,columnNumber:17},void 0),e.jsxDEV(i,{variant:"h6",children:"Fonctions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:354,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:350,columnNumber:15},void 0),e.jsxDEV(i,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(A==null?void 0:A.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:356,columnNumber:15},void 0),e.jsxDEV(i,{variant:"body2",color:"textSecondary",align:"center",children:"analysées au total"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:359,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:349,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:348,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:347,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,md:3,children:e.jsxDEV(pe,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(Ce,{children:[e.jsxDEV(t,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(ir,{sx:{bgcolor:"#F44336",mr:2},children:e.jsxDEV(ga,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:371,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:370,columnNumber:17},void 0),e.jsxDEV(i,{variant:"h6",children:"Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:373,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:369,columnNumber:15},void 0),e.jsxDEV(i,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(T==null?void 0:T.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:375,columnNumber:15},void 0),e.jsxDEV(i,{variant:"body2",color:"textSecondary",align:"center",children:"renseignés au total"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:378,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:368,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:367,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:366,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Maturité par Secteur d'Activité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:388,columnNumber:13},void 0),B&&B.length>0?e.jsxDEV(us,{width:"100%",height:300,children:e.jsxDEV(ur,{data:B,children:[e.jsxDEV(Gs,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:394,columnNumber:19},void 0),e.jsxDEV(Hs,{dataKey:"nom"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:395,columnNumber:19},void 0),e.jsxDEV(Ys,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:396,columnNumber:19},void 0),e.jsxDEV(Fs,{content:e.jsxDEV(ie,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:397,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:397,columnNumber:19},void 0),e.jsxDEV(cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:398,columnNumber:19},void 0),e.jsxDEV(cr,{dataKey:"score_moyen",fill:"#0B4E87",name:"Score moyen",barSize:40,children:B.map((u,$)=>e.jsxDEV(Ws,{fill:gs[$%gs.length]},`cell-${$}`,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:406,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:399,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:393,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:392,columnNumber:15},void 0):e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",height:300,children:e.jsxDEV(i,{variant:"body1",color:"textSecondary",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:413,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:412,columnNumber:15},void 0),e.jsxDEV(i,{variant:"caption",sx:{display:"block",mt:1},children:"Nombre d'entreprises par secteur indiqué entre parenthèses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:418,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:387,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:386,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Formulaires par Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:427,columnNumber:13},void 0),T&&T.length>0&&te().length>0?e.jsxDEV(us,{width:"100%",height:300,children:e.jsxDEV(Ja,{children:[e.jsxDEV(Xa,{data:te(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:te().map((u,$)=>e.jsxDEV(Ws,{fill:gs[$%gs.length]},`cell-${$}`,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:444,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:433,columnNumber:19},void 0),e.jsxDEV(Fs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:447,columnNumber:19},void 0),e.jsxDEV(cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:448,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:432,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:431,columnNumber:15},void 0):e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",height:300,children:e.jsxDEV(i,{variant:"body1",color:"textSecondary",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:453,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:452,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:426,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:425,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"10 Derniers Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:464,columnNumber:13},void 0),e.jsxDEV(t,{display:"flex",mb:2,children:e.jsxDEV(oe,{size:"small",placeholder:"Rechercher un formulaire...",value:W,onChange:u=>R(u.target.value),fullWidth:!0,InputProps:{startAdornment:e.jsxDEV(Gr,{position:"start",children:e.jsxDEV(Nr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:475,columnNumber:68},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:475,columnNumber:35},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:468,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:467,columnNumber:13},void 0),T.filter(u=>u.nom_application&&u.nom_application.toLowerCase().includes(W.toLowerCase())||u.nom_fonction&&u.nom_fonction.toLowerCase().includes(W.toLowerCase())||u.acteur_nom&&u.acteur_nom.toLowerCase().includes(W.toLowerCase())).slice(0,10).map((u,$)=>e.jsxDEV(Us.Fragment,{children:[e.jsxDEV(js,{button:!0,onClick:()=>s(`/formulaires/${u.id_formulaire}`),sx:{borderLeft:"4px solid",borderColor:u.score_global?u.score_global>=3.5?"#4CAF50":u.score_global>=2?"#FF9800":"#F44336":"#9E9E9E",mb:1,bgcolor:"#f9f9f9","&:hover":{bgcolor:"#f0f0f0"}},children:e.jsxDEV(Cs,{primary:e.jsxDEV(t,{children:[e.jsxDEV(i,{variant:"subtitle1",sx:{fontWeight:"bold",color:"#0B4E87"},children:["Fonction: ",u.nom_fonction||u.thematique||"Non spécifiée"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:506,columnNumber:27},void 0),e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5,children:[e.jsxDEV(i,{variant:"body2",component:"span",children:["Application: ",u.nom_application||"Application inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:510,columnNumber:29},void 0),e.jsxDEV(ve,{label:`Score: ${typeof u.score_actuel=="number"?u.score_actuel.toFixed(1):u.score_actuel||"0"} / ${typeof u.score_maximum=="number"?u.score_maximum.toFixed(1):u.score_maximum||"0"}`,size:"small",color:be(u.score_maximum>0?u.score_actuel/u.score_maximum*5:0),sx:{fontWeight:"bold"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:513,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:509,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:505,columnNumber:25},void 0),secondary:e.jsxDEV(t,{mt:1,children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",children:e.jsxDEV(i,{variant:"body2",component:"span",sx:{fontWeight:"medium"},children:["Acteur: ",u.acteur_nom||"Utilisateur inconnu"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:525,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:524,columnNumber:27},void 0),e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5,children:[e.jsxDEV(i,{variant:"caption",color:"textSecondary",children:["Créé le: ",u.date_creation?new Date(u.date_creation).toLocaleDateString():"Date inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:530,columnNumber:29},void 0),e.jsxDEV(i,{variant:"caption",color:"textSecondary",children:["Modifié le: ",u.date_modification?new Date(u.date_modification).toLocaleDateString():"Date inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:533,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:529,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:523,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:503,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:488,columnNumber:19},void 0),$<Math.min(T.length,10)-1&&e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:541,columnNumber:68},void 0)]},u.id_formulaire||`form-${$}`,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:487,columnNumber:17},void 0)),T.filter(u=>u.nom_application&&u.nom_application.toLowerCase().includes(W.toLowerCase())||u.nom_fonction&&u.nom_fonction.toLowerCase().includes(W.toLowerCase())||u.acteur_nom&&u.acteur_nom.toLowerCase().includes(W.toLowerCase())).length===0&&e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",height:150,children:e.jsxDEV(i,{variant:"body1",color:"textSecondary",children:"Aucun formulaire ne correspond à votre recherche"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:550,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:549,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:463,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:462,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:"Top 10 Applications par Score de Maturité",action:e.jsxDEV(t,{display:"flex",gap:2,children:[e.jsxDEV(Ve,{size:"small",sx:{minWidth:150},children:[e.jsxDEV(Se,{id:"hebergement-filter-label",children:"Hébergement"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:566,columnNumber:21},void 0),e.jsxDEV(qe,{labelId:"hebergement-filter-label",value:M,onChange:u=>z(u.target.value),label:"Hébergement",children:[e.jsxDEV(Ne,{value:"all",children:"Tous"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:573,columnNumber:23},void 0),U&&U.map(u=>e.jsxDEV(Ne,{value:u,children:u},u,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:575,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:567,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:565,columnNumber:19},void 0),e.jsxDEV(Ve,{size:"small",sx:{minWidth:150},children:[e.jsxDEV(Se,{id:"technologie-filter-label",children:"Technologie"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:581,columnNumber:21},void 0),e.jsxDEV(qe,{labelId:"technologie-filter-label",value:g,onChange:u=>L(u.target.value),label:"Technologie",children:[e.jsxDEV(Ne,{value:"all",children:"Toutes"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:588,columnNumber:23},void 0),H&&H.map(u=>e.jsxDEV(Ne,{value:u,children:u},u,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:590,columnNumber:25},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:582,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:580,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:564,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:561,columnNumber:13},void 0),e.jsxDEV(Ce,{children:[e.jsxDEV(hs,{value:I,onChange:P,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{mb:2},children:[e.jsxDEV(Ae,{label:"Graphique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:606,columnNumber:17},void 0),e.jsxDEV(Ae,{label:"Tableau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:607,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:598,columnNumber:15},void 0),I===0?ne().length>0?e.jsxDEV(us,{width:"100%",height:400,children:e.jsxDEV(ur,{data:ne(),children:[e.jsxDEV(Gs,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:614,columnNumber:23},void 0),e.jsxDEV(Hs,{dataKey:"nom_application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:615,columnNumber:23},void 0),e.jsxDEV(Ys,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:616,columnNumber:23},void 0),e.jsxDEV(Fs,{content:e.jsxDEV(ie,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:617,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:617,columnNumber:23},void 0),e.jsxDEV(cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:618,columnNumber:23},void 0),e.jsxDEV(cr,{dataKey:"score_global",fill:"#0B4E87",name:"Score de maturité",barSize:40,children:ne().map((u,$)=>e.jsxDEV(Ws,{fill:gs[$%gs.length]},`cell-${$}`,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:626,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:619,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:613,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:612,columnNumber:19},void 0):e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",height:300,children:e.jsxDEV(i,{variant:"body1",color:"textSecondary",children:"Aucune application ne correspond aux filtres sélectionnés"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:633,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:632,columnNumber:19},void 0):e.jsxDEV(t,{sx:{overflowX:"auto"},children:ne().length>0?e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:644,columnNumber:27},void 0),e.jsxDEV(o,{children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:645,columnNumber:27},void 0),e.jsxDEV(o,{children:"Hébergement"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:646,columnNumber:27},void 0),e.jsxDEV(o,{children:"Technologie"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:647,columnNumber:27},void 0),e.jsxDEV(o,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:648,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:643,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:642,columnNumber:23},void 0),e.jsxDEV(Te,{children:ne().map(u=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:u.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:654,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:typeof u.score_global=="number"?u.score_global.toFixed(2):u.score_global,color:be(parseFloat(String(u.score_global))),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:656,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:655,columnNumber:29},void 0),e.jsxDEV(o,{children:u.mode_hebergement||"Non spécifié"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:662,columnNumber:29},void 0),e.jsxDEV(o,{children:u.technologie||"Non spécifiée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:663,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(G,{size:"small",onClick:()=>s(`/applications/${u.id_application}`),children:"Détails"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:665,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:664,columnNumber:29},void 0)]},u.id_application,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:653,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:651,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:641,columnNumber:21},void 0):e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",height:200,children:e.jsxDEV(i,{variant:"body1",color:"textSecondary",children:"Aucune application ne correspond aux filtres sélectionnés"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:678,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:677,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:639,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:597,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:560,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:559,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:314,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:311,columnNumber:5},void 0)},ui=()=>{const s=Oe(),[n,r]=a.useState(!0),[l,m]=a.useState(null),[E,p]=a.useState([]),[B,x]=a.useState({});a.useEffect(()=>{A()},[]);const A=async()=>{r(!0),m(null);try{const V=await w.get("questionnaires");let W=[];Array.isArray(V)?W=V:V&&V.data&&Array.isArray(V.data)?W=V.data:(console.warn("Format de réponse inattendu pour questionnaires:",V),m("Format de données inattendu pour les questionnaires"));const R=W.map(L=>({id_questionnaire:L.id_questionnaire,fonction:L.fonction||L.titre||"Sans nom",thematique:L.thematique||"Non catégorisé",description:L.description||"",date_creation:L.date_creation||new Date().toISOString(),date_modification:L.date_modification||L.date_creation||new Date().toISOString()}));p(R);const M=await w.get("questionnaires/stats");let z=[];Array.isArray(M)?z=M:M&&M.data&&Array.isArray(M.data)?z=M.data:console.warn("Format de réponse inattendu pour les statistiques:",M);const g=z.reduce((L,I)=>(L[I.id_questionnaire]={numQuestions:I.numQuestions||0,numReponses:I.numReponses||I.num_evaluations||0,numUtilisateurs:I.numUtilisateurs||0},L),{});x(g)}catch(V){console.error("Erreur lors du chargement des questionnaires:",V),m("Impossible de charger les questionnaires. Veuillez réessayer.")}finally{r(!1)}},_=V=>{s(`/questionnaires/${V.id_questionnaire}`)},O=()=>{s("/questionnaires/admin")},j=V=>{try{return new Date(V).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})}catch(W){return console.warn("Erreur lors du formatage de la date:",W),"Date invalide"}},T=(V,W)=>{var R;try{return((R=B[V])==null?void 0:R[W])||0}catch{return 0}};return n?e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:164,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:163,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[l&&e.jsxDEV(he,{severity:"error",sx:{mb:2},children:l},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:172,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:"Questionnaires d'Évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:182,columnNumber:15},void 0),e.jsxDEV(t,{children:[e.jsxDEV(G,{variant:"outlined",color:"primary",onClick:O,sx:{mr:1},children:"Administration"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:186,columnNumber:17},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:197,columnNumber:30},void 0),onClick:O,children:"Nouveau Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:185,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:181,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:180,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:179,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(ke,{component:re,children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:213,columnNumber:19},void 0),e.jsxDEV(o,{children:"Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:214,columnNumber:19},void 0),e.jsxDEV(o,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:215,columnNumber:19},void 0),e.jsxDEV(o,{children:"Questions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:216,columnNumber:19},void 0),e.jsxDEV(o,{children:"Réponses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:217,columnNumber:19},void 0),e.jsxDEV(o,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:218,columnNumber:19},void 0),e.jsxDEV(o,{children:"Dernière modification"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:219,columnNumber:19},void 0),e.jsxDEV(o,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:220,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:212,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:211,columnNumber:15},void 0),e.jsxDEV(Te,{children:E.length>0?E.map(V=>e.jsxDEV(ce,{hover:!0,children:[e.jsxDEV(o,{children:V.fonction},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:227,columnNumber:23},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:V.thematique,color:"primary",variant:"outlined",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:229,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:228,columnNumber:23},void 0),e.jsxDEV(o,{children:V.description&&V.description.length>50?`${V.description.substring(0,50)}...`:V.description||"Aucune description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:236,columnNumber:23},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{icon:e.jsxDEV(br,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:243,columnNumber:33},void 0),label:T(V.id_questionnaire,"numQuestions"),color:T(V.id_questionnaire,"numQuestions")>0?"success":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:242,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:241,columnNumber:23},void 0),e.jsxDEV(o,{children:T(V.id_questionnaire,"numReponses")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:253,columnNumber:23},void 0),e.jsxDEV(o,{children:T(V.id_questionnaire,"numUtilisateurs")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:256,columnNumber:23},void 0),e.jsxDEV(o,{children:j(V.date_modification)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:259,columnNumber:23},void 0),e.jsxDEV(o,{children:e.jsxDEV(Ie,{title:"Voir les détails",children:e.jsxDEV(xe,{color:"info",onClick:()=>_(V),children:e.jsxDEV(Vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:268,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:264,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:263,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:262,columnNumber:23},void 0)]},V.id_questionnaire,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:226,columnNumber:21},void 0)):e.jsxDEV(ce,{children:e.jsxDEV(o,{colSpan:8,align:"center",children:[e.jsxDEV(i,{variant:"body1",sx:{py:2},children:"Aucun questionnaire disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:277,columnNumber:23},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:283,columnNumber:36},void 0),onClick:O,children:"Créer le premier questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:280,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:276,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:275,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:223,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:210,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:209,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:208,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:177,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:170,columnNumber:5},void 0)},ci=()=>{const{id:s}=Ts(),n=Oe(),[r,l]=a.useState(!0),[m,E]=a.useState(null),[p,B]=a.useState(null),[x,A]=a.useState([]),[_,O]=a.useState(null);a.useEffect(()=>{s?j(s):(E("Identifiant de questionnaire manquant"),l(!1))},[s]);const j=async M=>{l(!0),E(null);try{const z=await w.get(`questionnaires/${M}`);let g=null;z&&typeof z=="object"&&(Array.isArray(z)?g=z[0]:z.data?g=z.data:g=z),g&&g.id_questionnaire?B(g):(E("Format de réponse inattendu pour le questionnaire"),console.warn("Format de réponse inattendu pour le questionnaire:",z));try{const L=await w.get(`questionnaires/${M}/questions`);let I=[];Array.isArray(L)?I=L:L&&L.data&&Array.isArray(L.data)?I=L.data:console.warn("Format de réponse inattendu pour les questions:",L),A(I)}catch(L){console.error("Erreur lors du chargement des questions:",L),A([])}try{let L;try{L=await w.get(`questionnaire/stats/${M}`)}catch{L=await w.get(`questionnaires/stats/${M}`)}let I=null;L&&typeof L=="object"&&(L.data?I=L.data:I=L),O(I?{numQuestions:I.numQuestions||I.num_questions||0,numReponses:I.numReponses||I.num_evaluations||0,numUtilisateurs:I.numUtilisateurs||I.num_utilisateurs||0}:{numQuestions:x.length,numReponses:0,numUtilisateurs:0})}catch(L){console.error("Erreur lors du chargement des statistiques:",L),O({numQuestions:x.length,numReponses:0,numUtilisateurs:0})}}catch(z){console.error("Erreur lors du chargement des données du questionnaire:",z),E("Impossible de charger les données du questionnaire")}finally{l(!1)}},T=()=>{n("/questionnaires")},V=()=>{n(`/questionnaires/admin?id=${s}`)},W=M=>{try{return new Date(M).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(z){return console.warn("Erreur lors du formatage de la date:",z),"Date invalide"}};if(r)return e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:208,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:207,columnNumber:7},void 0);if(m)return e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(he,{severity:"error",sx:{mb:2},children:m},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:216,columnNumber:9},void 0),e.jsxDEV(re,{sx:{p:4,textAlign:"center"},children:e.jsxDEV(G,{variant:"contained",color:"primary",onClick:T,sx:{mt:2},children:"Retour à la liste"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:220,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:219,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:215,columnNumber:7},void 0);if(!p)return e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(re,{sx:{p:4,textAlign:"center"},children:[e.jsxDEV(i,{variant:"h5",color:"error",gutterBottom:!0,children:"Questionnaire non trouvé"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:237,columnNumber:11},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",onClick:T,sx:{mt:2},children:"Retour à la liste"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:240,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:236,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:235,columnNumber:7},void 0);const R=[...x].sort((M,z)=>(M.ordre||0)-(z.ordre||0));return e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(t,{display:"flex",alignItems:"center",children:[e.jsxDEV(xe,{color:"primary",onClick:T,sx:{mr:1},children:e.jsxDEV(as,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:267,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:266,columnNumber:17},void 0),e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:[p.fonction||"Questionnaire"," - ",p.thematique||"Sans description"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:269,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:265,columnNumber:15},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:276,columnNumber:28},void 0),onClick:V,children:"Modifier"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:273,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:264,columnNumber:13},void 0),e.jsxDEV(i,{variant:"body1",paragraph:!0,children:p.description||"Aucune description détaillée disponible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:283,columnNumber:13},void 0),e.jsxDEV(t,{sx:{mt:2,mb:1},children:[e.jsxDEV(ve,{label:`Créé le ${W(p.date_creation||new Date().toISOString())}`,variant:"outlined",size:"small",sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:288,columnNumber:15},void 0),e.jsxDEV(ve,{label:`Dernière modification: ${W(p.date_modification||p.date_creation||new Date().toISOString())}`,variant:"outlined",size:"small",color:"info"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:294,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:287,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:263,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:262,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{children:e.jsxDEV(t,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(xs,{badgeContent:(_==null?void 0:_.numQuestions)||0,color:"primary",max:999,sx:{mb:1},children:e.jsxDEV(br,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:317,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:311,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body1",align:"center",fontWeight:"bold",children:"Questions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:319,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:310,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:309,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:308,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:307,columnNumber:13},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{children:e.jsxDEV(t,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(xs,{badgeContent:(_==null?void 0:_.numReponses)||0,color:"success",max:999,sx:{mb:1},children:e.jsxDEV(Ls,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:336,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:330,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body1",align:"center",fontWeight:"bold",children:"Réponses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:338,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:329,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:328,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:327,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:326,columnNumber:13},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{children:e.jsxDEV(t,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(xs,{badgeContent:(_==null?void 0:_.numUtilisateurs)||0,color:"info",max:999,sx:{mb:1},children:e.jsxDEV(dr,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:355,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:349,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body1",align:"center",fontWeight:"bold",children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:357,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:348,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:347,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:346,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:345,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:306,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:305,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:["Questions (",R.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:370,columnNumber:13},void 0),e.jsxDEV(ze,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:374,columnNumber:13},void 0),R.length>0?R.map(M=>e.jsxDEV(Js,{children:[e.jsxDEV(Xs,{expandIcon:e.jsxDEV(Vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:379,columnNumber:49},void 0),children:e.jsxDEV(d,{container:!0,spacing:1,alignItems:"center",children:[e.jsxDEV(d,{xs:1,children:e.jsxDEV(i,{variant:"body1",fontWeight:"bold",children:[M.ordre||"?","."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:382,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:381,columnNumber:23},void 0),e.jsxDEV(d,{xs:10,children:e.jsxDEV(i,{variant:"body1",children:M.texte||"Question sans texte"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:387,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:386,columnNumber:23},void 0),e.jsxDEV(d,{xs:1,children:e.jsxDEV(Ie,{title:`Pondération: ${M.ponderation||0}`,children:e.jsxDEV(ve,{label:M.ponderation||0,color:M.ponderation>=4?"error":M.ponderation>=3?"warning":M.ponderation>=2?"info":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:393,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:392,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:391,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:380,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:379,columnNumber:19},void 0),e.jsxDEV(Zs,{children:e.jsxDEV(d,{container:!0,spacing:2,children:e.jsxDEV(d,{xs:12,children:[e.jsxDEV(i,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Pondération:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:410,columnNumber:27},void 0)," ",M.ponderation||0,M.ponderation>=4?" (Critique)":M.ponderation>=3?" (Important)":M.ponderation>=2?" (Significatif)":" (Mineur)"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:409,columnNumber:25},void 0),e.jsxDEV(i,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Ajouté le:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:416,columnNumber:27},void 0)," ",W(M.date_creation||new Date().toISOString())]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:415,columnNumber:25},void 0),M.date_modification&&M.date_creation&&M.date_modification!==M.date_creation&&e.jsxDEV(i,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Dernière modification:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:421,columnNumber:29},void 0)," ",W(M.date_modification)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:420,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:408,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:407,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:406,columnNumber:19},void 0)]},M.id_question,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:378,columnNumber:17},void 0)):e.jsxDEV(t,{textAlign:"center",py:4,children:[e.jsxDEV(i,{variant:"body1",gutterBottom:!0,children:"Ce questionnaire ne contient aucune question."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:431,columnNumber:17},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",onClick:V,sx:{mt:2},children:"Ajouter des questions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:434,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:430,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:369,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:368,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:260,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:259,columnNumber:5},void 0)},Rr=s=>{const{children:n,value:r,index:l,...m}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==l,id:`admin-tabpanel-${l}`,"aria-labelledby":`admin-tab-${l}`,...m,children:r===l&&e.jsxDEV(t,{sx:{p:3},children:n},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:112,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:104,columnNumber:5},void 0)},Lr={fonction:"",thematique:"Evaluation Complète",description:""},Tr={id_questionnaire:"",texte:"",ponderation:1,ordre:0},bi=()=>{const s=Oe(),[n]=da(),r=n.get("id"),[l,m]=a.useState(!0),[E,p]=a.useState(null),[B,x]=a.useState([]),[A,_]=a.useState(null),[O,j]=a.useState([]),[T,V]=a.useState([]),[W,R]=a.useState(!1),[M,z]=a.useState(Lr),[g,L]=a.useState(Tr),[I,c]=a.useState(!1),[U,Q]=a.useState(!1),[H,Y]=a.useState(!1),[Z,te]=a.useState(!1),[ne,P]=a.useState(null),[ie,be]=a.useState({open:!1,message:"",severity:"info"}),[u,$]=a.useState("create"),[k,v]=a.useState("create"),[h,N]=a.useState(0);a.useEffect(()=>{f().then(()=>{r&&(S(r),N(1))}),y()},[r]);const f=async()=>{m(!0),p(null);try{const D=await w.get("questionnaires");let se=[];Array.isArray(D)?se=D:D&&D.data&&Array.isArray(D.data)?se=D.data:(console.warn("Format de réponse inattendu pour questionnaires:",D),p("Format de données inattendu pour les questionnaires"),se=[]),x(se)}catch(D){console.error("Erreur lors du chargement des questionnaires:",D),De("Erreur lors du chargement des questionnaires.","error"),p("Impossible de charger les questionnaires"),x([])}finally{m(!1)}},y=async()=>{R(!0);try{const D=await w.get("fonctions");let se=[];Array.isArray(D)?se=D:D&&D.data&&Array.isArray(D.data)?se=D.data:(console.warn("Format de réponse inattendu pour fonctions:",D),se=[]),V(se)}catch(D){console.error("Erreur lors du chargement des fonctions:",D),De("Erreur lors du chargement des fonctions.","warning"),V([])}finally{R(!1)}},S=async D=>{try{const se=await w.get(`questionnaires/${D}`);let Me=null;se&&typeof se=="object"&&(Array.isArray(se)?Me=se[0]:se.data?Me=se.data:Me=se),Me&&Me.id_questionnaire?_(Me):(De("Format de réponse inattendu pour le questionnaire","warning"),console.warn("Format de réponse inattendu pour questionnaire:",se));try{const Pe=await w.get(`questionnaires/${D}/questions`);let $e=[];Array.isArray(Pe)?$e=Pe:Pe&&Pe.data&&Array.isArray(Pe.data)?$e=Pe.data:(console.warn("Format de réponse inattendu pour les questions:",Pe),$e=[]),j($e.sort((ls,bs)=>(ls.ordre||0)-(bs.ordre||0)))}catch(Pe){console.error("Erreur lors du chargement des questions:",Pe),De("Erreur lors du chargement des questions.","error"),j([])}}catch(se){console.error("Erreur lors du chargement du questionnaire:",se),De("Erreur lors du chargement du questionnaire.","error")}},K=()=>{$("create"),z(Lr),c(!0),T.length===0&&y()},b=D=>{$("edit"),z({fonction:D.fonction||"",thematique:D.thematique||"Evaluation Complète",description:D.description||""}),c(!0),T.length===0&&y()},F=()=>{c(!1)},ee=D=>{const{name:se,value:Me}=D.target;z({...M,[se]:Me})},ae=async()=>{try{if(u==="create"){const D=await w.post("questionnaires",M);await f(),De("Questionnaire créé avec succès.","success");let se="";D&&D.data&&D.data.id_questionnaire?se=D.data.id_questionnaire:D&&D.id_questionnaire&&(se=D.id_questionnaire),se&&(await S(se),N(1))}else u==="edit"&&A&&(await w.put(`questionnaires/${A.id_questionnaire}`,M),await f(),await S(A.id_questionnaire),De("Questionnaire mis à jour avec succès.","success"));F()}catch(D){console.error("Erreur lors de la sauvegarde du questionnaire:",D),De("Erreur lors de la sauvegarde du questionnaire.","error")}},le=D=>{_(D),Y(!0)},je=()=>{Y(!1)},ye=async()=>{if(A)try{await w.delete(`questionnaires/${A.id_questionnaire}`),await f(),_(null),j([]),N(0),je(),De("Questionnaire supprimé avec succès.","success")}catch(D){console.error("Erreur lors de la suppression du questionnaire:",D),De("Erreur lors de la suppression du questionnaire.","error")}},ue=async D=>{_(D),await S(D.id_questionnaire),N(1),s(`/questionnaires/admin?id=${D.id_questionnaire}`,{replace:!0})},Be=(D,se)=>{N(se)},We=()=>{if(!A){De("Veuillez d'abord sélectionner un questionnaire.","warning");return}v("create"),L({...Tr,id_questionnaire:A.id_questionnaire,ordre:O.length+1}),Q(!0)},ss=D=>{v("edit"),P(D),L({id_questionnaire:D.id_questionnaire,texte:D.texte||"",ponderation:D.ponderation||1,ordre:D.ordre}),Q(!0)},ts=()=>{Q(!1),P(null)},C=D=>{const{name:se,value:Me}=D.target;L(se==="ponderation"||se==="ordre"?{...g,[se]:Me===""?"":parseFloat(Me)}:{...g,[se]:Me})},Ee=async()=>{try{const D={...g,ponderation:Number(g.ponderation)||1,ordre:Number(g.ordre)||O.length+1};k==="create"?(await w.post("questions",D),De("Question ajoutée avec succès.","success")):k==="edit"&&ne&&(await w.put(`questions/${ne.id_question}`,D),De("Question mise à jour avec succès.","success")),A&&await S(A.id_questionnaire),ts()}catch(D){console.error("Erreur lors de la sauvegarde de la question:",D),De("Erreur lors de la sauvegarde de la question.","error")}},es=D=>{P(D),te(!0)},J=()=>{te(!1),P(null)},me=async()=>{if(ne)try{await w.delete(`questions/${ne.id_question}`),A&&await S(A.id_questionnaire),J(),De("Question supprimée avec succès.","success")}catch(D){console.error("Erreur lors de la suppression de la question:",D),De("Erreur lors de la suppression de la question.","error")}},Qe=async D=>{try{const se={fonction:`${D.fonction||"Questionnaire"} (copie)`,thematique:D.thematique||"",description:D.description||""},Me=await w.post("questionnaires",se);let Pe="";if(Me&&Me.data&&Me.data.id_questionnaire)Pe=Me.data.id_questionnaire;else if(Me&&Me.id_questionnaire)Pe=Me.id_questionnaire;else{console.warn("Format de réponse inattendu lors de la création du questionnaire cloné:",Me),De("Questionnaire créé mais impossible de cloner les questions.","warning"),await f();return}const $e=await w.get(`questionnaires/${D.id_questionnaire}/questions`);let ls=[];Array.isArray($e)?ls=$e:$e&&$e.data&&Array.isArray($e.data)?ls=$e.data:(console.warn("Format de réponse inattendu pour les questions à cloner:",$e),ls=[]);for(const bs of ls)try{await w.post("questions",{id_questionnaire:Pe,texte:bs.texte||"",ponderation:bs.ponderation||1,ordre:bs.ordre||0})}catch(X){console.error("Erreur lors du clonage de la question:",X)}await f(),await S(Pe),N(1),De("Questionnaire cloné avec succès.","success")}catch(se){console.error("Erreur lors du clonage du questionnaire:",se),De("Erreur lors du clonage du questionnaire.","error")}},os=async(D,se)=>{if(!(!D||se<1||se>O.length))try{await w.put(`questions/${D.id_question}`,{id_questionnaire:D.id_questionnaire,texte:D.texte,ponderation:D.ponderation,ordre:se}),A&&await S(A.id_questionnaire),De("Question réordonnée avec succès.","success")}catch(Me){console.error("Erreur lors de la réorganisation des questions:",Me),De("Erreur lors de la réorganisation des questions.","error")}},De=(D,se)=>{be({open:!0,message:D,severity:se})},As=()=>{be({...ie,open:!1})},rr=()=>{s("/questionnaires")};return l&&B.length===0?e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:637,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:636,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[E&&e.jsxDEV(he,{severity:"error",sx:{mb:2},children:E},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:645,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(t,{display:"flex",alignItems:"center",children:[e.jsxDEV(xe,{color:"primary",onClick:rr,sx:{mr:1},children:e.jsxDEV(as,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:657,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:656,columnNumber:17},void 0),e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:"Administration des Questionnaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:659,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:655,columnNumber:15},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:666,columnNumber:28},void 0),onClick:K,children:"Nouveau Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:663,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:654,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:653,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:652,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{width:"100%"},children:[e.jsxDEV(hs,{value:h,onChange:Be,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[e.jsxDEV(Ae,{label:"Liste des Questionnaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:685,columnNumber:15},void 0),e.jsxDEV(Ae,{label:"Gestion des Questions",disabled:!A},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:686,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:678,columnNumber:13},void 0),e.jsxDEV(Rr,{value:h,index:0,children:[e.jsxDEV(t,{sx:{mb:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Questionnaires disponibles"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:692,columnNumber:17},void 0),e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:695,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:691,columnNumber:15},void 0),B.length>0?e.jsxDEV(ps,{children:B.map(D=>e.jsxDEV(lr,{onClick:()=>ue(D),selected:(A==null?void 0:A.id_questionnaire)===D.id_questionnaire,sx:{borderRadius:1,mb:1,border:"1px solid",borderColor:"divider"},children:[e.jsxDEV(Cs,{primary:e.jsxDEV(i,{variant:"subtitle1",fontWeight:"bold",children:[D.fonction||"Sans titre"," - ",D.thematique||"Sans description"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:714,columnNumber:27},void 0),secondary:e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:D.description?D.description.length>100?D.description.substring(0,100)+"...":D.description:"Aucune description détaillée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:719,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:712,columnNumber:23},void 0),e.jsxDEV(va,{children:[e.jsxDEV(Ie,{title:"Éditer",children:e.jsxDEV(xe,{edge:"end",color:"primary",onClick:se=>{se.stopPropagation(),b(D)},children:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:739,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:731,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:730,columnNumber:25},void 0),e.jsxDEV(Ie,{title:"Cloner",children:e.jsxDEV(xe,{edge:"end",color:"secondary",onClick:se=>{se.stopPropagation(),Qe(D)},children:e.jsxDEV(Ma,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:751,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:743,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:742,columnNumber:25},void 0),e.jsxDEV(Ie,{title:"Supprimer",children:e.jsxDEV(xe,{edge:"end",color:"error",onClick:se=>{se.stopPropagation(),le(D)},children:e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:763,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:755,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:754,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:729,columnNumber:23},void 0)]},D.id_questionnaire,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:701,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:699,columnNumber:17},void 0):e.jsxDEV(t,{textAlign:"center",py:4,children:[e.jsxDEV(i,{variant:"body1",gutterBottom:!0,children:"Aucun questionnaire disponible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:772,columnNumber:19},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:778,columnNumber:32},void 0),onClick:K,sx:{mt:2},children:"Créer un questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:775,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:771,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:690,columnNumber:13},void 0),e.jsxDEV(Rr,{value:h,index:1,children:A?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(pe,{sx:{mb:3},children:[e.jsxDEV(Ge,{title:`${A.fonction||"Sans titre"} - ${A.thematique||"Sans description"}`,action:e.jsxDEV(G,{variant:"outlined",color:"primary",startIcon:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:799,columnNumber:38},void 0),onClick:()=>b(A),children:"Modifier"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:796,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:793,columnNumber:21},void 0),e.jsxDEV(Ce,{children:[e.jsxDEV(i,{variant:"body1",paragraph:!0,children:A.description||"Aucune description détaillée disponible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:807,columnNumber:23},void 0),e.jsxDEV(t,{display:"flex",justifyContent:"flex-end",sx:{mt:2},children:e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:815,columnNumber:38},void 0),onClick:We,children:"Ajouter une Question"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:812,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:811,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:806,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:792,columnNumber:19},void 0),e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:["Questions (",O.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:824,columnNumber:19},void 0),e.jsxDEV(ze,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:827,columnNumber:19},void 0),O.length>0?O.sort((D,se)=>(D.ordre||0)-(se.ordre||0)).map(D=>e.jsxDEV(Js,{children:[e.jsxDEV(Xs,{expandIcon:e.jsxDEV(Vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:835,columnNumber:41},void 0),sx:{"&:hover":{bgcolor:"action.hover"},bgcolor:"background.default"},children:e.jsxDEV(t,{display:"flex",alignItems:"center",width:"100%",children:[e.jsxDEV(Ie,{title:"Glisser pour réorganiser",children:e.jsxDEV(Da,{color:"action",sx:{mr:1,cursor:"grab"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:843,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:842,columnNumber:31},void 0),e.jsxDEV(i,{sx:{width:"5%",mr:1},children:e.jsxDEV("strong",{children:[D.ordre||"?","."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:846,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:845,columnNumber:31},void 0),e.jsxDEV(i,{sx:{width:"80%"},children:D.texte||"Question sans texte"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:848,columnNumber:31},void 0),e.jsxDEV(i,{sx:{width:"15%",textAlign:"right"},children:["Pond.: ",D.ponderation||0]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:851,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:841,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:834,columnNumber:27},void 0),e.jsxDEV(Zs,{children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,md:8,children:[e.jsxDEV(i,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Pondération:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:860,columnNumber:35},void 0)," ",D.ponderation||0]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:859,columnNumber:33},void 0),e.jsxDEV(i,{variant:"caption",color:"textSecondary",children:["Dernière modification: ",D.date_modification?new Date(D.date_modification).toLocaleDateString():"Date inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:862,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:858,columnNumber:31},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(t,{display:"flex",justifyContent:"flex-end",children:[e.jsxDEV(Ie,{title:"Monter",children:e.jsxDEV("span",{children:e.jsxDEV(xe,{color:"primary",onClick:()=>os(D,(D.ordre||0)-1),disabled:(D.ordre||0)<=1,children:e.jsxDEV(as,{sx:{transform:"rotate(90deg)"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:877,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:872,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:871,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:870,columnNumber:35},void 0),e.jsxDEV(Ie,{title:"Descendre",children:e.jsxDEV("span",{children:e.jsxDEV(xe,{color:"primary",onClick:()=>os(D,(D.ordre||0)+1),disabled:(D.ordre||0)>=O.length,children:e.jsxDEV(as,{sx:{transform:"rotate(-90deg)"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:888,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:883,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:882,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:881,columnNumber:35},void 0),e.jsxDEV(Ie,{title:"Modifier la question",children:e.jsxDEV(xe,{color:"primary",onClick:()=>ss(D),children:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:897,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:893,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:892,columnNumber:35},void 0),e.jsxDEV(Ie,{title:"Supprimer la question",children:e.jsxDEV(xe,{color:"error",onClick:()=>es(D),children:e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:905,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:901,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:900,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:869,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:868,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:857,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:856,columnNumber:27},void 0)]},D.id_question,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:833,columnNumber:25},void 0)):e.jsxDEV(he,{severity:"info",sx:{mt:2},children:'Aucune question définie pour ce questionnaire. Utilisez le bouton "Ajouter une Question" pour commencer.'},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:915,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:791,columnNumber:17},void 0):e.jsxDEV(t,{textAlign:"center",py:4,children:[e.jsxDEV(i,{variant:"body1",gutterBottom:!0,children:"Veuillez sélectionner un questionnaire dans l'onglet précédent."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:922,columnNumber:19},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",onClick:()=>N(0),sx:{mt:2},children:"Retour à la liste"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:925,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:921,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:789,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:677,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:676,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:650,columnNumber:7},void 0),e.jsxDEV(Ke,{open:I,onClose:F,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(Je,{children:u==="create"?"Créer un nouveau questionnaire":"Modifier le questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:942,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(t,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(Ve,{fullWidth:!0,required:!0,children:[e.jsxDEV(Se,{id:"fonction-select-label",children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:950,columnNumber:19},void 0),e.jsxDEV(qe,{labelId:"fonction-select-label",id:"fonction",name:"fonction",value:M.fonction,label:"Fonction",onChange:D=>ee(D),disabled:W,children:T.map(D=>e.jsxDEV(Ne,{value:D.nom,children:[D.nom,D.nombre_thematiques?` (${D.nombre_thematiques} thématiques)`:""]},D.id_fonction,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:961,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:951,columnNumber:19},void 0),e.jsxDEV(qs,{children:W?"Chargement des fonctions...":"Sélectionnez la fonction d'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:967,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:949,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:948,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,id:"thematique",name:"thematique",label:"Description",value:M.thematique,onChange:ee,helperText:"Ex: Evaluation Complète, Infrastructure, CI/CD"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:973,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:972,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(oe,{fullWidth:!0,id:"description",name:"description",label:"Description détaillée",multiline:!0,rows:4,value:M.description,onChange:ee,helperText:"Description détaillée du questionnaire et de son objectif"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:985,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:984,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:947,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:946,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:945,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:F,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1001,columnNumber:11},void 0),e.jsxDEV(G,{onClick:ae,variant:"contained",color:"primary",startIcon:e.jsxDEV(Rs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1006,columnNumber:24},void 0),disabled:!M.fonction||!M.thematique,children:u==="create"?"Créer":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1002,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1e3,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:941,columnNumber:7},void 0),e.jsxDEV(Ke,{open:U,onClose:ts,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(Je,{children:k==="create"?"Ajouter une nouvelle question":"Modifier la question"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1016,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(t,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,id:"texte",name:"texte",label:"Texte de la question",multiline:!0,rows:2,value:g.texte,onChange:C,helperText:"Formulez une question claire et concise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1023,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1022,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,id:"ponderation",name:"ponderation",label:"Pondération",type:"number",inputProps:{min:0,max:5,step:.1},value:g.ponderation,onChange:C,helperText:"Importance de la question (0 à 5)"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1037,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1036,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(oe,{fullWidth:!0,id:"ordre",name:"ordre",label:"Ordre",type:"number",inputProps:{min:1,step:1},value:g.ordre,onChange:C,helperText:"Position dans le questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1051,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1050,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1021,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1020,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1019,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:ts,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1067,columnNumber:11},void 0),e.jsxDEV(G,{onClick:Ee,variant:"contained",color:"primary",startIcon:e.jsxDEV(Rs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1072,columnNumber:24},void 0),disabled:!g.texte,children:k==="create"?"Ajouter":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1068,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1066,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1015,columnNumber:7},void 0),e.jsxDEV(Ke,{open:H,onClose:je,children:[e.jsxDEV(Je,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1082,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(i,{children:['Êtes-vous sûr de vouloir supprimer le questionnaire "',(A==null?void 0:A.fonction)||"Sans titre"," - ",(A==null?void 0:A.thematique)||"Sans description",'" ? Cette action est irréversible.']},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1084,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1083,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:je,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1090,columnNumber:11},void 0),e.jsxDEV(G,{onClick:ye,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1091,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1089,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1081,columnNumber:7},void 0),e.jsxDEV(Ke,{open:Z,onClose:J,children:[e.jsxDEV(Je,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1099,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(i,{children:['Êtes-vous sûr de vouloir supprimer la question "',(ne==null?void 0:ne.texte)||"Sans texte",'" ? Cette action est irréversible.']},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1101,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1100,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:J,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1107,columnNumber:11},void 0),e.jsxDEV(G,{onClick:me,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1108,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1106,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1098,columnNumber:7},void 0),e.jsxDEV(xr,{open:ie.open,autoHideDuration:6e3,onClose:As,message:ie.message,action:e.jsxDEV(xe,{size:"small",color:"inherit",onClick:As,children:e.jsxDEV(Ea,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1126,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1121,columnNumber:11},void 0),children:e.jsxDEV(he,{onClose:As,severity:ie.severity,sx:{width:"100%"},children:ie.message},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1130,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:1115,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:643,columnNumber:5},void 0)},fi=({label:s,value:n,onChange:r,minDate:l,maxDate:m,disabled:E=!1,fullWidth:p=!0,required:B=!1,helperText:x,textFieldProps:A={}})=>e.jsxDEV(Hr,{dateAdapter:Yr,adapterLocale:Xr,children:e.jsxDEV(Ua,{label:s,value:n,onChange:r,minDate:l,maxDate:m,disabled:E,slotProps:{textField:{fullWidth:p,required:B,helperText:x,...A}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/DataPickerWrapper.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/common/DataPickerWrapper.tsx",lineNumber:38,columnNumber:5},void 0),Pr={nom_application:"",statut:"Projet",type:"Build",hebergement:"Cloud",architecture_logicielle:"MVC",date_mise_en_prod:void 0,editeur:"",language:"",description:""},Ni=()=>{const s=Oe(),[n,r]=a.useState(!0),[l,m]=a.useState(null),[E,p]=a.useState([]),[B,x]=a.useState(!1),[A,_]=a.useState(null),[O,j]=a.useState(Pr),[T,V]=a.useState("create"),[W,R]=a.useState(!1),[M,z]=a.useState(null);a.useEffect(()=>{g()},[]);const g=async()=>{r(!0),m(null);try{const P=await w.get("applications");Array.isArray(P)?p(P):P&&P.data&&Array.isArray(P.data)?p(P.data):(console.warn("Format de réponse inattendu:",P),p([]),m("Format de données inattendu. Impossible de charger les applications."))}catch(P){console.error("Erreur lors du chargement des applications:",P),m("Impossible de charger les applications. Veuillez réessayer plus tard."),p([])}finally{r(!1)}},L=()=>{V("create"),j(Pr),z(null),x(!0)},I=P=>{V("edit"),_(P),j({nom_application:P.nom_application,statut:P.statut,type:P.type,hebergement:P.hebergement,architecture_logicielle:P.architecture_logicielle,date_mise_en_prod:P.date_mise_en_prod,editeur:P.editeur||"",language:P.language||"",description:P.description||""}),P.date_mise_en_prod?z(new Date(P.date_mise_en_prod)):z(null),x(!0)},c=()=>{x(!1),_(null)},U=P=>{const ie=P.target.name,be=P.target.value;j({...O,[ie]:be})},Q=P=>{if(z(P),P){const ie=P.toISOString().split("T")[0];j({...O,date_mise_en_prod:ie})}else j({...O,date_mise_en_prod:void 0})},H=async()=>{try{T==="create"?await w.post("applications",O):T==="edit"&&A&&await w.put(`applications/${A.id_application}`,O),g(),c()}catch(P){console.error("Erreur lors de la sauvegarde de l'application:",P),m("Erreur lors de la sauvegarde de l'application. Veuillez réessayer.")}},Y=P=>{_(P),R(!0)},Z=()=>{R(!1),_(null)},te=async()=>{if(A)try{await w.delete(`applications/${A.id_application}`),g(),Z()}catch(P){console.error("Erreur lors de la suppression de l'application:",P),m("Erreur lors de la suppression de l'application. Veuillez réessayer.")}},ne=P=>{s(`/analyses/calculer/${P.id_application}`)};return n?e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:232,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:231,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[l&&e.jsxDEV(he,{severity:"error",sx:{mb:2},children:l},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:240,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:"Gestion des applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:250,columnNumber:15},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:256,columnNumber:28},void 0),onClick:L,children:"Nouvelle Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:253,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:249,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:248,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:247,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:E.length===0?e.jsxDEV(he,{severity:"info",children:"Aucune application trouvée. Créez votre première application en cliquant sur le bouton ci-dessus."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:268,columnNumber:13},void 0):e.jsxDEV(ke,{component:re,children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:276,columnNumber:21},void 0),e.jsxDEV(o,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:277,columnNumber:21},void 0),e.jsxDEV(o,{children:"Type"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:278,columnNumber:21},void 0),e.jsxDEV(o,{children:"Hébergement"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:279,columnNumber:21},void 0),e.jsxDEV(o,{children:"Architecture"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:280,columnNumber:21},void 0),e.jsxDEV(o,{children:"Date mise en prod."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:281,columnNumber:21},void 0),e.jsxDEV(o,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:282,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:275,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:274,columnNumber:17},void 0),e.jsxDEV(Te,{children:E.map(P=>e.jsxDEV(ce,{hover:!0,children:[e.jsxDEV(o,{children:P.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:288,columnNumber:23},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:P.statut,color:P.statut==="Projet"?"info":"success",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:290,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:289,columnNumber:23},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:P.type,color:P.type==="Build"?"primary":"secondary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:297,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:296,columnNumber:23},void 0),e.jsxDEV(o,{children:P.hebergement},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:303,columnNumber:23},void 0),e.jsxDEV(o,{children:P.architecture_logicielle},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:304,columnNumber:23},void 0),e.jsxDEV(o,{children:P.date_mise_en_prod?new Date(P.date_mise_en_prod).toLocaleDateString("fr-FR"):"Non définie"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:305,columnNumber:23},void 0),e.jsxDEV(o,{children:[e.jsxDEV(xe,{color:"primary",onClick:()=>I(P),title:"Modifier l'application",children:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:316,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:311,columnNumber:25},void 0),e.jsxDEV(xe,{color:"error",onClick:()=>Y(P),title:"Supprimer l'application",children:e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:323,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:318,columnNumber:25},void 0),e.jsxDEV(xe,{color:"info",onClick:()=>ne(P),title:"Calculer le score de maturité",children:e.jsxDEV(Ls,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:330,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:325,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:310,columnNumber:23},void 0)]},P.id_application,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:287,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:285,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:273,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:272,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:266,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:245,columnNumber:7},void 0),e.jsxDEV(Ke,{open:B,onClose:c,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(Je,{children:T==="create"?"Créer une nouvelle application":"Modifier l'application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:344,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(t,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,id:"nom_application",name:"nom_application",label:"Nom de l'application",value:O.nom_application,onChange:U},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:351,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:350,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(Ve,{fullWidth:!0,children:[e.jsxDEV(Se,{id:"statut-label",children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:363,columnNumber:19},void 0),e.jsxDEV(qe,{labelId:"statut-label",id:"statut",name:"statut",value:O.statut,label:"Statut",onChange:U,children:[e.jsxDEV(Ne,{value:"Projet",children:"Projet"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:372,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"Run",children:"Run"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:373,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:364,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:362,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:361,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(Ve,{fullWidth:!0,children:[e.jsxDEV(Se,{id:"type-label",children:"Type"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:379,columnNumber:19},void 0),e.jsxDEV(qe,{labelId:"type-label",id:"type",name:"type",value:O.type,label:"Type",onChange:U,children:[e.jsxDEV(Ne,{value:"Build",children:"Build"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:388,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"Buy",children:"Buy"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:389,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:380,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:378,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:377,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(Ve,{fullWidth:!0,children:[e.jsxDEV(Se,{id:"hebergement-label",children:"Hébergement"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:395,columnNumber:19},void 0),e.jsxDEV(qe,{labelId:"hebergement-label",id:"hebergement",name:"hebergement",value:O.hebergement,label:"Hébergement",onChange:U,children:[e.jsxDEV(Ne,{value:"Cloud",children:"Cloud"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:404,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"Prem",children:"Prem"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:405,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"Hybrid",children:"Hybrid"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:406,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:396,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:394,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:393,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(Ve,{fullWidth:!0,children:[e.jsxDEV(Se,{id:"architecture-label",children:"Architecture"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:412,columnNumber:19},void 0),e.jsxDEV(qe,{labelId:"architecture-label",id:"architecture_logicielle",name:"architecture_logicielle",value:O.architecture_logicielle,label:"Architecture",onChange:U,children:[e.jsxDEV(Ne,{value:"ERP",children:"ERP"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:421,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"Multitenant SAAS",children:"Multitenant SAAS"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:422,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"MVC",children:"MVC"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:423,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"Monolithique",children:"Monolithique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:424,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:413,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:411,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:410,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(fi,{label:"Date de mise en production",value:M,onChange:Q,textFieldProps:{variant:"outlined"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:429,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:428,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(oe,{fullWidth:!0,id:"editeur",name:"editeur",label:"Éditeur",value:O.editeur,onChange:U},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:439,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:438,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(oe,{fullWidth:!0,id:"language",name:"language",label:"Langage principal",value:O.language,onChange:U},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:449,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:448,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(oe,{fullWidth:!0,id:"description",name:"description",label:"Description",multiline:!0,rows:4,value:O.description,onChange:U},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:459,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:458,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:349,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:348,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:347,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:c,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:474,columnNumber:11},void 0),e.jsxDEV(G,{onClick:H,variant:"contained",color:"primary",disabled:!O.nom_application,children:T==="create"?"Créer":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:475,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:473,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:343,columnNumber:7},void 0),e.jsxDEV(Ke,{open:W,onClose:Z,children:[e.jsxDEV(Je,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:488,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(i,{children:[`Êtes-vous sûr de vouloir supprimer l'application "`,A==null?void 0:A.nom_application,'" ? Cette action est irréversible.']},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:490,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:489,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:Z,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:496,columnNumber:11},void 0),e.jsxDEV(G,{onClick:te,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:497,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:495,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:487,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:238,columnNumber:5},void 0)},tr=s=>{const{children:n,value:r,index:l,...m}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==l,id:`organization-tabpanel-${l}`,"aria-labelledby":`organization-tab-${l}`,...m,children:r===l&&e.jsxDEV(t,{sx:{p:3},children:n},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:101,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:93,columnNumber:5},void 0)},vs=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F","#FFBB28","#FF8042","#a4de6c","#d0ed57"],kr=()=>{var g,L,I;const{name:s}=Ts(),n=Oe(),[r,l]=a.useState(!0),[m,E]=a.useState([]),[p,B]=a.useState([]),[x,A]=a.useState([]),[_,O]=a.useState(""),[j,T]=a.useState(0);a.useEffect(()=>{V().then(()=>{s&&(O(s),W(s))})},[s]);const V=async()=>{l(!0);try{const c=await w.get("acteurs"),U=[...new Set(c.data.map(H=>H.organisation))].filter(Boolean),Q=[];for(const H of U)try{const Y=await w.get(`acteurs/organisation/${H}/applications/count`),Z=await w.get(`interpretation/organisation/${H}`),te=Z.data.reduce((P,ie)=>P+ie.scoreGlobal,0),ne=Z.data.length>0?te/Z.data.length:0;Q.push({nom:H,nombre_applications:Y.data.count,nombre_analyses:Z.data.length,score_moyen:ne})}catch(Y){console.error(`Erreur lors de la récupération des statistiques pour ${H}:`,Y)}E(Q),!s&&Q.length>0&&(O(Q[0].nom),W(Q[0].nom))}catch(c){console.error("Erreur lors du chargement des organisations:",c)}finally{l(!1)}},W=async c=>{l(!0);try{const U=await w.get(`interpretation/organisation/${c}`);B(U.data);const Q=await w.get(`interpretation/organisation/${c}/scores-moyens`);A(Q.data),T(0)}catch(U){console.error("Erreur lors du chargement des analyses:",U)}finally{l(!1)}},R=c=>{const U=c.target.value;O(U),n(`/organisations/${U}`)},M=(c,U)=>{T(U)},z=c=>c.map(U=>({thematique:U.thematique,score:U.score,fullMark:5}));return r?e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:222,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:221,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:"Analyse par Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:234,columnNumber:15},void 0),e.jsxDEV(Ve,{sx:{minWidth:200},children:[e.jsxDEV(Se,{id:"organisation-select-label",children:"Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:238,columnNumber:17},void 0),e.jsxDEV(qe,{labelId:"organisation-select-label",id:"organisation-select",value:_,onChange:R,label:"Organisation",children:m.map(c=>e.jsxDEV(Ne,{value:c.nom,children:c.nom},c.nom,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:247,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:237,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:233,columnNumber:13},void 0),_&&e.jsxDEV(d,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{children:[e.jsxDEV(i,{variant:"h6",align:"center",children:((g=m.find(c=>c.nom===_))==null?void 0:g.nombre_applications)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:261,columnNumber:23},void 0),e.jsxDEV(i,{variant:"body2",align:"center",children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:264,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:260,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:259,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:258,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{children:[e.jsxDEV(i,{variant:"h6",align:"center",children:((L=m.find(c=>c.nom===_))==null?void 0:L.nombre_analyses)||0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:273,columnNumber:23},void 0),e.jsxDEV(i,{variant:"body2",align:"center",children:"Analyses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:276,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:272,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:271,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:270,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{children:[e.jsxDEV(i,{variant:"h6",align:"center",children:(((I=m.find(c=>c.nom===_))==null?void 0:I.score_moyen)||0).toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:285,columnNumber:23},void 0),e.jsxDEV(i,{variant:"body2",align:"center",children:"Score Moyen"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:288,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:284,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:283,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:282,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:257,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:232,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:231,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{width:"100%"},children:[e.jsxDEV(hs,{value:j,onChange:M,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[e.jsxDEV(Ae,{label:"Vue d'ensemble"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:309,columnNumber:15},void 0),e.jsxDEV(Ae,{label:"Scores par Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:310,columnNumber:15},void 0),e.jsxDEV(Ae,{label:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:302,columnNumber:13},void 0),e.jsxDEV(tr,{value:j,index:0,children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:"Scores moyens par thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:320,columnNumber:21},void 0),e.jsxDEV(Ce,{children:x.length>0?e.jsxDEV(us,{width:"100%",height:400,children:e.jsxDEV(gr,{outerRadius:150,data:z(x),children:[e.jsxDEV(vr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:325,columnNumber:29},void 0),e.jsxDEV(Mr,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:326,columnNumber:29},void 0),e.jsxDEV(Dr,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:327,columnNumber:29},void 0),e.jsxDEV(Er,{name:"Score",dataKey:"score",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:328,columnNumber:29},void 0),e.jsxDEV(cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:335,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:324,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:323,columnNumber:25},void 0):e.jsxDEV(i,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:339,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:321,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:319,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:318,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:"Scores globaux par application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:350,columnNumber:21},void 0),e.jsxDEV(Ce,{children:p.length>0?e.jsxDEV(us,{width:"100%",height:400,children:e.jsxDEV(ur,{data:p.map(c=>({name:c.nomApplication,score:c.scoreGlobal})),margin:{top:5,right:30,left:20,bottom:100},children:[e.jsxDEV(Gs,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:361,columnNumber:29},void 0),e.jsxDEV(Hs,{dataKey:"name",tick:{angle:-45,textAnchor:"end"},height:100},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:362,columnNumber:29},void 0),e.jsxDEV(Ys,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:367,columnNumber:29},void 0),e.jsxDEV(Fs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:368,columnNumber:29},void 0),e.jsxDEV(cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:369,columnNumber:29},void 0),e.jsxDEV(cr,{dataKey:"score",name:"Score Global",children:p.map((c,U)=>e.jsxDEV(Ws,{fill:vs[U%vs.length]},`cell-${U}`,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:372,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:370,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:354,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:353,columnNumber:25},void 0):e.jsxDEV(i,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:378,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:351,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:349,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:348,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:"Répartition par niveau de maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:389,columnNumber:21},void 0),e.jsxDEV(Ce,{children:p.length>0?e.jsxDEV(e.Fragment,{children:e.jsxDEV(d,{container:!0,spacing:2,children:Array.from(new Set(p.map(c=>c.interpretation.niveau))).map((c,U)=>{const Q=p.filter(Y=>Y.interpretation.niveau===c).length,H=(Q/p.length*100).toFixed(1);return e.jsxDEV(d,{xs:6,md:3,children:e.jsxDEV(pe,{variant:"outlined",children:e.jsxDEV(Ce,{sx:{textAlign:"center"},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:c},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:402,columnNumber:39},void 0),e.jsxDEV(i,{variant:"h4",color:vs[U%vs.length],children:Q},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:405,columnNumber:39},void 0),e.jsxDEV(i,{variant:"body2",color:"textSecondary",children:[H,"% des applications"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:408,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:401,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:400,columnNumber:35},void 0)},c,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:399,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:393,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:392,columnNumber:25},void 0):e.jsxDEV(i,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:419,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:390,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:388,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:387,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:316,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:315,columnNumber:13},void 0),e.jsxDEV(tr,{value:j,index:1,children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:"Scores moyens par thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:435,columnNumber:21},void 0),e.jsxDEV(Ce,{children:x.length>0?e.jsxDEV(ke,{children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:442,columnNumber:33},void 0),e.jsxDEV(o,{children:"Score Moyen"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:443,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:441,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:440,columnNumber:29},void 0),e.jsxDEV(Te,{children:x.map(c=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:c.thematique},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:449,columnNumber:35},void 0),e.jsxDEV(o,{children:e.jsxDEV(t,{display:"flex",alignItems:"center",children:[e.jsxDEV(t,{width:"50px",mr:1,children:c.score.toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:452,columnNumber:39},void 0),e.jsxDEV(t,{flex:1,mr:1,children:e.jsxDEV("div",{style:{height:"10px",width:`${c.score/5*100}%`,backgroundColor:"#8884d8",borderRadius:"5px"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:456,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:455,columnNumber:39},void 0),e.jsxDEV(t,{width:"30px",children:e.jsxDEV(ve,{label:c.score>=4?"A":c.score>=3?"B":c.score>=2?"C":c.score>=1?"D":"E",size:"small",color:c.score>=4?"success":c.score>=3?"info":c.score>=2?"warning":"error"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:464,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:463,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:451,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:450,columnNumber:35},void 0)]},c.thematique,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:448,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:446,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:439,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:438,columnNumber:25},void 0):e.jsxDEV(i,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:484,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:436,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:434,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:433,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:"Détail par application et thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:495,columnNumber:21},void 0),e.jsxDEV(Ce,{children:x.length>0?e.jsxDEV(ke,{sx:{maxHeight:440},children:e.jsxDEV(Re,{stickyHeader:!0,children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:502,columnNumber:33},void 0),e.jsxDEV(o,{children:"Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:503,columnNumber:33},void 0),e.jsxDEV(o,{children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:504,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:501,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:500,columnNumber:29},void 0),e.jsxDEV(Te,{children:p.flatMap(c=>c.thematiques.map(U=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:c.nomApplication},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:511,columnNumber:37},void 0),e.jsxDEV(o,{children:U.thematique},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:512,columnNumber:37},void 0),e.jsxDEV(o,{children:e.jsxDEV(t,{display:"flex",alignItems:"center",children:[e.jsxDEV(t,{width:"30px",mr:1,children:U.score.toFixed(1)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:515,columnNumber:41},void 0),e.jsxDEV(t,{flex:1,children:e.jsxDEV("div",{style:{height:"8px",width:`${U.score/5*100}%`,backgroundColor:"#82ca9d",borderRadius:"4px"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:519,columnNumber:43},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:518,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:514,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:513,columnNumber:37},void 0)]},`${c.idAnalyse}-${U.thematique}`,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:510,columnNumber:35},void 0)))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:507,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:499,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:498,columnNumber:25},void 0):e.jsxDEV(i,{variant:"body1",align:"center",children:"Aucune donnée disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:535,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:496,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:494,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:493,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:431,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:430,columnNumber:13},void 0),e.jsxDEV(tr,{value:j,index:2,children:e.jsxDEV(d,{container:!0,spacing:3,children:e.jsxDEV(d,{xs:12,children:e.jsxDEV(ke,{component:re,children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:554,columnNumber:27},void 0),e.jsxDEV(o,{children:"Score Global"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:555,columnNumber:27},void 0),e.jsxDEV(o,{children:"Niveau de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:556,columnNumber:27},void 0),e.jsxDEV(o,{children:"Date d'Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:557,columnNumber:27},void 0),e.jsxDEV(o,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:558,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:553,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:552,columnNumber:23},void 0),e.jsxDEV(Te,{children:p.map(c=>e.jsxDEV(ce,{hover:!0,children:[e.jsxDEV(o,{children:c.nomApplication},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:564,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(t,{display:"flex",alignItems:"center",children:[e.jsxDEV(t,{width:"50px",mr:1,children:c.scoreGlobal.toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:567,columnNumber:33},void 0),e.jsxDEV(t,{flex:1,children:e.jsxDEV("div",{style:{height:"10px",width:`${c.scoreGlobal/5*100}%`,backgroundColor:vs[p.indexOf(c)%vs.length],borderRadius:"5px"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:571,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:570,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:566,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:565,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:c.interpretation.niveau,color:c.scoreGlobal>=4?"success":c.scoreGlobal>=3?"info":c.scoreGlobal>=2?"warning":"error"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:581,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:580,columnNumber:29},void 0),e.jsxDEV(o,{children:new Date(c.dateAnalyse).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:591,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(G,{variant:"outlined",size:"small",onClick:()=>n(`/analyses-interpretations/${c.idAnalyse}`),children:"Détails"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:595,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:594,columnNumber:29},void 0)]},c.idAnalyse,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:563,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:561,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:551,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:550,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:549,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:547,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:546,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:301,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:300,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:229,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:228,columnNumber:5},void 0)},$s=s=>{const n=typeof s.score_global=="number"?s.score_global:typeof s.score_global=="string"?parseFloat(s.score_global):typeof s.scoreGlobal=="number"?s.scoreGlobal:typeof s.scoreGlobal=="string"?parseFloat(s.scoreGlobal):null,r=Array.isArray(s.thematiques)?s.thematiques.map(l=>({...l,score:typeof l.score=="number"?l.score:typeof l.score=="string"?parseFloat(l.score):0,nombre_reponses:typeof l.nombre_reponses=="number"?l.nombre_reponses:typeof l.nombre_reponses=="string"?parseInt(l.nombre_reponses,10):0})):[];return{...s,nom_application:s.nom_application||s.nom||"Application inconnue",nom:s.nom||s.nom_application||"Application inconnue",score_global:n,scoreGlobal:n,thematiques:r}},xi=s=>{try{return new Date(s).toLocaleDateString("fr-FR")}catch{return"Date inconnue"}},Ds=s=>s.includes("5")||s.includes("Optimisé")||s.includes("Avancé")||s.includes("4")||s.includes("Géré")?"success":s.includes("3")||s.includes("Mesuré")||s.includes("Intermédiaire")?"info":s.includes("2")||s.includes("Défini")?"warning":s.includes("1")||s.includes("Initial")||s.includes("Faible")?"error":s.includes("Excellent")?"success":s.includes("Bon")?"info":s.includes("Moyen")?"warning":s.includes("Faible")?"error":"default",ra=({title:s,value:n,variant:r="primary",size:l="md",subtitle:m,trend:E})=>{const p=()=>{switch(r){case"primary":return{bg:"bg-primary-50",text:"text-primary-900",border:"border-primary-200"};case"secondary":return{bg:"bg-secondary-50",text:"text-secondary-900",border:"border-secondary-200"};case"accent1":return{bg:"bg-accent1-light bg-opacity-30",text:"text-accent1",border:"border-accent1-light"};case"accent2":return{bg:"bg-accent2-light bg-opacity-30",text:"text-accent2",border:"border-accent2-light"};case"accent3":return{bg:"bg-accent3-light bg-opacity-30",text:"text-accent3",border:"border-accent3-light"};case"accent4":return{bg:"bg-accent4-light bg-opacity-30",text:"text-accent4",border:"border-accent4-light"};default:return{bg:"bg-gray-50",text:"text-gray-900",border:"border-gray-200"}}},B=()=>{switch(l){case"sm":return"p-3";case"lg":return"p-5";default:return"p-4"}},x=p(),A=B();return e.jsxDEV("div",{className:`rounded-lg border ${x.bg} ${x.border} ${A} shadow-card`,children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:90,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("h3",{className:`text-2xl font-bold ${x.text}`,children:n},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:92,columnNumber:11},void 0),m&&e.jsxDEV("p",{className:"ml-2 text-sm text-gray-500",children:m},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:93,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:91,columnNumber:9},void 0),E&&e.jsxDEV("p",{className:"mt-1 flex items-center text-sm",children:[e.jsxDEV("span",{className:E.isPositive?"text-success-500":"text-danger-500",children:[E.isPositive?"↑":"↓"," ",Math.abs(E.value),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:98,columnNumber:13},void 0),E.label&&e.jsxDEV("span",{className:"text-gray-500 ml-1",children:E.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:101,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:89,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:88,columnNumber:5},void 0)},pi=s=>s>=4?"success":s>=3?"info":s>=2?"warning":"error",Ci=s=>s>=4?"Optimisé":s>=3?"Mesuré":s>=2?"Défini":s>=1?"Initial":"Non défini",hi=({entrepriseId:s})=>{const n=Oe(),[r,l]=a.useState(!0),[m,E]=a.useState(null),[p,B]=a.useState(null),[x,A]=a.useState([]),[_,O]=a.useState([]),[j,T]=a.useState(!1),V=async()=>{if(s){l(!0),E(null);try{const[I,c,U]=await Promise.all([w.get(`/entreprises/${s}`),w.get(`/analyses/entreprise/${s}`),w.get(`/historique/entreprise/${s}`)]);B(I),A(Array.isArray(c)?c:c.data||[]),O(U.historique_global||[])}catch(I){console.error("Erreur lors de la récupération des données:",I),E("Impossible de charger les données.")}finally{l(!1)}}},W=async()=>{if(s){T(!0),E(null);try{await w.post(`/entreprises/${s}/calculer`),await V()}catch(I){console.error("Erreur lors du recalcul:",I),E("Impossible de recalculer le score.")}finally{T(!1)}}};a.useEffect(()=>{V()},[s]);const R=()=>_.length?[..._].sort((I,c)=>new Date(I.date_mesure)-new Date(c.date_mesure)).map(I=>({date:new Date(I.date_mesure).toLocaleDateString("fr-FR"),score:I.score_global||0})):[];if(r)return e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:116,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:115,columnNumber:7},void 0);if(m)return e.jsxDEV(he,{severity:"error",sx:{mb:2},children:m},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:122,columnNumber:12},void 0);if(!p)return e.jsxDEV(he,{severity:"info",children:"Aucune entreprise sélectionnée."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:126,columnNumber:12},void 0);const M=p.score_global||0,z=Ci(M),g=pi(M),L=R();return e.jsxDEV(pe,{variant:"outlined",sx:{mb:3},children:[e.jsxDEV(Ge,{title:e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(i,{variant:"h6",children:["Scores de maturité - ",p.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV(Ie,{title:"Recalculer le score",children:e.jsxDEV(G,{size:"small",startIcon:e.jsxDEV(pr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:143,columnNumber:28},void 0),onClick:W,disabled:j,children:j?"Calcul en cours...":"Recalculer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:141,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:140,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:136,columnNumber:7},void 0),e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:153,columnNumber:7},void 0),e.jsxDEV(Ce,{children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{item:!0,xs:12,md:4,children:e.jsxDEV(ra,{title:"Score Global",value:typeof M=="number"?M.toFixed(2):"0.00",variant:"primary",subtitle:e.jsxDEV(ve,{label:z,color:g},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:161,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:157,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:156,columnNumber:11},void 0),e.jsxDEV(d,{item:!0,xs:12,md:8,children:L.length>1?e.jsxDEV(t,{height:250,children:e.jsxDEV(us,{width:"100%",height:"100%",children:e.jsxDEV(Za,{data:L,children:[e.jsxDEV(Gs,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:170,columnNumber:21},void 0),e.jsxDEV(Hs,{dataKey:"date"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:171,columnNumber:21},void 0),e.jsxDEV(Ys,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:172,columnNumber:21},void 0),e.jsxDEV(Fs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:173,columnNumber:21},void 0),e.jsxDEV(cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:174,columnNumber:21},void 0),e.jsxDEV(ei,{type:"monotone",dataKey:"score",stroke:"#0B4E87",name:"Score global",activeDot:{r:8,fill:"#0B4E87"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:175,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:169,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:168,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:167,columnNumber:15},void 0):e.jsxDEV(t,{display:"flex",alignItems:"center",justifyContent:"center",height:250,children:e.jsxDEV(i,{color:"text.secondary",children:"Pas assez de données historiques."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:187,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:186,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:165,columnNumber:11},void 0),e.jsxDEV(d,{item:!0,xs:12,children:[e.jsxDEV(ze,{sx:{my:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:195,columnNumber:13},void 0),e.jsxDEV(i,{variant:"subtitle1",gutterBottom:!0,children:["Analyses des applications (",x.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:196,columnNumber:13},void 0),x.length>0?e.jsxDEV(ke,{component:re,children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:204,columnNumber:23},void 0),e.jsxDEV(o,{children:"Score Global"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:205,columnNumber:23},void 0),e.jsxDEV(o,{children:"Date d'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:206,columnNumber:23},void 0),e.jsxDEV(o,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:207,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:203,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:202,columnNumber:19},void 0),e.jsxDEV(Te,{children:x.map(I=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:I.nom_application||"Non spécifié"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:213,columnNumber:25},void 0),e.jsxDEV(o,{children:typeof I.score_global=="number"?I.score_global.toFixed(2):"0.00"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:214,columnNumber:25},void 0),e.jsxDEV(o,{children:new Date(I.date_analyse).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:217,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(G,{size:"small",onClick:()=>n(`/analyses-interpretations/${I.id_application}`),children:"Détails"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:221,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:220,columnNumber:25},void 0)]},I.id_analyse,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:212,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:210,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:201,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:200,columnNumber:15},void 0):e.jsxDEV(he,{severity:"info",children:"Aucune analyse disponible pour cette entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:194,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:155,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:154,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:135,columnNumber:5},void 0)},yi=s=>{const{children:n,value:r,index:l,...m}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==l,id:`analysis-tabpanel-${l}`,"aria-labelledby":`analysis-tab-${l}`,...m,children:r===l&&e.jsxDEV(t,{sx:{p:3},children:n},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:71,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:64,columnNumber:5},void 0)},gi=({loading:s,error:n,applications:r,entreprises:l,selectedApplication:m,selectedEntreprise:E,analyses:p,selectedAnalyse:B,interpretation:x,historique:A,filteredHistorique:_,tabValue:O,selectedThematique:j,openDialog:T,newAnalyseData:V,interpretationsSummary:W,page:R,rowsPerPage:M,order:z,orderBy:g,searchTerm:L,filters:I,showFilters:c,uniqueThematiques:U,handleApplicationChange:Q,handleEntrepriseChange:H,handleAnalyseChange:Y,handleThematiqueChange:Z,handleTabChange:te,handleOpenNewAnalyseDialog:ne,handleCloseDialog:P,addThematique:ie,updateThematique:be,removeThematique:u,createNewAnalyse:$,calculateNewAnalyse:k,getScoreGlobal:v,prepareHistoriqueData:h,handleChangePage:N,handleChangeRowsPerPage:f,handleRequestSort:y,getFilteredData:S,getUniqueValues:K,setSearchTerm:b,setFilters:F,setShowFilters:ee,fetchAllInterpretations:ae,fetchAnalysesByApplication:le,fetchAnalysesByEntreprise:je,fetchHistoriqueByEntreprise:ye})=>{var Ee,es;const[ue,Be]=a.useState(m?"application":E?"entreprise":"application"),[We,ss]=a.useState({open:!1,message:"",severity:"success"});a.useEffect(()=>{m&&!E?Be("application"):E&&!m&&Be("entreprise")},[m,E]);const ts=()=>{if(ue==="application"){if(Be("entreprise"),m){const J=r.find(me=>me.id_application===m);J!=null&&J.id_entreprise&&H({target:{value:J.id_entreprise}})}}else if(Be("application"),E&&!m){const J=r.filter(me=>me.id_entreprise===E);J.length>0&&Q({target:{value:J[0].id_application}})}},C=({active:J,payload:me})=>J&&(me!=null&&me.length)?e.jsxDEV(re,{sx:{p:1},children:[e.jsxDEV(i,{children:`Thématique: ${me[0].payload.thematique}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:162,columnNumber:11},void 0),e.jsxDEV(i,{children:`Score: ${me[0].value}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:161,columnNumber:9},void 0):null;return s?e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:173,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:172,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[n&&e.jsxDEV(he,{severity:"error",sx:{mb:2},children:n},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:180,columnNumber:17},void 0),e.jsxDEV(xr,{open:We.open,autoHideDuration:6e3,onClose:()=>ss({...We,open:!1}),children:e.jsxDEV(he,{severity:We.severity,children:We.message},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:186,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:181,columnNumber:7},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:"Analyses et Interprétations de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV(t,{children:[e.jsxDEV(ja,{value:ue,exclusive:!0,onChange:(J,me)=>me&&ts(),color:"primary",sx:{mr:2},children:[e.jsxDEV(Ar,{value:"application",startIcon:e.jsxDEV(Va,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:204,columnNumber:64},void 0),children:"Vue Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:204,columnNumber:19},void 0),e.jsxDEV(Ar,{value:"entreprise",startIcon:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:207,columnNumber:63},void 0),children:"Vue Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:207,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:197,columnNumber:17},void 0),ue==="application"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(G,{variant:"outlined",color:"primary",onClick:ne,sx:{mr:1},children:"Nouvelle Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:213,columnNumber:21},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",onClick:k,startIcon:e.jsxDEV(mr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:225,columnNumber:34},void 0),children:"Calculer Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:221,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:212,columnNumber:19},void 0),ue==="entreprise"&&E&&e.jsxDEV(G,{variant:"contained",color:"primary",onClick:()=>je(E),startIcon:e.jsxDEV(mr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:236,columnNumber:32},void 0),children:"Calculer Scores"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:232,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:196,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV(ks,{options:l,getOptionLabel:J=>J.nom_entreprise,value:l.find(J=>J.id_entreprise===E)||null,onChange:(J,me)=>H({target:{value:(me==null?void 0:me.id_entreprise)||""}}),renderInput:J=>e.jsxDEV(oe,{...J,label:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:249,columnNumber:40},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:244,columnNumber:13},void 0),(ue==="application"||E)&&e.jsxDEV(ks,{options:r.filter(J=>!E||J.id_entreprise===E),getOptionLabel:J=>J.nom_application,value:r.find(J=>J.id_application===m)||null,onChange:(J,me)=>Q({target:{value:(me==null?void 0:me.id_application)||""}}),renderInput:J=>e.jsxDEV(oe,{...J,label:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:259,columnNumber:42},void 0),disabled:s},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:254,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:191,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:190,columnNumber:9},void 0),ue==="entreprise"&&E?e.jsxDEV(d,{xs:12,children:e.jsxDEV(hi,{entrepriseId:E},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:268,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:267,columnNumber:11},void 0):e.jsxDEV(e.Fragment,{children:[B&&e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(ra,{title:"Score Global",value:v(),variant:"primary",subtitle:"Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:274,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:273,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{width:"100%",mb:2},children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,children:[e.jsxDEV(i,{variant:"h6",children:"Récapitulatif des analyses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:286,columnNumber:19},void 0),e.jsxDEV(t,{display:"flex",alignItems:"center",children:[e.jsxDEV(oe,{size:"small",placeholder:"Rechercher...",value:L,onChange:J=>b(J.target.value),InputProps:{startAdornment:e.jsxDEV(Gr,{position:"start",children:e.jsxDEV(Nr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:296,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:295,columnNumber:27},void 0)},sx:{mr:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:288,columnNumber:21},void 0),e.jsxDEV(G,{startIcon:e.jsxDEV(Aa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:302,columnNumber:40},void 0),onClick:()=>ee(!0),children:"Filtres"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:302,columnNumber:21},void 0),e.jsxDEV(xe,{onClick:ae,children:e.jsxDEV(pr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:306,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:305,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:287,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:285,columnNumber:17},void 0),e.jsxDEV(Br,{anchor:"right",open:c,onClose:()=>ee(!1),children:e.jsxDEV(t,{sx:{width:300,p:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Filtres"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:313,columnNumber:21},void 0),e.jsxDEV(ks,{options:K("nom_application"),value:I.application,onChange:(J,me)=>F({...I,application:me||""}),renderInput:J=>e.jsxDEV(oe,{...J,label:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:318,columnNumber:48},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:314,columnNumber:21},void 0),e.jsxDEV(ks,{options:K("niveau_global"),value:I.niveau,onChange:(J,me)=>F({...I,niveau:me||""}),renderInput:J=>e.jsxDEV(oe,{...J,label:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:325,columnNumber:48},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:321,columnNumber:21},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Score min",type:"number",value:I.scoreMin,onChange:J=>F({...I,scoreMin:J.target.value}),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:328,columnNumber:21},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Score max",type:"number",value:I.scoreMax,onChange:J=>F({...I,scoreMax:J.target.value}),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:336,columnNumber:21},void 0),e.jsxDEV(G,{onClick:()=>F({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""}),children:"Réinitialiser"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:344,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:312,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:311,columnNumber:17},void 0),e.jsxDEV(ke,{sx:{maxHeight:440},children:e.jsxDEV(Re,{stickyHeader:!0,children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:e.jsxDEV(rs,{active:g==="nom_application",direction:g==="nom_application"?z:"asc",onClick:()=>y("nom_application"),children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:357,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:356,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(rs,{active:g==="id_entreprise",direction:g==="id_entreprise"?z:"asc",onClick:()=>y("id_entreprise"),children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:366,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:365,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(rs,{active:g==="score_global",direction:g==="score_global"?z:"asc",onClick:()=>y("score_global"),children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:375,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:374,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(rs,{active:g==="niveau_global",direction:g==="niveau_global"?z:"asc",onClick:()=>y("niveau_global"),children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:384,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:383,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(rs,{active:g==="date_analyse",direction:g==="date_analyse"?z:"asc",onClick:()=>y("date_analyse"),children:"Date"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:393,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:392,columnNumber:25},void 0),e.jsxDEV(o,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:401,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:355,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:354,columnNumber:21},void 0),e.jsxDEV(Te,{children:[S().map(J=>{const me=l.find(os=>os.id_entreprise===J.id_entreprise),Qe=me?me.nom_entreprise:"Non spécifiée";return e.jsxDEV(ce,{hover:!0,selected:m===J.id_application,onClick:()=>le(J.id_application),sx:{cursor:"pointer"},children:[e.jsxDEV(o,{children:J.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:416,columnNumber:29},void 0),e.jsxDEV(o,{children:Qe},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:417,columnNumber:29},void 0),e.jsxDEV(o,{children:typeof J.score_global=="number"?J.score_global.toFixed(2):"0.00"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:418,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:J.niveau_global,color:Ds(J.niveau_global),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:424,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:423,columnNumber:29},void 0),e.jsxDEV(o,{children:xi(J.date_analyse)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:430,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(G,{variant:"outlined",size:"small",color:m===J.id_application?"secondary":"primary",onClick:os=>{os.stopPropagation(),le(J.id_application)},children:m===J.id_application?"Sélectionnée":"Sélectionner"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:432,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:431,columnNumber:29},void 0)]},J.id_analyse,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:409,columnNumber:27},void 0)}),S().length===0&&e.jsxDEV(ce,{children:e.jsxDEV(o,{colSpan:6,align:"center",children:"Aucune analyse trouvée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:449,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:448,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:404,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:353,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:352,columnNumber:17},void 0),e.jsxDEV(Kr,{rowsPerPageOptions:[5,10,25,50],component:"div",count:W.length,rowsPerPage:M,page:R,onPageChange:N,onRowsPerPageChange:f,labelRowsPerPage:"Lignes par page:",labelDisplayedRows:({from:J,to:me,count:Qe})=>`${J}-${me} sur ${Qe}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:458,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:284,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:283,columnNumber:13},void 0),B&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:"Répartition par Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:476,columnNumber:21},void 0),e.jsxDEV(Ce,{children:((Ee=B.thematiques)==null?void 0:Ee.length)>0?e.jsxDEV(us,{width:"100%",height:350,children:e.jsxDEV(gr,{outerRadius:150,data:B.thematiques.map(J=>({thematique:J.thematique,score:J.score||0,fullMark:5})),children:[e.jsxDEV(vr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:488,columnNumber:29},void 0),e.jsxDEV(Mr,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:489,columnNumber:29},void 0),e.jsxDEV(Dr,{angle:30,domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:490,columnNumber:29},void 0),e.jsxDEV(Er,{name:"Score",dataKey:"score",stroke:"#0B4E87",fill:"#0B4E87",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:491,columnNumber:29},void 0),e.jsxDEV(cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:498,columnNumber:29},void 0),e.jsxDEV(RechartsTooltip,{content:e.jsxDEV(C,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:499,columnNumber:55},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:499,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:480,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:479,columnNumber:25},void 0):e.jsxDEV(i,{align:"center",children:"Aucune donnée de thématique disponible"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:503,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:477,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:475,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:474,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{width:"100%"},children:[e.jsxDEV(hs,{value:O,onChange:te,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[e.jsxDEV(Ae,{label:"Interprétation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:518,columnNumber:23},void 0),e.jsxDEV(Ae,{label:"Détails par Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:519,columnNumber:23},void 0),e.jsxDEV(Ae,{label:"Historique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:520,columnNumber:23},void 0),e.jsxDEV(Ae,{label:"Analyses Précédentes"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:521,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:511,columnNumber:21},void 0),e.jsxDEV(yi,{value:O,index:0,children:x?e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:"Niveau de Maturité",subheader:x.niveau,action:e.jsxDEV(ve,{label:x.niveau,color:Ds(x.niveau),size:"medium"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:533,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:529,columnNumber:31},void 0),e.jsxDEV(Ce,{children:e.jsxDEV(i,{variant:"body1",paragraph:!0,children:x.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:541,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:540,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:528,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:527,columnNumber:27},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:"Recommandations"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:549,columnNumber:31},void 0),e.jsxDEV(Ce,{children:e.jsxDEV(i,{variant:"body1",paragraph:!0,children:x.recommandations},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:551,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:550,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:548,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:547,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:526,columnNumber:25},void 0):e.jsxDEV(he,{severity:"info",children:"Aucune interprétation disponible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:559,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:524,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:510,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:509,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:473,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:271,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:189,columnNumber:7},void 0),e.jsxDEV(Ke,{open:T,onClose:P,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(Je,{children:"Créer une nouvelle analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:574,columnNumber:9},void 0),e.jsxDEV(Xe,{children:[e.jsxDEV(i,{variant:"subtitle1",gutterBottom:!0,children:["Application: ",((es=r.find(J=>J.id_application===m))==null?void 0:es.nom_application)||"Non sélectionnée"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:576,columnNumber:11},void 0),e.jsxDEV(t,{sx:{mt:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Thématiques et Scores"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:580,columnNumber:13},void 0),V.thematiques.map((J,me)=>e.jsxDEV(d,{container:!0,spacing:2,sx:{mb:2},children:[e.jsxDEV(d,{xs:5,children:e.jsxDEV(oe,{fullWidth:!0,label:"Thématique",value:J.thematique,onChange:Qe=>be(me,"thematique",Qe.target.value)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:584,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:583,columnNumber:17},void 0),e.jsxDEV(d,{xs:3,children:e.jsxDEV(oe,{fullWidth:!0,type:"number",label:"Score",value:J.score,inputProps:{min:0,max:5,step:.1},onChange:Qe=>be(me,"score",parseFloat(Qe.target.value))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:592,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:591,columnNumber:17},void 0),e.jsxDEV(d,{xs:3,children:e.jsxDEV(oe,{fullWidth:!0,type:"number",label:"Nombre de réponses",value:J.nombre_reponses,inputProps:{min:0,step:1},onChange:Qe=>be(me,"nombre_reponses",parseInt(Qe.target.value))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:602,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:601,columnNumber:17},void 0),e.jsxDEV(d,{xs:1,children:e.jsxDEV(G,{variant:"outlined",color:"error",onClick:()=>u(me),sx:{height:"100%"},children:"X"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:612,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:611,columnNumber:17},void 0)]},me,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:582,columnNumber:15},void 0)),e.jsxDEV(G,{variant:"outlined",onClick:ie,sx:{mt:1},children:"Ajouter une thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:623,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:579,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:575,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:P,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:629,columnNumber:11},void 0),e.jsxDEV(G,{onClick:()=>{$().then(()=>ss({open:!0,message:"Analyse créée avec succès",severity:"success"})).catch(()=>ss({open:!0,message:"Erreur lors de la création",severity:"error"}))},variant:"contained",color:"primary",disabled:V.thematiques.length===0,children:"Créer l'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:630,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:628,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:573,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:179,columnNumber:5},void 0)},Or=()=>{const{id:s}=Ts();Oe();const[n,r]=a.useState(!0),[l,m]=a.useState(null),[E,p]=a.useState([]),[B,x]=a.useState(""),[A,_]=a.useState([]),[O,j]=a.useState(null),[T,V]=a.useState(null),[W,R]=a.useState([]),[M,z]=a.useState([]),[g,L]=a.useState(""),[I,c]=a.useState(0),[U,Q]=a.useState(""),[H,Y]=a.useState(!1),[Z,te]=a.useState({id_application:"",thematiques:[]}),[ne,P]=a.useState([]),[ie,be]=a.useState(0),[u,$]=a.useState(10),[k,v]=a.useState("desc"),[h,N]=a.useState("date_analyse"),[f,y]=a.useState(""),[S,K]=a.useState({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""}),[b,F]=a.useState(!1),ee=U?W.filter(X=>X.thematique===U):W,ae=[...new Set(W.map(X=>X.thematique))],le=async()=>{try{r(!0),m(null);const X=await w.get("interpretations"),q=await w.get("applications/entreprise-mapping");if(Array.isArray(X)){let de=X;if(q&&typeof q=="object"){const fe={};Array.isArray(q)?q.forEach(Fe=>{fe[Fe.id_application]=Fe.id_entreprise}):Object.keys(q).forEach(Fe=>{fe[Fe]=q[Fe]}),de=de.map(Fe=>({...Fe,id_entreprise:Fe.id_entreprise||fe[Fe.id_application]||"",organisation:Fe.organisation||"DSIN"}))}else de=de.map(fe=>({...fe,id_entreprise:fe.id_entreprise||"",organisation:fe.organisation||"DSIN"}));P(de),console.log(`Chargement de ${de.length} interprétations`)}else console.warn("Format de réponse inattendu pour les interprétations:",X),P([])}catch(X){console.error("Erreur lors du chargement des interprétations:",X),m("Impossible de charger les interprétations"),P([])}finally{r(!1)}};a.useEffect(()=>{(async()=>{try{r(!0);const[q,de]=await Promise.all([w.get("applications"),w.get("entreprises")]);Array.isArray(q)?p(q):(m("Format de réponse inattendu pour les applications"),p([])),Array.isArray(de)?z(de):(m("Format de réponse inattendu pour les entreprises"),z([])),await le(),L(""),x("")}catch(q){console.error("Erreur lors du chargement des données initiales:",q),m("Impossible de charger les données initiales")}finally{r(!1)}})()},[]);const je=X=>{const q=X.target.value;x(q),Be(q)},ye=async X=>{try{const q=await w.get(`historique/entreprise/${X}`);if(Array.isArray(q)){R(q);const de=[...new Set(q.map(fe=>fe.thematique))];console.log(`${de.length} thématiques uniques trouvées dans l'historique de l'entreprise ${X}`),U&&!de.includes(U)&&Q("")}else console.warn("Format de réponse inattendu pour l'historique:",q),R([])}catch(q){console.error("Erreur lors du chargement de l'historique pour l'entreprise:",q),R([])}},ue=async X=>{r(!0),m(null);try{const q=await w.get(`analyses/entreprise/${X}`);if(q&&typeof q=="object"){if(console.log("Données d'entreprise reçues:",q),q.analyses&&Array.isArray(q.analyses)){const de=q.analyses.map($s);if(_(de),de.length>0){const fe=de[0];j(fe),We(fe.id_analyse)}else j(null),V(null)}else console.warn("Aucune analyse trouvée dans la réponse de l'API pour l'entreprise:",X),_([]),j(null),V(null);q.applications&&Array.isArray(q.applications)&&console.log(`${q.applications.length} applications trouvées pour l'entreprise ${X}`)}else if(Array.isArray(q)){const de=q.map($s);if(_(de),de.length>0){const fe=de[0];j(fe),We(fe.id_analyse)}else j(null),V(null)}else console.warn("Format de réponse inattendu pour les analyses:",q),_([]),j(null),V(null)}catch(q){console.error("Erreur lors du chargement des analyses pour l'entreprise:",q),m("Impossible de charger les analyses pour cette entreprise"),_([]),j(null)}finally{r(!1)}},Be=async X=>{r(!0),m(null);try{const q=await w.get(`analyses/application/${X}`);if(Array.isArray(q)){const de=q.map($s);if(_(de),de.length>0){const fe=de[0];j(fe),We(fe.id_analyse),ss(X)}else j(null),V(null),R([])}else console.warn("Format de réponse inattendu pour les analyses:",q),_([]),j(null),V(null),R([])}catch(q){console.error("Erreur lors du chargement des analyses:",q),m("Impossible de charger les analyses"),_([]),j(null)}finally{r(!1)}},We=async X=>{try{const q=await w.get(`interpretations/analyse/${X}`);if(q&&typeof q=="object"){const de={niveau:q.niveau||"Non évalué",description:q.description||"Aucune description disponible",recommandations:q.recommandations||"Aucune recommandation disponible",score:q.score||0};V(de)}else console.warn("Format de réponse inattendu pour l'interprétation:",q),V(null)}catch(q){console.error("Erreur lors du chargement de l'interprétation:",q),V(null)}},ss=async X=>{try{const q=await w.get(`historique/application/${X}`);Array.isArray(q)?R(q):(console.warn("Format de réponse inattendu pour l'historique:",q),R([]))}catch(q){console.error("Erreur lors du chargement de l'historique:",q),R([])}},ts=X=>{const q=X.target.value;if(L(q||""),j(null),V(null),q){r(!0),ue(q),ye(q);const de=ne.filter(fe=>fe.id_entreprise===q);console.log(`Filtre entreprise appliqué: ${q}, ${de.length} résultats trouvés`),be(0)}else le(),R([]),x("");K({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""})},C=X=>{const q=$s(X);j(q),We(q.id_analyse)},Ee=X=>{Q(X.target.value)},es=(X,q)=>{c(q)},J=()=>{te({id_application:B,thematiques:[]}),Y(!0)},me=()=>{Y(!1)},Qe=()=>{te({...Z,thematiques:[...Z.thematiques,{thematique:"",score:0,nombre_reponses:0}]})},os=(X,q,de)=>{const fe=[...Z.thematiques];fe[X]={...fe[X],[q]:de},te({...Z,thematiques:fe})},De=X=>{const q=Z.thematiques.filter((de,fe)=>fe!==X);te({...Z,thematiques:q})},As=async()=>{try{await w.post("analyses",Z),Be(B),le(),me()}catch(X){console.error("Erreur lors de la création de l'analyse:",X),m("Erreur lors de la création de l'analyse")}},rr=async()=>{try{await w.post(`analyses/calculer/${B}`),Be(B),le()}catch(X){console.error("Erreur lors du calcul de l'analyse:",X),m("Erreur lors du calcul de l'analyse")}},D=()=>ee.length===0?[]:[...ee].sort((q,de)=>{try{return new Date(q.date_mesure).getTime()-new Date(de.date_mesure).getTime()}catch(fe){return console.error("Erreur lors du tri des données historiques:",fe),0}}).map(q=>{try{return{date:new Date(q.date_mesure).toLocaleDateString("fr-FR"),score:q.score,thematique:q.thematique}}catch(de){return console.error("Erreur lors de la préparation des données historiques:",de),{date:"Date inconnue",score:q.score||0,thematique:q.thematique||"Inconnue"}}}),se=()=>{if(!O)return"N/A";const X=O.score_global!==void 0?O.score_global:O.scoreGlobal!==void 0?O.scoreGlobal:null;return X!==null?X.toFixed(2):"N/A"},Me=(X,q)=>{be(q)},Pe=X=>{$(parseInt(X.target.value,10)),be(0)},$e=X=>{v(h===X&&k==="asc"?"desc":"asc"),N(X)},ls=()=>{let X=[...ne];return g&&(X=X.filter(q=>q.id_entreprise===g),console.log(`Filtré par entreprise ${g}: ${X.length} résultats`)),X=X.filter(q=>{var _s,Ur,jr;const de=f.toLowerCase(),fe=((_s=q.nom_application)==null?void 0:_s.toLowerCase().includes(de))||!1,Fe=((Ur=q.niveau_global)==null?void 0:Ur.toLowerCase().includes(de))||!1,Ps=((jr=q.organisation)==null?void 0:jr.toLowerCase().includes(de))||!1;return!(f&&!fe&&!Fe&&!Ps||S.application&&q.nom_application!==S.application||S.niveau&&q.niveau_global!==S.niveau||S.organisation&&q.organisation!==S.organisation||S.scoreMin&&typeof q.score_global=="number"&&q.score_global<parseFloat(S.scoreMin)||S.scoreMax&&typeof q.score_global=="number"&&q.score_global>parseFloat(S.scoreMax))}),X.sort((q,de)=>{const fe=q[h],Fe=de[h];if(typeof fe=="number"&&typeof Fe=="number")return k==="asc"?fe-Fe:Fe-fe;const Ps=String(fe||""),_s=String(Fe||"");return k==="asc"?Ps.localeCompare(_s):_s.localeCompare(Ps)}),X.slice(ie*u,ie*u+u)},bs=X=>[...new Set(ne.map(q=>q[X]))].filter(Boolean);return e.jsxDEV(gi,{loading:n,error:l,applications:E,entreprises:M,selectedApplication:B,selectedEntreprise:g,analyses:A,selectedAnalyse:O,interpretation:T,historique:W,filteredHistorique:ee,tabValue:I,selectedThematique:U,openDialog:H,newAnalyseData:Z,interpretationsSummary:ne,page:ie,rowsPerPage:u,order:k,orderBy:h,searchTerm:f,filters:S,showFilters:b,uniqueThematiques:ae,handleApplicationChange:je,handleEntrepriseChange:ts,handleAnalyseChange:C,handleThematiqueChange:Ee,handleTabChange:es,handleOpenNewAnalyseDialog:J,handleCloseDialog:me,addThematique:Qe,updateThematique:os,removeThematique:De,createNewAnalyse:As,calculateNewAnalyse:rr,getScoreGlobal:se,prepareHistoriqueData:D,handleChangePage:Me,handleChangeRowsPerPage:Pe,handleRequestSort:$e,getFilteredData:ls,getUniqueValues:bs,setSearchTerm:y,setFilters:K,setShowFilters:F,fetchAllInterpretations:le,fetchAnalysesByApplication:Be,fetchAnalysesByEntreprise:ue,fetchHistoriqueByEntreprise:ye},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretations.tsx",lineNumber:652,columnNumber:5},void 0)},zs=s=>s==null?"N/A":parseFloat(s).toFixed(1),$r=()=>{const[s,n]=a.useState(!0),[r,l]=a.useState(null),[m,E]=a.useState([]),[p,B]=a.useState(""),[x,A]=a.useState(null),[_,O]=a.useState(""),[j,T]=a.useState(null),[V,W]=a.useState(0);a.useEffect(()=>{R()},[]),a.useEffect(()=>{p&&M(p)},[p]),a.useEffect(()=>{if(_&&(x!=null&&x.fonctions)){const c=x.fonctions.find(U=>U.id===_)||null;T(c)}else T(null)},[_,x]);const R=async()=>{try{n(!0);const c=await w.get("entreprises");if(Array.isArray(c)){const Q=Array.from(new Map(c.map(H=>[H.id_entreprise,H])).values()).sort((H,Y)=>H.nom_entreprise.localeCompare(Y.nom_entreprise));E(Q),Q.length>0&&B(Q[0].id_entreprise)}}catch(c){console.error("Erreur lors du chargement des entreprises:",c.message),l("Impossible de charger les entreprises")}finally{n(!1)}},M=async c=>{try{n(!0);const U=await w.get(`entreprises/${c}/maturity-analysis`);console.log("=== RÉPONSE API COMPLÈTE ==="),console.log(JSON.stringify(U,null,2)),U&&U.fonctions&&(console.log("=== FONCTIONS REÇUES ==="),U.fonctions.forEach((Q,H)=>{console.log(`Fonction ${H}:`,{id:Q.id,nom:Q.nom,score_global:Q.score_global,niveau:Q.niveau,level:Q.level,maturity_level:Q.maturity_level,niveau_global:Q.niveau_global,toutes_les_cles:Object.keys(Q)})})),U&&(A(U),U.fonctions.length>0?O(U.fonctions[0].id):l("Aucune fonction évaluée pour cette entreprise."))}catch(U){console.error("Erreur lors du chargement des détails de l'entreprise:",U.message),l("Impossible de charger les détails de l'entreprise.")}finally{n(!1)}},z=c=>{const U=c.target.value;B(U)},g=c=>{O(c)},L=(c,U)=>{W(U)},I=(c=[])=>c.map(U=>({thematique:U.nom,score:U.score?parseFloat(U.score):U.score_moyen?parseFloat(U.score_moyen.toString()):0,fullMark:5}));return s?e.jsxDEV(t,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:206,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:205,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[r&&e.jsxDEV(he,{severity:"error",sx:{mb:2},children:r},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:214,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:"Analyses de maturité par Fonctions évaluées"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:224,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV(Ve,{fullWidth:!0,variant:"outlined",sx:{mb:2},children:[e.jsxDEV(Se,{id:"entreprise-select-label",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:230,columnNumber:15},void 0),e.jsxDEV(qe,{labelId:"entreprise-select-label",id:"entreprise-select",value:p,onChange:z,label:"Entreprise",children:m.map((c,U)=>e.jsxDEV(Ne,{value:c.id_entreprise,children:c.nom_entreprise},`${c.id_entreprise}-${U}`,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:239,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:231,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:229,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:222,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:221,columnNumber:9},void 0),x&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(pe,{sx:{bgcolor:"#f8f9fa",borderLeft:"5px solid #0B4E87"},children:e.jsxDEV(Ce,{children:e.jsxDEV(d,{container:!0,spacing:3,alignItems:"center",children:[e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(t,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Score Global de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:256,columnNumber:23},void 0),e.jsxDEV(i,{variant:"h2",color:"primary",sx:{fontWeight:"bold",my:1},children:zs(x.score_global)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:259,columnNumber:23},void 0),x.niveau_global&&e.jsxDEV(ve,{label:x.niveau_global,color:Ds(x.niveau_global),size:"medium",sx:{fontSize:"1rem",px:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:263,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:255,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:254,columnNumber:19},void 0),e.jsxDEV(d,{xs:12,md:8,children:[e.jsxDEV(i,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Recommandations:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:273,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body1",children:x.recommandations_globales||"Aucune recommandation disponible pour cette entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:276,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:272,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:253,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:252,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:251,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:250,columnNumber:11},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(pe,{sx:{height:"100%"},children:[e.jsxDEV(Ge,{title:"Fonctions Évaluées"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:290,columnNumber:13},void 0),e.jsxDEV(Ce,{children:(x==null?void 0:x.fonctions.length)>0?e.jsxDEV(ps,{children:x.fonctions.map((c,U)=>e.jsxDEV(Us.Fragment,{children:[e.jsxDEV(js,{onClick:()=>g(c.id),sx:{borderLeft:_===c.id?"4px solid #0B4E87":"4px solid transparent",bgcolor:_===c.id?"rgba(11, 78, 135, 0.05)":"transparent",cursor:"pointer"},children:e.jsxDEV(Cs,{primary:e.jsxDEV(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(i,{variant:"subtitle1",children:c.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:308,columnNumber:31},void 0),e.jsxDEV(ve,{label:zs(c.score_global),color:Ds(c.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:309,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:307,columnNumber:29},void 0),secondary:e.jsxDEV(i,{variant:"body2",sx:{mt:.5},children:c.niveau||"Niveau non défini"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:317,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:305,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:296,columnNumber:23},void 0),U<x.fonctions.length-1&&e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:323,columnNumber:74},void 0)]},`fonction-${c.id}-${U}`,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:295,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:293,columnNumber:17},void 0):e.jsxDEV(he,{severity:"info",children:"Aucune fonction évaluée pour cette entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:328,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:291,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:289,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:288,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,md:8,children:j?e.jsxDEV(pe,{children:[e.jsxDEV(Ge,{title:`Analyse de la fonction: ${j.nom}`,action:e.jsxDEV(ve,{label:`Score: ${zs(j.score_global)}`,color:Ds(j.niveau||"")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:341,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:338,columnNumber:15},void 0),e.jsxDEV(Ce,{children:[e.jsxDEV(hs,{value:V,onChange:L,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{mb:2},children:[e.jsxDEV(Ae,{label:"Vue d'ensemble"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:356,columnNumber:19},void 0),e.jsxDEV(Ae,{label:"Recommandations Qwanza"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:357,columnNumber:19},void 0),e.jsxDEV(Ae,{label:"Recommandations LLM Publics"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:358,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:348,columnNumber:17},void 0),V===0&&e.jsxDEV(t,{children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Score par Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:364,columnNumber:21},void 0),j.thematiques&&j.thematiques.length>0?e.jsxDEV(us,{width:"100%",height:350,children:e.jsxDEV(gr,{outerRadius:150,width:500,height:350,data:I(j.thematiques),children:[e.jsxDEV(vr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:376,columnNumber:27},void 0),e.jsxDEV(Mr,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:377,columnNumber:27},void 0),e.jsxDEV(Dr,{angle:30,domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:378,columnNumber:27},void 0),e.jsxDEV(Er,{name:"Score",dataKey:"score",stroke:"#0B4E87",fill:"#0B4E87",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:379,columnNumber:27},void 0),e.jsxDEV(cs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:386,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:370,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:369,columnNumber:23},void 0):e.jsxDEV(he,{severity:"info",children:"Aucune donnée de thématique disponible pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:390,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:363,columnNumber:19},void 0),V===1&&e.jsxDEV(t,{children:[e.jsxDEV(i,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Recommandation globale pour la fonction:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:398,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body1",paragraph:!0,children:j.recommandations||"Aucune recommandation globale disponible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:401,columnNumber:21},void 0),e.jsxDEV(i,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Recommandations par thématique:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:404,columnNumber:21},void 0),j.thematiques.length>0?e.jsxDEV(ps,{children:j.thematiques.map((c,U)=>e.jsxDEV(Us.Fragment,{children:[e.jsxDEV(js,{children:e.jsxDEV(Cs,{primary:e.jsxDEV(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(i,{variant:"subtitle2",children:c.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:415,columnNumber:37},void 0),e.jsxDEV(ve,{label:c.niveau,color:Ds(c.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:416,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:414,columnNumber:35},void 0),secondary:e.jsxDEV(i,{variant:"body2",children:[e.jsxDEV("strong",{children:"Score:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:425,columnNumber:37},void 0)," ",zs(c.score),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:426,columnNumber:37},void 0),e.jsxDEV("strong",{children:"Recommandations:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:427,columnNumber:37},void 0)," ",c.recommandations]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:424,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:412,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:411,columnNumber:29},void 0),U<j.thematiques.length-1&&e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:432,columnNumber:80},void 0)]},`theme-${c.id}-${U}`,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:410,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:408,columnNumber:23},void 0):e.jsxDEV(he,{severity:"info",children:"Aucune recommandation thématique disponible pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:437,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:397,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:347,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:337,columnNumber:13},void 0):e.jsxDEV(he,{severity:"info",children:"Veuillez sélectionner une fonction pour voir son analyse détaillée."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:444,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:335,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:219,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:212,columnNumber:5},void 0)},vi=()=>{const{id:s}=Ts(),n=Oe(),[r,l]=a.useState(!0),[m,E]=a.useState(!1),[p,B]=a.useState(null),[x,A]=a.useState(null),[_,O]=a.useState(null),[j,T]=a.useState([]),[V,W]=a.useState(0),R=["Vérification des formulaires","Calcul des scores","Génération de l'analyse"];a.useEffect(()=>{(async()=>{if(!s){B("Identifiant de l'application manquant"),l(!1);return}l(!0),B(null);try{const L=await w.get(`applications/${s}`);L&&O(L);const I=await w.get("formulaires");let c=[];Array.isArray(I)?c=I.filter(U=>U.id_application===s):I&&I.data&&Array.isArray(I.data)&&(c=I.data.filter(U=>U.id_application===s)),T(c),W(0)}catch(L){console.error("Erreur lors du chargement des données:",L),B("Erreur lors du chargement des données. Veuillez réessayer plus tard.")}finally{l(!1)}})()},[s]);const M=async()=>{if(s){E(!0),B(null),A(null);try{W(0),await new Promise(L=>setTimeout(L,1e3)),W(1),await new Promise(L=>setTimeout(L,1e3));const g=await w.post("analyses",{id_application:s});W(2),await new Promise(L=>setTimeout(L,1e3)),A("Le score de maturité a été calculé avec succès!"),setTimeout(()=>{n(`/analyses-interpretations/${s}`)},2e3)}catch(g){console.error("Erreur lors du calcul du score:",g),B("Une erreur est survenue lors du calcul du score. Veuillez réessayer plus tard.")}finally{E(!1)}}},z=j.length>0;return r?e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:156,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:155,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(t,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(G,{color:"primary",startIcon:e.jsxDEV(as,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:170,columnNumber:28},void 0),onClick:()=>n("/applications"),sx:{mr:2},children:"Retour aux applications"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:168,columnNumber:15},void 0),e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:"Calcul du Score de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:176,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:167,columnNumber:13},void 0),_&&e.jsxDEV(i,{variant:"subtitle1",children:["Application: ",e.jsxDEV("strong",{children:_.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:183,columnNumber:30},void 0)," | Type: ",e.jsxDEV("strong",{children:_.type},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:184,columnNumber:23},void 0)," | Statut: ",e.jsxDEV("strong",{children:_.statut},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:185,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:166,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:165,columnNumber:9},void 0),p&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(he,{severity:"error",children:p},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:194,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:193,columnNumber:11},void 0),x&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(he,{severity:"success",children:x},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:200,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:199,columnNumber:11},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:e.jsxDEV(Cr,{activeStep:V,alternativeLabel:!0,children:R.map(g=>e.jsxDEV(hr,{children:e.jsxDEV(yr,{children:g},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:210,columnNumber:19},void 0)},g,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:209,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:207,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:206,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:205,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Formulaires disponibles pour l'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV(ze,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:223,columnNumber:13},void 0),j.length>0?e.jsxDEV(t,{children:[e.jsxDEV(i,{variant:"body1",mb:2,children:[j.length," formulaire(s) trouvé(s) pour cette application."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:227,columnNumber:17},void 0),e.jsxDEV(ps,{children:j.map((g,L)=>e.jsxDEV(js,{divider:!0,children:e.jsxDEV(Cs,{primary:g.titre||g.questionnaire_titre||`Formulaire ${L+1}`,secondary:`Statut: ${g.statut||"Non défini"} | Dernière modification: ${g.date_modification?new Date(g.date_modification).toLocaleDateString("fr-FR"):"Non disponible"}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:234,columnNumber:23},void 0)},g.id_formulaire||L,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:233,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:231,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:226,columnNumber:15},void 0):e.jsxDEV(he,{severity:"warning",children:"Aucun formulaire n'est disponible pour cette application. Le calcul du score de maturité nécessite au moins un formulaire complété."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:247,columnNumber:15},void 0),e.jsxDEV(t,{display:"flex",justifyContent:"center",mt:3,children:e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(mr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:256,columnNumber:28},void 0),onClick:M,disabled:m||!z,size:"large",children:m?"Calcul en cours...":"Calculer le Score de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:253,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:252,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:219,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:218,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Comment se déroule le calcul ?"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV(i,{variant:"body1",paragraph:!0,children:"Le score de maturité est calculé à partir des réponses aux questionnaires liés à cette application. Le processus évalue plusieurs thématiques et fournit un score global ainsi que des scores par domaine."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:273,columnNumber:13},void 0),e.jsxDEV(i,{variant:"body1",children:[e.jsxDEV("strong",{children:"Note :"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:278,columnNumber:15},void 0)," Pour obtenir un score pertinent, assurez-vous que les formulaires ont été complétés avec soin et reflètent fidèlement la maturité DevSecOps de l'application."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:277,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:269,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:268,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:163,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:162,columnNumber:5},void 0)},Mi=()=>{const s=Oe(),[n,r]=a.useState(""),[l,m]=a.useState(""),[E,p]=a.useState(""),[B,x]=a.useState(""),[A,_]=a.useState([]),[O,j]=a.useState([]),[T,V]=a.useState([]),[W,R]=a.useState(!0),[M,z]=a.useState(!1),[g,L]=a.useState(null),[I,c]=a.useState(0),[U,Q]=a.useState(10),[H,Y]=a.useState("desc"),[Z,te]=a.useState("date_modification"),ne=async()=>{R(!0),L(null);try{const b=await w.get("formulaires");let F=[];Array.isArray(b)?F=b:b&&b.data&&Array.isArray(b.data)?F=b.data:(console.warn("Format de réponse inattendu pour formulaires:",b),F=[]);const ee=await w.get("fonctions");let ae=[];Array.isArray(ee)?ae=ee:ee&&ee.data&&Array.isArray(ee.data)?ae=ee.data:(console.warn("Format de réponse inattendu pour fonctions:",ee),ae=[]);const le=await w.get("entreprises");let je=[];Array.isArray(le)?je=le:le&&le.data&&Array.isArray(le.data)?je=le.data:(console.warn("Format de réponse inattendu pour entreprises:",le),je=[]);const ye=F.map(ue=>({id_formulaire:ue.id_formulaire,id_acteur:ue.id_acteur||"",acteur_nom:ue.acteur_nom||"Utilisateur inconnu",id_application:ue.id_application||"",nom_application:ue.nom_application||"Application inconnue",id_entreprise:ue.id_entreprise||"",nom_entreprise:ue.nom_entreprise||"Entreprise inconnue",id_questionnaire:ue.id_questionnaire||"",questionnaire_titre:ue.questionnaire_titre||"",fonction:ue.fonction||ue.questionnaire_titre||"Fonction inconnue",thematique:ue.thematique||"Non catégorisé",date_creation:ue.date_creation||new Date().toISOString(),date_modification:ue.date_modification||ue.date_creation||new Date().toISOString(),statut:ue.statut||"Brouillon",progression:ue.progression??0}));_(ye),j(ae),V(je)}catch(b){console.error("Erreur lors de la récupération des données:",b),L("Impossible de charger les formulaires. Veuillez réessayer plus tard."),_([])}finally{R(!1),z(!1)}};a.useEffect(()=>{ne()},[]);const P=()=>{z(!0),ne()},ie=A.filter(b=>{const F=n===""||b.fonction&&b.fonction.toLowerCase().includes(n.toLowerCase())||b.nom_entreprise&&b.nom_entreprise.toLowerCase().includes(n.toLowerCase())||b.acteur_nom&&b.acteur_nom.toLowerCase().includes(n.toLowerCase())||b.thematique&&b.thematique.toLowerCase().includes(n.toLowerCase()),ee=l===""||b.statut===l,ae=E===""||b.fonction===E,le=B===""||b.id_entreprise===B;return F&&ee&&ae&&le}),u=[...ie].sort((b,F)=>{let ee=0;switch(Z){case"fonction":ee=(b.fonction||"").localeCompare(F.fonction||"");break;case"nom_entreprise":ee=(b.nom_entreprise||"").localeCompare(F.nom_entreprise||"");break;case"acteur_nom":ee=(b.acteur_nom||"").localeCompare(F.acteur_nom||"");break;case"date_modification":ee=new Date(b.date_modification).getTime()-new Date(F.date_modification).getTime();break;case"statut":ee=b.statut.localeCompare(F.statut);break;case"progression":ee=(b.progression||0)-(F.progression||0);break;default:ee=0}return H==="asc"?ee:-ee}).slice(I*U,I*U+U),$=(b,F)=>{c(F)},k=b=>{Q(parseInt(b.target.value,10)),c(0)},v=b=>{Y(Z===b&&H==="asc"?"desc":"asc"),te(b)},h=b=>{switch(b){case"Validé":return"success";case"Soumis":return"primary";case"Brouillon":return"warning";default:return"default"}},N=(b=0)=>b<30?"error":b<70?"warning":"success",f=b=>{try{return new Date(b).toLocaleDateString("fr-FR")}catch(F){return console.warn("Erreur lors du formatage de la date:",F),"Date invalide"}},y=[...new Set(A.map(b=>b.fonction))].filter(Boolean),S=T.map(b=>{const F=A.filter(ae=>ae.id_entreprise===b.id_entreprise),ee=F.filter(ae=>ae.statut==="Validé").length;return{id:b.id_entreprise,name:b.nom_entreprise,total:F.length,validated:ee,avgProgression:F.length?Math.round(F.reduce((ae,le)=>ae+(le.progression||0),0)/F.length):0}}).filter(b=>b.total>0),K=y.map(b=>{const F=A.filter(ae=>ae.fonction===b),ee=F.filter(ae=>ae.statut==="Validé").length;return{name:b,total:F.length,validated:ee,avgProgression:F.length?Math.round(F.reduce((ae,le)=>ae+(le.progression||0),0)/F.length):0}}).filter(b=>b.total>0);return e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[g&&e.jsxDEV(he,{severity:"error",sx:{mb:2},children:g},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:315,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(t,{children:[e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",gutterBottom:!0,children:"Formulaires d'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:326,columnNumber:17},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Suivez les différentes évaluations de maturité par fonction et par entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:329,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:325,columnNumber:15},void 0),e.jsxDEV(t,{children:[e.jsxDEV(Ie,{title:"Rafraîchir les données",children:e.jsxDEV(xe,{color:"primary",onClick:P,disabled:M,sx:{mr:1},children:e.jsxDEV(pr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:341,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:335,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:334,columnNumber:17},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:347,columnNumber:30},void 0),onClick:()=>s("/formulaires/new"),children:"Nouveau formulaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:344,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:333,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:324,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:323,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:322,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,sm:6,lg:3,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{sx:{textAlign:"center"},children:[e.jsxDEV(i,{variant:"h4",color:"text.primary",children:A.length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:363,columnNumber:19},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Total formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:366,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:362,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:361,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:360,columnNumber:13},void 0),e.jsxDEV(d,{xs:12,sm:6,lg:3,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{sx:{textAlign:"center"},children:[e.jsxDEV(i,{variant:"h4",color:"success.main",children:A.filter(b=>b.statut==="Validé").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:376,columnNumber:19},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Formulaires validés"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:379,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:375,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:374,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:373,columnNumber:13},void 0),e.jsxDEV(d,{xs:12,sm:6,lg:3,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{sx:{textAlign:"center"},children:[e.jsxDEV(i,{variant:"h4",color:"primary.main",children:A.filter(b=>b.statut==="Soumis").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:389,columnNumber:19},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Formulaires soumis"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:392,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:388,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:387,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:386,columnNumber:13},void 0),e.jsxDEV(d,{xs:12,sm:6,lg:3,children:e.jsxDEV(pe,{children:e.jsxDEV(Ce,{sx:{textAlign:"center"},children:[e.jsxDEV(i,{variant:"h4",color:"warning.main",children:A.filter(b=>b.statut==="Brouillon").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:402,columnNumber:19},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Brouillons"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:405,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:401,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:400,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:399,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:359,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:358,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:e.jsxDEV(d,{container:!0,spacing:2,alignItems:"center",children:[e.jsxDEV(d,{xs:12,sm:6,md:3,children:e.jsxDEV(oe,{fullWidth:!0,label:"Rechercher",value:n,onChange:b=>r(b.target.value),placeholder:"Fonction, entreprise ou acteur...",InputProps:{startAdornment:e.jsxDEV(Nr,{color:"action",sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:426,columnNumber:37},void 0)},variant:"outlined",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:419,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:418,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:6,md:3,children:e.jsxDEV(Ve,{fullWidth:!0,size:"small",children:[e.jsxDEV(Se,{id:"status-filter-label",children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:434,columnNumber:19},void 0),e.jsxDEV(qe,{labelId:"status-filter-label",id:"status-filter",value:l,label:"Statut",onChange:b=>m(b.target.value),children:[e.jsxDEV(Ne,{value:"",children:"Tous les statuts"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:442,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"Brouillon",children:"Brouillon"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:443,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"Soumis",children:"Soumis"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:444,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"Validé",children:"Validé"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:445,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:435,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:433,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:432,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:6,md:3,children:e.jsxDEV(Ve,{fullWidth:!0,size:"small",children:[e.jsxDEV(Se,{id:"fonction-filter-label",children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:451,columnNumber:19},void 0),e.jsxDEV(qe,{labelId:"fonction-filter-label",id:"fonction-filter",value:E,label:"Fonction",onChange:b=>p(b.target.value),children:[e.jsxDEV(Ne,{value:"",children:"Toutes les fonctions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:459,columnNumber:21},void 0),y.map(b=>e.jsxDEV(Ne,{value:b,children:b},b,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:461,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:452,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:450,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:449,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:6,md:3,children:e.jsxDEV(Ve,{fullWidth:!0,size:"small",children:[e.jsxDEV(Se,{id:"entreprise-filter-label",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:468,columnNumber:19},void 0),e.jsxDEV(qe,{labelId:"entreprise-filter-label",id:"entreprise-filter",value:B,label:"Entreprise",onChange:b=>x(b.target.value),children:[e.jsxDEV(Ne,{value:"",children:"Toutes les entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:476,columnNumber:21},void 0),T.map(b=>e.jsxDEV(Ne,{value:b.id_entreprise,children:b.nom_entreprise},b.id_entreprise,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:478,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:469,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:467,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:466,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:417,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:416,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:415,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{width:"100%",overflow:"hidden"},children:W?e.jsxDEV(t,{sx:{width:"100%",p:4,textAlign:"center"},children:[e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:492,columnNumber:17},void 0),e.jsxDEV(i,{sx:{mt:2},children:"Chargement des formulaires..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:493,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:491,columnNumber:15},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ke,{children:e.jsxDEV(Re,{sx:{minWidth:650},"aria-label":"tableau des formulaires",children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:e.jsxDEV(rs,{active:Z==="fonction",direction:Z==="fonction"?H:"asc",onClick:()=>v("fonction"),children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:502,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:501,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(rs,{active:Z==="nom_entreprise",direction:Z==="nom_entreprise"?H:"asc",onClick:()=>v("nom_entreprise"),children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:511,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:510,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(rs,{active:Z==="acteur_nom",direction:Z==="acteur_nom"?H:"asc",onClick:()=>v("acteur_nom"),children:"Acteur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:520,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:519,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(rs,{active:Z==="date_modification",direction:Z==="date_modification"?H:"asc",onClick:()=>v("date_modification"),children:"Dates"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:529,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:528,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(rs,{active:Z==="statut",direction:Z==="statut"?H:"asc",onClick:()=>v("statut"),children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:538,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:537,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(rs,{active:Z==="progression",direction:Z==="progression"?H:"asc",onClick:()=>v("progression"),children:"Progression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:547,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:546,columnNumber:25},void 0),e.jsxDEV(o,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:555,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:500,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:499,columnNumber:21},void 0),e.jsxDEV(Te,{children:u.length>0?u.map(b=>e.jsxDEV(ce,{sx:{"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[e.jsxDEV(o,{children:[e.jsxDEV(i,{variant:"body2",fontWeight:"medium",children:b.fonction},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:569,columnNumber:31},void 0),e.jsxDEV(i,{variant:"caption",color:"text.secondary",children:b.thematique},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:570,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:568,columnNumber:29},void 0),e.jsxDEV(o,{children:b.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:572,columnNumber:29},void 0),e.jsxDEV(o,{children:b.acteur_nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:573,columnNumber:29},void 0),e.jsxDEV(o,{children:[e.jsxDEV(i,{variant:"caption",display:"block",children:["Création: ",f(b.date_creation)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:575,columnNumber:31},void 0),e.jsxDEV(i,{variant:"caption",display:"block",children:["Modif: ",f(b.date_modification)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:578,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:574,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:b.statut,color:h(b.statut),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:583,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:582,columnNumber:29},void 0),e.jsxDEV(o,{sx:{width:150},children:e.jsxDEV(t,{sx:{display:"flex",alignItems:"center"},children:[e.jsxDEV(t,{sx:{width:"100%",mr:1},children:e.jsxDEV(_a,{variant:"determinate",value:b.progression||0,color:N(b.progression)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:592,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:591,columnNumber:33},void 0),e.jsxDEV(t,{sx:{minWidth:35},children:e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:[b.progression||0,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:599,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:598,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:590,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:589,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(Ie,{title:"Voir le détail",children:e.jsxDEV(xe,{color:"primary",onClick:()=>s(`/formulaires/${b.id_formulaire}`),children:e.jsxDEV(Ia,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:611,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:607,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:606,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:605,columnNumber:29},void 0)]},b.id_formulaire,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:561,columnNumber:27},void 0)):e.jsxDEV(ce,{children:e.jsxDEV(o,{colSpan:7,align:"center",children:e.jsxDEV(i,{sx:{py:2},children:"Aucun formulaire trouvé"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:620,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:619,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:618,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:558,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:498,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:497,columnNumber:17},void 0),e.jsxDEV(Kr,{rowsPerPageOptions:[5,10,25,50],component:"div",count:ie.length,rowsPerPage:U,page:I,onPageChange:$,onRowsPerPageChange:k,labelRowsPerPage:"Lignes par page",labelDisplayedRows:({from:b,to:F,count:ee})=>`${b}-${F} sur ${ee}`},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:629,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:496,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:489,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:488,columnNumber:9},void 0),!W&&ie.length>0&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Statistiques par Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:652,columnNumber:19},void 0),e.jsxDEV(ke,{children:e.jsxDEV(Re,{size:"small",children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:659,columnNumber:27},void 0),e.jsxDEV(o,{align:"right",children:"Total"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:660,columnNumber:27},void 0),e.jsxDEV(o,{align:"right",children:"Validés"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:661,columnNumber:27},void 0),e.jsxDEV(o,{align:"right",children:"Progression moyenne"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:662,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:658,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:657,columnNumber:23},void 0),e.jsxDEV(Te,{children:S.map(b=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:b.name},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:668,columnNumber:29},void 0),e.jsxDEV(o,{align:"right",children:b.total},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:669,columnNumber:29},void 0),e.jsxDEV(o,{align:"right",children:b.validated},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:670,columnNumber:29},void 0),e.jsxDEV(o,{align:"right",children:[b.avgProgression,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:671,columnNumber:29},void 0)]},b.id,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:667,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:665,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:656,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:655,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:651,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:650,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,md:6,children:e.jsxDEV(re,{sx:{p:2},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Statistiques par Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:683,columnNumber:19},void 0),e.jsxDEV(ke,{children:e.jsxDEV(Re,{size:"small",children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:690,columnNumber:27},void 0),e.jsxDEV(o,{align:"right",children:"Total"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:691,columnNumber:27},void 0),e.jsxDEV(o,{align:"right",children:"Validés"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:692,columnNumber:27},void 0),e.jsxDEV(o,{align:"right",children:"Progression moyenne"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:693,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:689,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:688,columnNumber:23},void 0),e.jsxDEV(Te,{children:K.map(b=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:b.name},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:699,columnNumber:29},void 0),e.jsxDEV(o,{align:"right",children:b.total},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:700,columnNumber:29},void 0),e.jsxDEV(o,{align:"right",children:b.validated},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:701,columnNumber:29},void 0),e.jsxDEV(o,{align:"right",children:[b.avgProgression,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:702,columnNumber:29},void 0)]},b.name,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:698,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:696,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:687,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:686,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:682,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:681,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:648,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:647,columnNumber:11},void 0),e.jsxDEV(d,{xs:12,sx:{mt:4,textAlign:"center"},children:e.jsxDEV(i,{variant:"caption",color:"text.secondary",children:"© 2025 - Plateforme d'Évaluation de la Maturité des DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:716,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:715,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:320,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:313,columnNumber:5},void 0)},Di=()=>{const{id:s}=Ts(),n=Oe(),[r,l]=a.useState(!0),[m,E]=a.useState(!1),[p,B]=a.useState(null),[x,A]=a.useState([]),[_,O]=a.useState([]),[j,T]=a.useState(0),[V,W]=a.useState(null),[R,M]=a.useState(null),[z,g]=a.useState({open:!1,action:null}),L=5;a.useEffect(()=>{(async()=>{if(!s){W("Identifiant du formulaire manquant"),l(!1);return}l(!0),W(null);try{const y=await w.get(`formulaires/${s}`);let S=null;if(y&&typeof y=="object"&&(Array.isArray(y)?S=y[0]:y.data?S=y.data:S=y),!S){W("Format de données du formulaire inattendu"),l(!1);return}const K={id_formulaire:S.id_formulaire,id_acteur:S.id_acteur||"",acteur_nom:S.acteur_nom||"Utilisateur inconnu",id_application:S.id_application||"",nom_application:S.nom_application||"Application inconnue",id_entreprise:S.id_entreprise||"",nom_entreprise:S.nom_entreprise||"Entreprise inconnue",id_questionnaire:S.id_questionnaire||"",questionnaire_titre:S.questionnaire_titre||"Questionnaire inconnu",fonction:S.fonction||"Fonction inconnue",thematique:S.thematique||"Non catégorisé",date_creation:S.date_creation||new Date().toISOString(),date_modification:S.date_modification||S.date_creation||new Date().toISOString(),statut:S.statut||"Brouillon",progression:S.progression||0};B(K);const b=await w.get(`questionnaires/${K.id_questionnaire}/questions`);let F=[];Array.isArray(b)?F=b:b&&b.data&&Array.isArray(b.data)?F=b.data:console.warn("Format de réponse inattendu pour les questions:",b);const ee=F.map(ye=>({id_question:ye.id_question,texte:ye.texte||`Question ${ye.ordre||"?"}`,ponderation:ye.ponderation||1,ordre:ye.ordre||0})).sort((ye,ue)=>ye.ordre-ue.ordre);A(ee);const ae=await w.get(`formulaires/${s}/reponses`);let le=[];Array.isArray(ae)?le=ae:ae&&ae.data&&Array.isArray(ae.data)?le=ae.data:console.warn("Format de réponse inattendu pour les réponses:",ae);const je=le.map(ye=>({id_reponse:ye.id_reponse,id_formulaire:ye.id_formulaire||s,id_question:ye.id_question,question_texte:ye.question_texte||"",valeur_reponse:ye.valeur_reponse||"",score:ye.score||0,commentaire:ye.commentaire}));O(je)}catch(y){console.error("Erreur lors du chargement du formulaire:",y),W("Erreur lors du chargement du formulaire. Veuillez réessayer plus tard.")}finally{l(!1)}})()},[s]);const I=Math.ceil((x.length||0)/L),c=x.slice(j*L,(j+1)*L),U=c.every(f=>_.some(y=>y.id_question===f.id_question)),Q=x.length>0&&x.every(f=>_.some(y=>y.id_question===f.id_question)),H=x.length>0?_.length/x.length*100:0,Y=()=>{j<I-1&&(T(j+1),window.scrollTo(0,0))},Z=()=>{j>0&&(T(j-1),window.scrollTo(0,0))},te=f=>_.find(y=>y.id_question===f),ne=(f,y)=>{const S=_.findIndex(K=>K.id_question===f);if(S>=0){const K=[..._];K[S]={...K[S],valeur_reponse:y,score:parseInt(y)||0},O(K)}else{const K=x.find(F=>F.id_question===f);if(!K)return;const b={id_reponse:`temp_${Date.now()}`,id_formulaire:s||"",id_question:f,question_texte:K.texte,valeur_reponse:y,score:parseInt(y)||0};O([..._,b])}},P=(f,y)=>{const S=_.findIndex(K=>K.id_question===f);if(S>=0){const K=[..._];K[S]={...K[S],commentaire:y||void 0},O(K)}},ie=f=>{g({open:!0,action:f})},be=()=>{g({open:!1,action:null})},u=async f=>{if(p){E(!0),W(null);try{if(f&&f!==p.statut)try{await w.put(`formulaires/${s}`,{statut:f,progression:Math.round(H)}),B({...p,statut:f,progression:Math.round(H)})}catch(F){console.error("Erreur lors de la mise à jour du statut:",F),W("Erreur lors de la mise à jour du statut. Veuillez réessayer."),E(!1);return}let y=[];try{const F=await w.get(`formulaires/${s}/reponses`);console.log("Récupération des réponses existantes..."),Array.isArray(F)?y=F:F&&F.data&&Array.isArray(F.data)?y=F.data:(console.warn("Format de réponse inattendu:",F),y=[])}catch(F){console.error("Erreur lors de la récupération des réponses existantes:",F),y=[]}const S=_.map(async F=>{try{const ee=y.find(ae=>ae.id_question===F.id_question);if(ee&&ee.id_reponse){console.log(`Mise à jour de la réponse existante: ${ee.id_reponse}`);try{const ae=await w.put(`reponses/${ee.id_reponse}`,{valeur_reponse:F.valeur_reponse,score:F.score,commentaire:F.commentaire||""});return console.log("Mise à jour réussie:",ae),!0}catch(ae){return console.error("Erreur lors de la mise à jour:",ae),!1}}else try{console.log(`Création d'une nouvelle réponse pour la question: ${F.id_question}`);const ae=await w.post("reponses",{id_formulaire:F.id_formulaire,id_question:F.id_question,valeur_reponse:F.valeur_reponse,score:F.score,commentaire:F.commentaire||""});return console.log("Création réussie:",ae),!0}catch(ae){if(ae.response&&ae.response.status===400){console.log("Bascule vers le PUT - La réponse existe déjà");try{const le=await w.get(`formulaires/${F.id_formulaire}/reponses`);let je=[];Array.isArray(le)?je=le:le&&le.data&&Array.isArray(le.data)?je=le.data:(console.warn("Format de réponse rafraîchie inattendu:",le),je=[]);const ye=je.find(ue=>ue.id_question===F.id_question);if(ye&&ye.id_reponse){console.log("Réponse existante trouvée:",ye.id_reponse);const ue=await w.put(`reponses/${ye.id_reponse}`,{valeur_reponse:F.valeur_reponse,score:F.score,commentaire:F.commentaire||""});return console.log("Mise à jour réussie:",ue),!0}else return console.error("Pas de réponse existante trouvée pour cette question"),!1}catch(le){return console.error("Erreur lors de la récupération des réponses rafraîchies:",le),!1}}else return console.error("Erreur lors de la création de la réponse:",ae),!1}}catch(ee){return console.error("Erreur générale lors de la sauvegarde d'une réponse:",ee),!1}}),b=(await Promise.allSettled(S)).filter(F=>F.status==="rejected"||F.status==="fulfilled"&&!F.value);b.length>0?W(`${b.length} réponses n'ont pas pu être sauvegardées. Veuillez réessayer.`):M(f==="Soumis"?"Formulaire soumis avec succès !":f==="Validé"?"Formulaire validé avec succès !":"Formulaire enregistré avec succès !")}catch(y){console.error("Erreur lors de la sauvegarde du formulaire:",y),W("Erreur lors de la sauvegarde. Veuillez réessayer plus tard.")}finally{E(!1)}}},$=f=>{switch(f){case"Validé":return{label:"Validé",color:"success"};case"Soumis":return{label:"Soumis",color:"primary"};case"Brouillon":default:return{label:"Brouillon",color:"warning"}}},k=f=>{try{return new Date(f).toLocaleDateString("fr-FR")}catch(y){return console.warn("Erreur lors du formatage de la date:",y),"Date invalide"}},v=_.filter(f=>f.commentaire&&f.commentaire.trim()!=="").length,h=_.filter(f=>{const y=parseInt(f.valeur_reponse)||0,S=x.find(K=>K.id_question===f.id_question);return y<=2&&S&&S.ponderation>=3}).length;if(r)return e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:493,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:492,columnNumber:9},void 0);if(!p)return e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(he,{severity:"error",children:V||"Formulaire non trouvé. Le formulaire demandé n'existe pas ou a été supprimé."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:501,columnNumber:11},void 0),e.jsxDEV(G,{startIcon:e.jsxDEV(as,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:505,columnNumber:24},void 0),onClick:()=>n("/formulaires"),sx:{mt:2},children:"Retour à la liste des formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:504,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:500,columnNumber:9},void 0);const N=$(p.statut);return e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(Sa,{"aria-label":"breadcrumb",sx:{mb:2},children:[e.jsxDEV(_r,{underline:"hover",color:"inherit",sx:{display:"flex",alignItems:"center"},href:"/",children:[e.jsxDEV(qa,{sx:{mr:.5},fontSize:"inherit"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:528,columnNumber:13},void 0),"Accueil"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:522,columnNumber:11},void 0),e.jsxDEV(_r,{underline:"hover",color:"inherit",sx:{display:"flex",alignItems:"center"},href:"/formulaires",children:"Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:531,columnNumber:11},void 0),e.jsxDEV(i,{color:"text.primary",sx:{display:"flex",alignItems:"center"},children:[p.fonction," - ",p.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:539,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:521,columnNumber:9},void 0),e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(t,{display:"flex",alignItems:"center",children:[e.jsxDEV(xe,{color:"primary",onClick:()=>n("/formulaires"),sx:{mr:1},children:e.jsxDEV(as,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:551,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:550,columnNumber:19},void 0),e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:[p.fonction||"Formulaire"," - ",p.questionnaire_titre]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:553,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:549,columnNumber:17},void 0),e.jsxDEV(t,{display:"flex",alignItems:"center",children:[h>0&&e.jsxDEV(Ie,{title:`${h} question(s) critique(s) à traiter`,children:e.jsxDEV(xs,{badgeContent:h,color:"error",sx:{mr:2},children:e.jsxDEV(Jr,{color:"error"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:561,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:560,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:559,columnNumber:21},void 0),v>0&&e.jsxDEV(Ie,{title:`${v} commentaire(s)`,children:e.jsxDEV(xs,{badgeContent:v,color:"info",sx:{mr:2},children:e.jsxDEV(wa,{color:"info"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:569,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:568,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:567,columnNumber:21},void 0),e.jsxDEV(ve,{label:N.label,color:N.color,variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:574,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:557,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:548,columnNumber:15},void 0),e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,md:4,children:[e.jsxDEV(t,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(Ks,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:585,columnNumber:21},void 0),e.jsxDEV(i,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Entreprise:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:587,columnNumber:23},void 0)," ",p.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:586,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:584,columnNumber:19},void 0),e.jsxDEV(t,{display:"flex",alignItems:"center",children:[e.jsxDEV(Fa,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:591,columnNumber:21},void 0),e.jsxDEV(i,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Fonction:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:593,columnNumber:23},void 0)," ",p.fonction]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:592,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:590,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:583,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:4,children:[e.jsxDEV(t,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(nr,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:599,columnNumber:21},void 0),e.jsxDEV(i,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Thématique:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:601,columnNumber:23},void 0)," ",p.thematique]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:600,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:598,columnNumber:19},void 0),e.jsxDEV(t,{display:"flex",alignItems:"center",children:e.jsxDEV(i,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Statut:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:606,columnNumber:23},void 0)," ",p.statut]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:605,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:604,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:597,columnNumber:17},void 0),e.jsxDEV(d,{xs:12,md:4,children:[e.jsxDEV(t,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(ws,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:612,columnNumber:21},void 0),e.jsxDEV(i,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Acteur:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:614,columnNumber:23},void 0)," ",p.acteur_nom]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:613,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:611,columnNumber:19},void 0),e.jsxDEV(i,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Date de création:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:618,columnNumber:21},void 0)," ",k(p.date_creation)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:617,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:610,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:582,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:547,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:546,columnNumber:11},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:e.jsxDEV(t,{sx:{width:"100%"},children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(i,{variant:"body2",sx:{mb:1},children:["Progression: ",Math.round(H),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:630,columnNumber:19},void 0),e.jsxDEV(i,{variant:"body2",sx:{mb:1},children:[_.length," / ",x.length," questions répondues"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:631,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:629,columnNumber:17},void 0),e.jsxDEV(t,{sx:{width:"100%",backgroundColor:"#e0e0e0",borderRadius:1,height:8,position:"relative"},children:e.jsxDEV(t,{sx:{width:`${H}%`,backgroundColor:H<30?"#f44336":H<70?"#ff9800":"#4caf50",borderRadius:1,height:"100%",transition:"width 0.5s ease-in-out"}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:636,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:635,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:628,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:627,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:626,columnNumber:11},void 0),V&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(he,{severity:"error",onClose:()=>W(null),children:V},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:653,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:652,columnNumber:13},void 0),R&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(he,{severity:"success",onClose:()=>M(null),children:R},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:659,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:658,columnNumber:13},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:e.jsxDEV(Cr,{activeStep:j,alternativeLabel:!0,children:Array.from({length:I},(f,y)=>e.jsxDEV(hr,{completed:y<j||y===j&&U,children:e.jsxDEV(yr,{children:["Étape ",y+1]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:669,columnNumber:21},void 0)},y,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:668,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:666,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:665,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:664,columnNumber:11},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:3},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:["Questions - Étape ",j+1," / ",I]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:679,columnNumber:15},void 0),e.jsxDEV(ze,{sx:{mb:3}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:682,columnNumber:15},void 0),c.length>0?e.jsxDEV(t,{sx:{mb:3},children:c.map((f,y)=>{const S=te(f.id_question),K=f.ponderation>=3,b=S&&(parseInt(S.valeur_reponse)||0)<=2&&K;return e.jsxDEV(pe,{sx:{mb:3,position:"relative",overflow:"visible",border:b?"1px solid #f44336":K?"1px solid #ff9800":"none"},children:e.jsxDEV(Ce,{children:[e.jsxDEV(t,{sx:{position:"absolute",top:-10,left:-10,width:30,height:30,borderRadius:"50%",backgroundColor:K?"warning.main":"primary.main",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:f.ordre},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:702,columnNumber:27},void 0),e.jsxDEV(t,{sx:{ml:3},children:[e.jsxDEV(i,{variant:"subtitle1",gutterBottom:!0,fontWeight:K?"bold":"normal",children:[f.texte,K&&e.jsxDEV(Ie,{title:"Question à forte pondération",children:e.jsxDEV(nr,{color:"warning",fontSize:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:724,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:723,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:720,columnNumber:29},void 0),e.jsxDEV(i,{variant:"caption",color:K?"warning.main":"text.secondary",sx:{display:"block",mb:2},children:["Pondération: ",f.ponderation," ",K?"(Question importante)":""]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:729,columnNumber:29},void 0),e.jsxDEV(Ve,{component:"fieldset",sx:{width:"100%"},children:[e.jsxDEV(i,{variant:"body2",sx:{mb:1},children:"Évaluation (1 = Niveau initial, 5 = Niveau optimisé)"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:734,columnNumber:31},void 0),e.jsxDEV(Ra,{row:!0,name:`question-${f.id_question}`,value:(S==null?void 0:S.valeur_reponse)||"",onChange:F=>ne(f.id_question,F.target.value),children:[1,2,3,4,5].map(F=>e.jsxDEV(Qr,{value:String(F),control:e.jsxDEV(La,{sx:{color:F<=2&&K?"error.main":void 0,"&.Mui-checked":{color:F<=2&&K?"error.main":void 0}}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:748,columnNumber:39},void 0),label:String(F),disabled:p.statut==="Validé"},F,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:744,columnNumber:35},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:737,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:733,columnNumber:29},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Commentaire (optionnel)",multiline:!0,rows:2,margin:"normal",value:(S==null?void 0:S.commentaire)||"",onChange:F=>P(f.id_question,F.target.value),disabled:p.statut==="Validé",helperText:b?"Un commentaire est fortement recommandé pour cette question critique":"",error:b&&(!(S!=null&&S.commentaire)||S.commentaire.trim()==="")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:764,columnNumber:29},void 0),b&&(!(S!=null&&S.commentaire)||S.commentaire.trim()==="")&&e.jsxDEV(he,{severity:"warning",sx:{mt:1},children:"Cette question a une note faible et une forte pondération. Veuillez ajouter un commentaire pour justifier cette évaluation."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:778,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:719,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:701,columnNumber:25},void 0)},f.id_question,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:692,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:685,columnNumber:17},void 0):e.jsxDEV(i,{variant:"body1",align:"center",sx:{py:3},children:"Aucune question pour cette étape."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:789,columnNumber:17},void 0),e.jsxDEV(t,{display:"flex",justifyContent:"space-between",mt:3,children:[e.jsxDEV(G,{variant:"outlined",onClick:Z,disabled:j===0,startIcon:e.jsxDEV(as,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:800,columnNumber:30},void 0),children:"Précédent"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:796,columnNumber:17},void 0),e.jsxDEV(t,{children:[e.jsxDEV(G,{variant:"outlined",color:"primary",onClick:()=>u("Brouillon"),disabled:m||p.statut==="Validé",startIcon:e.jsxDEV(Rs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:811,columnNumber:32},void 0),sx:{mr:1},children:"Enregistrer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:806,columnNumber:19},void 0),p.statut==="Brouillon"&&e.jsxDEV(G,{variant:"contained",color:"primary",onClick:()=>ie("Soumis"),disabled:m||!Q,startIcon:e.jsxDEV(Ta,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:823,columnNumber:34},void 0),sx:{mr:1},children:"Soumettre"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:818,columnNumber:21},void 0),p.statut==="Soumis"&&e.jsxDEV(G,{variant:"contained",color:"success",onClick:()=>ie("Validé"),disabled:m||!Q,startIcon:e.jsxDEV(Pa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:836,columnNumber:34},void 0),sx:{mr:1},children:"Valider"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:831,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:805,columnNumber:17},void 0),e.jsxDEV(G,{variant:"contained",onClick:Y,disabled:j===I-1,endIcon:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:848,columnNumber:28},void 0),children:"Suivant"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:844,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:795,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:678,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:677,columnNumber:11},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(Js,{children:[e.jsxDEV(Xs,{expandIcon:e.jsxDEV(Vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:860,columnNumber:29},void 0),"aria-controls":"reponses-content",id:"reponses-header",children:e.jsxDEV(i,{children:"Aperçu de toutes les réponses"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:864,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:859,columnNumber:15},void 0),e.jsxDEV(Zs,{children:e.jsxDEV(t,{sx:{width:"100%"},children:x.map(f=>{const y=te(f.id_question),S=f.ponderation>=3,K=y&&(parseInt(y.valeur_reponse)||0)<=2&&S;return e.jsxDEV(t,{sx:{mb:2,p:2,border:K?"1px solid #f44336":S?"1px solid #ff9800":"1px solid #eee",borderRadius:1,bgcolor:K?"rgba(244, 67, 54, 0.05)":S?"rgba(255, 152, 0, 0.05)":"transparent"},children:[e.jsxDEV(i,{variant:"subtitle2",fontWeight:S?"bold":"normal",children:[f.ordre,". ",f.texte,S&&e.jsxDEV(Ie,{title:"Question à forte pondération",children:e.jsxDEV(nr,{color:"warning",fontSize:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:888,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:887,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:884,columnNumber:25},void 0),y?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(i,{variant:"body2",sx:{mt:1},color:K?"error":"inherit",children:[e.jsxDEV("strong",{children:"Réponse:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:900,columnNumber:31},void 0)," ",y.valeur_reponse," / 5"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:895,columnNumber:29},void 0),y.commentaire?e.jsxDEV(i,{variant:"body2",children:[e.jsxDEV("strong",{children:"Commentaire:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:905,columnNumber:33},void 0)," ",y.commentaire]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:904,columnNumber:31},void 0):K&&e.jsxDEV(i,{variant:"body2",color:"error",children:[e.jsxDEV("strong",{children:"Commentaire manquant"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:910,columnNumber:35},void 0)," pour une question critique"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:909,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:894,columnNumber:27},void 0):e.jsxDEV(i,{variant:"body2",color:"error",sx:{mt:1},children:"Pas encore de réponse"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:916,columnNumber:27},void 0)]},f.id_question,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:874,columnNumber:23},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:867,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:866,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:858,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:857,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:544,columnNumber:9},void 0),e.jsxDEV(Ke,{open:z.open,onClose:be,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsxDEV(Je,{id:"alert-dialog-title",children:z.action==="Soumis"?"Soumettre le formulaire ?":"Valider le formulaire ?"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:936,columnNumber:11},void 0),e.jsxDEV(Xe,{children:[e.jsxDEV(ka,{id:"alert-dialog-description",children:z.action==="Soumis"?"Êtes-vous sûr de vouloir soumettre ce formulaire ? Après soumission, il sera en attente de validation.":"Êtes-vous sûr de vouloir valider ce formulaire ? Cette action est définitive et le formulaire ne pourra plus être modifié."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:940,columnNumber:13},void 0),h>0&&e.jsxDEV(he,{severity:"warning",sx:{mt:2},children:["Attention : ",h," question(s) critique(s) ont une note faible (1 ou 2). Assurez-vous que tous les commentaires explicatifs sont bien renseignés."]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:947,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:939,columnNumber:11},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:be,color:"inherit",children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:953,columnNumber:13},void 0),e.jsxDEV(G,{onClick:()=>{z.action&&(u(z.action),be())},color:z.action==="Validé"?"success":"primary",variant:"contained",autoFocus:!0,children:"Confirmer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:954,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:952,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:930,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:519,columnNumber:7},void 0)},Ei=()=>{const s=Oe(),[n,r]=a.useState(!0),[l,m]=a.useState(!1),[E,p]=a.useState([]),[B,x]=a.useState([]),[A,_]=a.useState([]),[O,j]=a.useState([]),[T,V]=a.useState([]),[W,R]=a.useState(null),[M,z]=a.useState(0),[g,L]=a.useState({id_acteur:"",id_questionnaire:"",id_entreprise:"",id_fonction:"",statut:"Brouillon"}),[I,c]=a.useState({id_acteur:!0,id_questionnaire:!0,id_entreprise:!0,id_fonction:!0}),U=[{label:"Entreprise",icon:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:95,columnNumber:34},void 0)},{label:"Fonction",icon:e.jsxDEV(Wr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:96,columnNumber:32},void 0)},{label:"Acteur",icon:e.jsxDEV(ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:97,columnNumber:30},void 0)}],[Q,H]=a.useState([]),[Y,Z]=a.useState([]);a.useEffect(()=>{(async()=>{r(!0),R(null);try{const h=await w.get("entreprises");let N=[];Array.isArray(h)?N=h:h&&h.data&&Array.isArray(h.data)?N=h.data:console.warn("Format de réponse inattendu pour entreprises:",h),j(N);const f=await w.get("fonctions");let y=[];Array.isArray(f)?y=f:f&&f.data&&Array.isArray(f.data)?y=f.data:console.warn("Format de réponse inattendu pour fonctions:",f),V(y);const S=await w.get("acteurs");let K=[];Array.isArray(S)?K=S:S&&S.data&&Array.isArray(S.data)?K=S.data:console.warn("Format de réponse inattendu pour acteurs:",S),x(K);const b=await w.get("questionnaires");let F=[];Array.isArray(b)?F=b:b&&b.data&&Array.isArray(b.data)?F=b.data:console.warn("Format de réponse inattendu pour questionnaires:",b),_(F)}catch(h){console.error("Erreur lors du chargement des données:",h),R("Erreur lors du chargement des données. Veuillez réessayer plus tard.")}finally{r(!1)}})()},[]),a.useEffect(()=>{if(g.id_entreprise){const v=B.filter(h=>h.id_entreprise===g.id_entreprise);H(v),g.id_acteur&&!v.some(h=>h.id_acteur===g.id_acteur)&&L(h=>({...h,id_acteur:""}))}else H(B)},[g.id_entreprise,B]),a.useEffect(()=>{if(g.id_fonction){const v=T.find(h=>h.id_fonction===g.id_fonction);if(v){const h=A.filter(N=>N.fonction===v.nom);Z(h),g.id_questionnaire&&!h.some(N=>N.id_questionnaire===g.id_questionnaire)&&L(N=>({...N,id_questionnaire:""}))}}else Z(A)},[g.id_fonction,T,A]);const te=v=>{const h=v.target.name,N=v.target.value;h&&(L({...g,[h]:N}),h in I&&c({...I,[h]:!0}))},ne=()=>{let v=!0;const h={...I};switch(M){case 0:h.id_entreprise=!!g.id_entreprise,v=h.id_entreprise;break;case 1:h.id_fonction=!!g.id_fonction,v=h.id_fonction;break;case 2:h.id_acteur=!!g.id_acteur,v=h.id_acteur;break}return c(h),v},P=()=>{const v={id_acteur:!!g.id_acteur,id_questionnaire:!!g.id_questionnaire,id_entreprise:!!g.id_entreprise,id_fonction:!!g.id_fonction};return c(v),Object.values(v).every(Boolean)},ie=()=>{ne()?z(v=>v+1):R("Veuillez remplir tous les champs obligatoires avant de continuer.")},be=()=>{z(v=>v-1),R(null)},u=async v=>{if(v.preventDefault(),!g.id_questionnaire&&g.id_fonction){const h=T.find(N=>N.id_fonction===g.id_fonction);if(h){const N=A.find(f=>f.fonction===h.nom);N&&(g.id_questionnaire=N.id_questionnaire)}}if(!P()){R("Veuillez remplir tous les champs obligatoires.");return}m(!0),R(null);try{const{id_entreprise:h,id_fonction:N,...f}=g,S={...f,id_application:"892daedf-3423-11f0-9f03-04bf1ba7bd1e"},K=await w.post("formulaires",S);let b="";if(K&&K.data&&K.data.id_formulaire)b=K.data.id_formulaire;else if(K&&K.id_formulaire)b=K.id_formulaire;else{console.warn("Format de réponse inattendu pour la création du formulaire:",K),s("/formulaires");return}s(`/formulaires/${b}`)}catch(h){console.error("Erreur lors de la création du formulaire:",h),R("Erreur lors de la création du formulaire. Veuillez réessayer plus tard."),m(!1)}},$=v=>{switch(v){case 0:return e.jsxDEV(d,{container:!0,spacing:3,children:e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ve,{fullWidth:!0,error:!I.id_entreprise,children:[e.jsxDEV(Se,{id:"entreprise-label",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:343,columnNumber:17},void 0),e.jsxDEV(qe,{labelId:"entreprise-label",id:"id_entreprise",name:"id_entreprise",value:g.id_entreprise,onChange:te,label:"Entreprise",required:!0,children:O.map(h=>e.jsxDEV(Ne,{value:h.id_entreprise,children:h.nom_entreprise},h.id_entreprise,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:354,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:344,columnNumber:17},void 0),!I.id_entreprise&&e.jsxDEV(qs,{children:"L'entreprise est requise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:360,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:342,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:341,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:340,columnNumber:11},void 0);case 1:return e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ve,{fullWidth:!0,error:!I.id_fonction,children:[e.jsxDEV(Se,{id:"fonction-label",children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:371,columnNumber:17},void 0),e.jsxDEV(qe,{labelId:"fonction-label",id:"id_fonction",name:"id_fonction",value:g.id_fonction,onChange:te,label:"Fonction",required:!0,children:T.map(h=>e.jsxDEV(Ne,{value:h.id_fonction,children:h.nom},h.id_fonction,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:382,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:372,columnNumber:17},void 0),!I.id_fonction&&e.jsxDEV(qs,{children:"La fonction est requise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:388,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:370,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:369,columnNumber:13},void 0),g.id_fonction&&Y.length>0&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ve,{fullWidth:!0,error:!I.id_questionnaire,children:[e.jsxDEV(Se,{id:"questionnaire-label",children:"Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:396,columnNumber:19},void 0),e.jsxDEV(qe,{labelId:"questionnaire-label",id:"id_questionnaire",name:"id_questionnaire",value:g.id_questionnaire,onChange:te,label:"Questionnaire",required:!0,children:Y.map(h=>e.jsxDEV(Ne,{value:h.id_questionnaire,children:[h.fonction," (",h.thematique,")"]},h.id_questionnaire,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:407,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:397,columnNumber:19},void 0),!I.id_questionnaire&&e.jsxDEV(qs,{children:"Le questionnaire est requis"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:413,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:395,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:394,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:368,columnNumber:11},void 0);case 2:return e.jsxDEV(d,{container:!0,spacing:3,children:e.jsxDEV(d,{xs:12,children:[e.jsxDEV(Ve,{fullWidth:!0,error:!I.id_acteur,children:[e.jsxDEV(Se,{id:"acteur-label",children:"Acteur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:425,columnNumber:17},void 0),e.jsxDEV(qe,{labelId:"acteur-label",id:"id_acteur",name:"id_acteur",value:g.id_acteur,onChange:te,label:"Acteur",required:!0,children:Q.map(h=>e.jsxDEV(Ne,{value:h.id_acteur,children:h.nom_prenom},h.id_acteur,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:436,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:426,columnNumber:17},void 0),!I.id_acteur&&e.jsxDEV(qs,{children:"L'acteur est requis"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:442,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:424,columnNumber:15},void 0),Q.length===0&&g.id_entreprise&&e.jsxDEV(he,{severity:"warning",sx:{mt:2},children:"Aucun acteur n'est associé à cette entreprise. Veuillez en ajouter ou sélectionner une autre entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:446,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:423,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:422,columnNumber:11},void 0);default:return"Étape inconnue"}},k=()=>{const v=O.find(y=>y.id_entreprise===g.id_entreprise),h=T.find(y=>y.id_fonction===g.id_fonction),N=B.find(y=>y.id_acteur===g.id_acteur),f=A.find(y=>y.id_questionnaire===g.id_questionnaire)||A.find(y=>y.fonction===(h==null?void 0:h.nom));return e.jsxDEV(pe,{sx:{mb:3},children:e.jsxDEV(Ce,{children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Résumé du formulaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:469,columnNumber:11},void 0),e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,sm:6,children:[e.jsxDEV(i,{variant:"subtitle2",children:"Entreprise:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:474,columnNumber:15},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(v==null?void 0:v.nom_entreprise)||"Non sélectionnée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:475,columnNumber:15},void 0),e.jsxDEV(i,{variant:"subtitle2",children:"Fonction:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:479,columnNumber:15},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(h==null?void 0:h.nom)||"Non sélectionnée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:480,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:473,columnNumber:13},void 0),e.jsxDEV(d,{xs:12,sm:6,children:[e.jsxDEV(i,{variant:"subtitle2",children:"Acteur:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:485,columnNumber:15},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(N==null?void 0:N.nom_prenom)||"Non sélectionné"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:486,columnNumber:15},void 0),f&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(i,{variant:"subtitle2",children:"Questionnaire:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:492,columnNumber:19},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:[f.fonction," (",f.thematique,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:493,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:491,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:484,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:472,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:468,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:467,columnNumber:7},void 0)};return n?e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:508,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:507,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(t,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(xe,{color:"primary",onClick:()=>s("/formulaires"),sx:{mr:1},children:e.jsxDEV(as,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:521,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:520,columnNumber:15},void 0),e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:"Nouveau Formulaire d'Évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:523,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:519,columnNumber:13},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Créez un nouveau formulaire d'évaluation en suivant les étapes ci-dessous."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:528,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:518,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:517,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:e.jsxDEV(Cr,{activeStep:M,alternativeLabel:!0,children:U.map((v,h)=>e.jsxDEV(hr,{children:e.jsxDEV(yr,{StepIconProps:{icon:h===M?e.jsxDEV(t,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24},children:v.icon},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:543,columnNumber:25},void 0):h+1},children:v.label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:540,columnNumber:19},void 0)},h,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:539,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:537,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:536,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:535,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2},children:e.jsxDEV(t,{component:"form",noValidate:!0,onSubmit:u,children:[W&&e.jsxDEV(he,{severity:"error",sx:{mb:2},children:W},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:572,columnNumber:17},void 0),M===U.length?e.jsxDEV(t,{children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Toutes les étapes sont complétées"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:577,columnNumber:19},void 0),k(),e.jsxDEV(t,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(G,{variant:"outlined",onClick:()=>z(M-1),startIcon:e.jsxDEV(as,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:587,columnNumber:34},void 0),children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:584,columnNumber:21},void 0),e.jsxDEV(G,{type:"submit",variant:"contained",color:"primary",disabled:l,startIcon:e.jsxDEV(Rs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:597,columnNumber:34},void 0),children:l?"Création en cours...":"Créer le formulaire"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:592,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:583,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:576,columnNumber:17},void 0):e.jsxDEV(t,{children:[e.jsxDEV(t,{sx:{mb:3},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:U[M].label},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:606,columnNumber:21},void 0),e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:609,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:605,columnNumber:19},void 0),$(M),e.jsxDEV(t,{display:"flex",justifyContent:"space-between",mt:3,children:[e.jsxDEV(G,{variant:"outlined",onClick:M===0?()=>s("/formulaires"):be,startIcon:e.jsxDEV(as,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:618,columnNumber:34},void 0),children:M===0?"Annuler":"Précédent"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:615,columnNumber:21},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",onClick:M===U.length-1?()=>ie():ie,children:M===U.length-1?"Finaliser":"Suivant"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:623,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:614,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:604,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:570,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:569,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:568,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:515,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:514,columnNumber:5},void 0)},Bs=s=>{const{children:n,value:r,index:l,...m}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==l,id:`admin-tabpanel-${l}`,"aria-labelledby":`admin-tab-${l}`,...m,children:r===l&&e.jsxDEV(t,{sx:{p:3},children:n},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:155,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:147,columnNumber:5},void 0)},Ms=()=>{const{hasPermission:s,canAccessAdminModule:n,isAdmin:r,isSuperAdmin:l,currentUser:m}=sr(),E=Oe(),p=er(),B=()=>{const C=p.pathname;return C.includes("/admin/users")?0:C.includes("/admin/roles")?1:C.includes("/admin/permissions")?2:C.includes("/admin/modules")?3:0},[x,A]=a.useState(!0),[_,O]=a.useState(B()),[j,T]=a.useState([]),[V,W]=a.useState([]),[R,M]=a.useState([]),[z,g]=a.useState([]),[L,I]=a.useState([]),[c,U]=a.useState(!1),[Q,H]=a.useState(!1),[Y,Z]=a.useState(!1),[te,ne]=a.useState(!1),[P,ie]=a.useState({nom_prenom:"",email:"",fonction:"",organisation:"",mot_de_passe:"",id_role:"",id_entreprise:""}),[be,u]=a.useState({nom_role:"",description:"",niveau_acces:"ENTREPRISE"}),[$,k]=a.useState("create"),[v,h]=a.useState(null),[N,f]=a.useState("");a.useEffect(()=>{if(!r()&&!l()){E("/");return}y()},[]),a.useEffect(()=>{const Ee=["/admin/users","/admin/roles","/admin/permissions","/admin/modules"][_];p.pathname!==Ee&&E(Ee,{replace:!0})},[_,E,p.pathname]);const y=async()=>{A(!0);try{await Promise.all([S(),K(),b()])}catch(C){console.error("Erreur lors du chargement des données:",C)}finally{A(!1)}},S=async()=>{try{const C=await w.get("permissions-management/users");T(C||[])}catch(C){console.error("Erreur lors du chargement des utilisateurs:",C)}},K=async()=>{try{const C=await w.get("permissions-management/roles");W(C||[])}catch(C){console.error("Erreur lors du chargement des rôles:",C)}},b=async()=>{try{const C=await w.get("permissions-management/modules");M(C||[])}catch(C){console.error("Erreur lors du chargement des modules:",C)}},F=async C=>{try{const Ee=await w.get(`permissions-management/roles/${C}/permissions`);I(Ee||[])}catch(Ee){console.error("Erreur lors du chargement des permissions du rôle:",Ee)}},ee=(C,Ee)=>{O(Ee)},ae=()=>{k("create"),ie({nom_prenom:"",email:"",fonction:"",organisation:"",mot_de_passe:"",id_role:"",id_entreprise:(m==null?void 0:m.id_entreprise)||""}),U(!0)},le=C=>{k("edit"),h(C),ie({nom_prenom:C.nom_prenom,email:C.email,fonction:C.fonction,organisation:C.organisation,id_role:C.id_acteur,id_entreprise:C.id_entreprise||""}),U(!0)},je=()=>{k("create"),u({nom_role:"",description:"",niveau_acces:"ENTREPRISE"}),H(!0)},ye=C=>{k("edit"),h(C),u({nom_role:C.nom_role,description:C.description,niveau_acces:C.niveau_acces}),H(!0)},ue=async()=>{try{$==="create"?await w.post("permissions-management/users",P):v&&await w.put(`acteurs/${v.id_acteur}`,P),await S(),U(!1)}catch(C){console.error("Erreur lors de la sauvegarde de l'utilisateur:",C)}},Be=async()=>{try{$==="create"?await w.post("permissions-management/roles",be):v&&await w.put(`permissions-management/roles/${v.id_role}`,be),await K(),H(!1)}catch(C){console.error("Erreur lors de la sauvegarde du rôle:",C)}},We=async()=>{try{if(!v)return;_===0?(await w.delete(`acteurs/${v.id_acteur}`),await S()):_===1&&(await w.delete(`permissions-management/roles/${v.id_role}`),await K()),ne(!1),h(null)}catch(C){console.error("Erreur lors de la suppression:",C)}},ss=(C,Ee)=>{switch(Ee||C){case"SUPER_ADMINISTRATEUR":case"SuperAdmin":return{label:"Super Admin",color:"error",icon:e.jsxDEV(Es,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:397,columnNumber:71},void 0)};case"ADMINISTRATEUR":case"Admin":return{label:"Admin",color:"primary",icon:e.jsxDEV(Ir,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:400,columnNumber:67},void 0)};case"CONSULTANT":return{label:"Consultant",color:"secondary",icon:e.jsxDEV(Sr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:402,columnNumber:74},void 0)};case"MANAGER":return{label:"Manager",color:"info",icon:e.jsxDEV(Os,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:404,columnNumber:66},void 0)};case"INTERVENANT":default:return{label:"Intervenant",color:"default",icon:e.jsxDEV(ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:407,columnNumber:73},void 0)}}},ts=C=>l()?!0:r()?ss(C.role,C.nom_role).label!=="Super Admin":!1;return x?e.jsxDEV(t,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:427,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:426,columnNumber:7},void 0):!r()&&!l()?e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(he,{severity:"error",children:"Accès non autorisé. Vous devez être administrateur pour accéder à cette page."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:435,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:434,columnNumber:7},void 0):e.jsxDEV(_e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(t,{display:"flex",alignItems:"center",gap:2,children:[e.jsxDEV(or,{color:"primary",sx:{fontSize:32}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:450,columnNumber:17},void 0),e.jsxDEV(t,{children:[e.jsxDEV(i,{component:"h1",variant:"h5",color:"primary",children:"Administration Système"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:452,columnNumber:19},void 0),e.jsxDEV(i,{variant:"subtitle2",color:"text.secondary",children:"Gestion des utilisateurs, rôles et permissions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:455,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:451,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:449,columnNumber:15},void 0),(r()||l())&&e.jsxDEV(t,{display:"flex",gap:1,children:e.jsxDEV(ve,{icon:e.jsxDEV(Es,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:464,columnNumber:27},void 0),label:l()?"Super Administrateur":"Administrateur",color:l()?"error":"primary",variant:"filled"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:463,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:462,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:448,columnNumber:13},void 0),e.jsxDEV(d,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxDEV(d,{xs:12,sm:3,children:e.jsxDEV(pe,{variant:"outlined",children:e.jsxDEV(Ce,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(i,{variant:"h4",color:"primary",children:j.length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:478,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:481,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:477,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:476,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:475,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:3,children:e.jsxDEV(pe,{variant:"outlined",children:e.jsxDEV(Ce,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(i,{variant:"h4",color:"secondary",children:V.length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:490,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Rôles"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:493,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:489,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:488,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:487,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:3,children:e.jsxDEV(pe,{variant:"outlined",children:e.jsxDEV(Ce,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(i,{variant:"h4",color:"info",children:R.length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:502,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Modules"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:505,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:501,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:500,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:499,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:3,children:e.jsxDEV(pe,{variant:"outlined",children:e.jsxDEV(Ce,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(i,{variant:"h4",color:"success",children:j.filter(C=>ss(C.role,C.nom_role).label==="Admin").length},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:514,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body2",color:"text.secondary",children:"Administrateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:517,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:513,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:512,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:511,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:474,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:447,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:446,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{width:"100%"},children:[e.jsxDEV(hs,{value:_,onChange:ee,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider"},children:[e.jsxDEV(Ae,{label:"Utilisateurs",icon:e.jsxDEV(ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:540,columnNumber:23},void 0),iconPosition:"start",disabled:!n("USERS")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:538,columnNumber:15},void 0),e.jsxDEV(Ae,{label:"Rôles",icon:e.jsxDEV(Os,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:546,columnNumber:23},void 0),iconPosition:"start",disabled:!n("ROLES")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:544,columnNumber:15},void 0),e.jsxDEV(Ae,{label:"Permissions",icon:e.jsxDEV(or,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:552,columnNumber:23},void 0),iconPosition:"start",disabled:!n("PERMISSIONS")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:550,columnNumber:15},void 0),e.jsxDEV(Ae,{label:"Modules",icon:e.jsxDEV(fr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:558,columnNumber:23},void 0),iconPosition:"start",disabled:!n("SYSTEM")},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:556,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:530,columnNumber:13},void 0),e.jsxDEV(Bs,{value:_,index:0,children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(i,{variant:"h6",children:"Gestion des Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:567,columnNumber:17},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:571,columnNumber:30},void 0),onClick:ae,disabled:!s("ADMIN_USERS","editer"),children:"Nouvel Utilisateur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:568,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:566,columnNumber:15},void 0),e.jsxDEV(ke,{children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:583,columnNumber:23},void 0),e.jsxDEV(o,{children:"Email"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:584,columnNumber:23},void 0),e.jsxDEV(o,{children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:585,columnNumber:23},void 0),e.jsxDEV(o,{children:"Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:586,columnNumber:23},void 0),e.jsxDEV(o,{children:"Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:587,columnNumber:23},void 0),e.jsxDEV(o,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:588,columnNumber:23},void 0),e.jsxDEV(o,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:589,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:582,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:581,columnNumber:19},void 0),e.jsxDEV(Te,{children:j.map(C=>{const Ee=ss(C.role,C.nom_role),es=ts(C);return e.jsxDEV(ce,{hover:!0,children:[e.jsxDEV(o,{children:C.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:599,columnNumber:27},void 0),e.jsxDEV(o,{children:C.email},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:600,columnNumber:27},void 0),e.jsxDEV(o,{children:C.fonction},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:601,columnNumber:27},void 0),e.jsxDEV(o,{children:C.organisation},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:602,columnNumber:27},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:Ee.label,color:Ee.color,icon:Ee.icon,size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:604,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:603,columnNumber:27},void 0),e.jsxDEV(o,{children:C.nom_entreprise||"Non spécifiée"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:611,columnNumber:27},void 0),e.jsxDEV(o,{children:[e.jsxDEV(Ie,{title:es?"Modifier l'utilisateur":"Droits insuffisants",children:e.jsxDEV("span",{children:e.jsxDEV(xe,{color:"primary",onClick:()=>le(C),disabled:!es||!s("ADMIN_USERS","editer"),children:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:620,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:615,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:614,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:613,columnNumber:29},void 0),e.jsxDEV(Ie,{title:es?"Supprimer l'utilisateur":"Droits insuffisants",children:e.jsxDEV("span",{children:e.jsxDEV(xe,{color:"error",onClick:()=>{h(C),ne(!0)},disabled:!es||!s("ADMIN_USERS","supprimer"),children:e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:634,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:626,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:625,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:624,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:612,columnNumber:27},void 0)]},C.id_acteur,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:598,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:592,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:580,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:579,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:565,columnNumber:13},void 0),e.jsxDEV(Bs,{value:_,index:1,children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(i,{variant:"h6",children:"Gestion des Rôles"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:650,columnNumber:17},void 0),e.jsxDEV(G,{variant:"contained",color:"primary",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:654,columnNumber:30},void 0),onClick:je,disabled:!l()||!s("ADMIN_ROLES","editer"),children:"Nouveau Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:651,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:649,columnNumber:15},void 0),e.jsxDEV(ke,{children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Nom du Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:666,columnNumber:23},void 0),e.jsxDEV(o,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:667,columnNumber:23},void 0),e.jsxDEV(o,{children:"Niveau d'Accès"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:668,columnNumber:23},void 0),e.jsxDEV(o,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:669,columnNumber:23},void 0),e.jsxDEV(o,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:670,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:665,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:664,columnNumber:19},void 0),e.jsxDEV(Te,{children:V.map(C=>e.jsxDEV(ce,{hover:!0,children:[e.jsxDEV(o,{children:e.jsxDEV(t,{display:"flex",alignItems:"center",gap:1,children:[C.nom_role==="SUPER_ADMINISTRATEUR"&&e.jsxDEV(Es,{color:"error"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:678,columnNumber:74},void 0),C.nom_role==="ADMINISTRATEUR"&&e.jsxDEV(Ir,{color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:679,columnNumber:68},void 0),C.nom_role==="CONSULTANT"&&e.jsxDEV(Sr,{color:"secondary"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:680,columnNumber:64},void 0),C.nom_role==="MANAGER"&&e.jsxDEV(Os,{color:"info"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:681,columnNumber:61},void 0),C.nom_role==="INTERVENANT"&&e.jsxDEV(ws,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:682,columnNumber:65},void 0),e.jsxDEV(i,{variant:"body2",children:C.nom_role},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:683,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:677,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:676,columnNumber:25},void 0),e.jsxDEV(o,{children:C.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:686,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:C.niveau_acces,color:C.niveau_acces==="GLOBAL"?"primary":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:688,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:687,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(xs,{badgeContent:C.nombre_utilisateurs||0,color:"primary",children:e.jsxDEV(Os,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:696,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:695,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:694,columnNumber:25},void 0),e.jsxDEV(o,{children:[e.jsxDEV(xe,{color:"primary",onClick:()=>ye(C),disabled:!l()||!s("ADMIN_ROLES","editer"),children:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:705,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:700,columnNumber:27},void 0),e.jsxDEV(xe,{color:"error",onClick:()=>{h(C),ne(!0)},disabled:!l()||!s("ADMIN_ROLES","supprimer")||(C.nombre_utilisateurs||0)>0,children:e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:715,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:707,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:699,columnNumber:25},void 0)]},C.id_role,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:675,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:673,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:663,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:662,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:648,columnNumber:13},void 0),e.jsxDEV(Bs,{value:_,index:2,children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Gestion des Permissions par Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:727,columnNumber:15},void 0),e.jsxDEV(Ve,{fullWidth:!0,sx:{mb:3},children:[e.jsxDEV(Se,{children:"Sélectionner un rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:730,columnNumber:17},void 0),e.jsxDEV(qe,{value:N,onChange:C=>{f(C.target.value),C.target.value&&F(C.target.value)},children:V.map(C=>e.jsxDEV(Ne,{value:C.id_role,children:[C.nom_role," - ",C.description]},C.id_role,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:741,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:731,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:729,columnNumber:15},void 0),N&&L.length>0&&e.jsxDEV(ke,{children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Module"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:753,columnNumber:25},void 0),e.jsxDEV(o,{align:"center",children:"Voir"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:754,columnNumber:25},void 0),e.jsxDEV(o,{align:"center",children:"Éditer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:755,columnNumber:25},void 0),e.jsxDEV(o,{align:"center",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:756,columnNumber:25},void 0),e.jsxDEV(o,{align:"center",children:"Administrer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:757,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:752,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:751,columnNumber:21},void 0),e.jsxDEV(Te,{children:L.map(C=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:C.nom_module},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:763,columnNumber:27},void 0),e.jsxDEV(o,{align:"center",children:e.jsxDEV(Ss,{checked:C.peut_voir,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:765,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:764,columnNumber:27},void 0),e.jsxDEV(o,{align:"center",children:e.jsxDEV(Ss,{checked:C.peut_editer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:768,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:767,columnNumber:27},void 0),e.jsxDEV(o,{align:"center",children:e.jsxDEV(Ss,{checked:C.peut_supprimer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:771,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:770,columnNumber:27},void 0),e.jsxDEV(o,{align:"center",children:e.jsxDEV(Ss,{checked:C.peut_administrer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:774,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:773,columnNumber:27},void 0)]},C.id_role_permission,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:762,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:760,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:750,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:749,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:726,columnNumber:13},void 0),e.jsxDEV(Bs,{value:_,index:3,children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,children:"Configuration des Modules"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:786,columnNumber:15},void 0),e.jsxDEV(ke,{children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:"Module"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:792,columnNumber:23},void 0),e.jsxDEV(o,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:793,columnNumber:23},void 0),e.jsxDEV(o,{children:"Route"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:794,columnNumber:23},void 0),e.jsxDEV(o,{children:"Ordre"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:795,columnNumber:23},void 0),e.jsxDEV(o,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:796,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:791,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:790,columnNumber:19},void 0),e.jsxDEV(Te,{children:R.map(C=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:C.nom_module},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:802,columnNumber:25},void 0),e.jsxDEV(o,{children:C.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:803,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV("code",{children:C.route_base},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:805,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:804,columnNumber:25},void 0),e.jsxDEV(o,{children:C.ordre_affichage},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:807,columnNumber:25},void 0),e.jsxDEV(o,{children:e.jsxDEV(ve,{label:C.actif?"Actif":"Inactif",color:C.actif?"success":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:809,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:808,columnNumber:25},void 0)]},C.id_module,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:801,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:799,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:789,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:788,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:785,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:529,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:528,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:444,columnNumber:7},void 0),e.jsxDEV(Ke,{open:c,onClose:()=>U(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(Je,{children:$==="create"?"Créer un nouvel utilisateur":"Modifier l'utilisateur"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:828,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(t,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,label:"Nom et prénom",value:P.nom_prenom,onChange:C=>ie({...P,nom_prenom:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:835,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:834,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:6,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,type:"email",label:"Email",value:P.email,onChange:C=>ie({...P,email:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:844,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:843,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:6,children:e.jsxDEV(oe,{fullWidth:!0,label:"Fonction",value:P.fonction,onChange:C=>ie({...P,fonction:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:854,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:853,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:6,children:e.jsxDEV(oe,{fullWidth:!0,label:"Organisation",value:P.organisation,onChange:C=>ie({...P,organisation:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:862,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:861,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,sm:6,children:e.jsxDEV(Ve,{fullWidth:!0,children:[e.jsxDEV(Se,{children:"Rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:871,columnNumber:19},void 0),e.jsxDEV(qe,{value:P.id_role,onChange:C=>ie({...P,id_role:C.target.value}),children:V.map(C=>e.jsxDEV(Ne,{value:C.id_role,children:C.nom_role},C.id_role,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:877,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:872,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:870,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:869,columnNumber:15},void 0),$==="create"&&e.jsxDEV(d,{xs:12,children:e.jsxDEV(oe,{fullWidth:!0,type:"password",label:"Mot de passe",value:P.mot_de_passe,onChange:C=>ie({...P,mot_de_passe:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:886,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:885,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:833,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:832,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:831,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:()=>U(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:899,columnNumber:11},void 0),e.jsxDEV(G,{onClick:ue,variant:"contained",color:"primary",children:$==="create"?"Créer":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:900,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:898,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:827,columnNumber:7},void 0),e.jsxDEV(Ke,{open:Q,onClose:()=>H(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxDEV(Je,{children:$==="create"?"Créer un nouveau rôle":"Modifier le rôle"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:908,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(t,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(d,{container:!0,spacing:2,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(oe,{required:!0,fullWidth:!0,label:"Nom du rôle",value:be.nom_role,onChange:C=>u({...be,nom_role:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:915,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:914,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(oe,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:be.description,onChange:C=>u({...be,description:C.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:924,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:923,columnNumber:15},void 0),e.jsxDEV(d,{xs:12,children:e.jsxDEV(Ve,{fullWidth:!0,children:[e.jsxDEV(Se,{children:"Niveau d'accès"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:935,columnNumber:19},void 0),e.jsxDEV(qe,{value:be.niveau_acces,onChange:C=>u({...be,niveau_acces:C.target.value}),children:[e.jsxDEV(Ne,{value:"ENTREPRISE",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:940,columnNumber:21},void 0),e.jsxDEV(Ne,{value:"GLOBAL",children:"Global"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:941,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:936,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:934,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:933,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:913,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:912,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:911,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:()=>H(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:949,columnNumber:11},void 0),e.jsxDEV(G,{onClick:Be,variant:"contained",color:"primary",children:$==="create"?"Créer":"Mettre à jour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:950,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:948,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:907,columnNumber:7},void 0),e.jsxDEV(Ke,{open:te,onClose:()=>ne(!1),children:[e.jsxDEV(Je,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:958,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(i,{children:"Êtes-vous sûr de vouloir supprimer cet élément ? Cette action est irréversible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:960,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:959,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:()=>ne(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:965,columnNumber:11},void 0),e.jsxDEV(G,{onClick:We,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:966,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:964,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:957,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:443,columnNumber:5},void 0)},Ui=()=>{var u,$,k,v,h;const[s,n]=a.useState([]),[r,l]=a.useState(null),[m,E]=a.useState(!1),[p,B]=a.useState(0),[x,A]=a.useState({open:!1,message:"",severity:"success"}),[_,O]=a.useState(!1),[j,T]=a.useState(""),[V,W]=a.useState(null),[R,M]=a.useState({}),[z,g]=a.useState(!1),[L,I]=a.useState(null);a.useEffect(()=>{c()},[]);const c=async()=>{E(!0);try{const N=await w.get("/maturity-model/fonctions");n(N.data||N),(N.data||N).length>0&&!r&&U((N.data||N)[0].id_fonction)}catch(N){console.error("Erreur lors du chargement des fonctions:",N),Q("Erreur lors du chargement des fonctions","error")}finally{E(!1)}},U=async N=>{E(!0);try{const f=await w.get(`/maturity-model/fonctions/${N}`);l(f.data||f)}catch(f){console.error("Erreur lors du chargement des détails:",f),Q("Erreur lors du chargement des détails","error")}finally{E(!1)}},Q=(N,f="success")=>{A({open:!0,message:N,severity:f})},H=(N,f=null)=>{T(N),W(f),M(f||{}),O(!0)},Y=()=>{O(!1),W(null),M({}),T("")},Z=(N,f,y)=>{I({type:N,id:f,name:y}),g(!0)},te=async()=>{try{let N;switch(j){case"fonction":V?(N=await w.put(`/maturity-model/fonctions/${V.id_fonction}`,R),Q("Fonction mise à jour avec succès")):(N=await w.post("/maturity-model/fonctions",R),Q("Fonction créée avec succès")),await c();break;case"thematique":V?(N=await w.put(`/maturity-model/thematiques/${V.id_thematique}`,R),Q("Thématique mise à jour avec succès")):(N=await w.post(`/maturity-model/fonctions/${r==null?void 0:r.id_fonction}/thematiques`,R),Q("Thématique créée avec succès")),r&&await U(r.id_fonction);break;case"niveau-global":V?(N=await w.put(`/maturity-model/niveaux-globaux/${V.id_niveau}`,R),Q("Niveau global mis à jour avec succès")):(N=await w.post(`/maturity-model/fonctions/${r==null?void 0:r.id_fonction}/niveaux-globaux`,R),Q("Niveau global créé avec succès")),r&&await U(r.id_fonction);break;case"niveau-thematique":const{id_thematique:f}=R;V?(N=await w.put(`/maturity-model/niveaux-thematiques/${V.id_niveau}`,R),Q("Niveau thématique mis à jour avec succès")):(N=await w.post(`/maturity-model/thematiques/${f}/niveaux`,{...R,id_fonction:r==null?void 0:r.id_fonction}),Q("Niveau thématique créé avec succès")),r&&await U(r.id_fonction);break}Y()}catch(N){console.error("Erreur lors de la sauvegarde:",N),Q("Erreur lors de la sauvegarde","error")}},ne=async()=>{if(L)try{switch(L.type){case"fonction":await w.delete(`/maturity-model/fonctions/${L.id}`),Q("Fonction supprimée avec succès"),await c(),(r==null?void 0:r.id_fonction)===L.id&&l(null);break;case"thematique":await w.delete(`/maturity-model/thematiques/${L.id}`),Q("Thématique supprimée avec succès"),r&&await U(r.id_fonction);break;case"niveau-global":await w.delete(`/maturity-model/niveaux-globaux/${L.id}`),Q("Niveau global supprimé avec succès"),r&&await U(r.id_fonction);break;case"niveau-thematique":await w.delete(`/maturity-model/niveaux-thematiques/${L.id}`),Q("Niveau thématique supprimé avec succès"),r&&await U(r.id_fonction);break}g(!1),I(null)}catch(N){console.error("Erreur lors de la suppression:",N),Q("Erreur lors de la suppression","error")}},P=async()=>{try{const N=await w.get("/maturity-model/export"),f=JSON.stringify(N.data||N,null,2),y="data:application/json;charset=utf-8,"+encodeURIComponent(f),S=`maturity-model-${new Date().toISOString().split("T")[0]}.json`,K=document.createElement("a");K.setAttribute("href",y),K.setAttribute("download",S),K.click(),Q("Modèle exporté avec succès")}catch(N){console.error("Erreur lors de l'export:",N),Q("Erreur lors de l'export","error")}},ie=N=>N>=4?"#4CAF50":N>=3?"#FF9800":N>=2?"#F44336":"#9E9E9E",be=()=>{var f;const N=()=>{const y=V?"Modifier":"Créer";switch(j){case"fonction":return`${y} une fonction`;case"thematique":return`${y} une thématique`;case"niveau-global":return`${y} un niveau global`;case"niveau-thematique":return`${y} un niveau thématique`;default:return""}};return e.jsxDEV(Ke,{open:_,onClose:Y,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(Je,{children:N()},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:356,columnNumber:9},void 0),e.jsxDEV(Xe,{children:e.jsxDEV(t,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[(j==="fonction"||j==="thematique")&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(oe,{fullWidth:!0,label:"Nom",value:R.nom||"",onChange:y=>M({...R,nom:y.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:361,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:R.description||"",onChange:y=>M({...R,description:y.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:368,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Ordre",type:"number",value:R.ordre||999,onChange:y=>M({...R,ordre:parseInt(y.target.value)||999})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:377,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:360,columnNumber:15},void 0),j==="thematique"&&e.jsxDEV(oe,{fullWidth:!0,label:"Nombre de questions",type:"number",value:R.nombre_questions||0,onChange:y=>M({...R,nombre_questions:parseInt(y.target.value)||0})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:388,columnNumber:15},void 0),(j==="niveau-global"||j==="niveau-thematique")&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(t,{children:[e.jsxDEV(i,{gutterBottom:!0,children:"Plage de scores"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:400,columnNumber:19},void 0),e.jsxDEV(t,{sx:{display:"flex",gap:2},children:[e.jsxDEV(oe,{label:"Score min",type:"number",inputProps:{min:0,max:5,step:.1},value:R.score_min??"",onChange:y=>M({...R,score_min:parseFloat(y.target.value)||0}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:402,columnNumber:21},void 0),e.jsxDEV(oe,{label:"Score max",type:"number",inputProps:{min:0,max:5,step:.1},value:R.score_max??"",onChange:y=>M({...R,score_max:parseFloat(y.target.value)||0}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:410,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:401,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:399,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Niveau",value:R.niveau||"",onChange:y=>M({...R,niveau:y.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:421,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:R.description||"",onChange:y=>M({...R,description:y.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:429,columnNumber:17},void 0),e.jsxDEV(oe,{fullWidth:!0,label:"Recommandations",multiline:!0,rows:3,value:R.recommandations||"",onChange:y=>M({...R,recommandations:y.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:439,columnNumber:17},void 0),j==="niveau-global"&&e.jsxDEV(oe,{fullWidth:!0,label:"Ordre",type:"number",value:R.ordre||999,onChange:y=>M({...R,ordre:parseInt(y.target.value)||999})},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:449,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:398,columnNumber:15},void 0),j==="niveau-thematique"&&!V&&e.jsxDEV(Ve,{fullWidth:!0,required:!0,children:[e.jsxDEV(Se,{children:"Thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:462,columnNumber:17},void 0),e.jsxDEV(qe,{value:R.id_thematique||"",onChange:y=>M({...R,id_thematique:y.target.value}),label:"Thématique",children:(f=r==null?void 0:r.thematiques)==null?void 0:f.map(y=>e.jsxDEV(Ne,{value:y.id_thematique,children:y.nom},y.id_thematique,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:469,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:463,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:461,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:358,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:357,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:Y,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:479,columnNumber:11},void 0),e.jsxDEV(G,{onClick:te,variant:"contained",startIcon:e.jsxDEV(Rs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:483,columnNumber:24},void 0),disabled:!R.nom&&(j==="fonction"||j==="thematique")||!R.niveau&&(j==="niveau-global"||j==="niveau-thematique"),children:"Enregistrer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:480,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:478,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:355,columnNumber:7},void 0)};return e.jsxDEV(_e,{maxWidth:"xl",sx:{mt:4,mb:4},children:[e.jsxDEV(d,{container:!0,spacing:3,children:[e.jsxDEV(d,{xs:12,children:e.jsxDEV(re,{sx:{p:3},children:e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(t,{display:"flex",alignItems:"center",gap:2,children:[e.jsxDEV(fr,{color:"primary",fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:505,columnNumber:17},void 0),e.jsxDEV(i,{component:"h1",variant:"h4",color:"primary",children:"Administration du Modèle de Maturité"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:506,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:504,columnNumber:15},void 0),e.jsxDEV(t,{children:[e.jsxDEV(G,{variant:"outlined",startIcon:e.jsxDEV(Oa,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:513,columnNumber:30},void 0),onClick:P,sx:{mr:2},children:"Exporter"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:511,columnNumber:17},void 0),e.jsxDEV(G,{variant:"contained",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:521,columnNumber:30},void 0),onClick:()=>H("fonction"),children:"Nouvelle Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:519,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:510,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:503,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:502,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:501,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,md:4,children:e.jsxDEV(re,{sx:{p:2,height:"calc(100vh - 200px)",overflow:"auto"},children:[e.jsxDEV(i,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:"Fonctions d'évaluation"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:534,columnNumber:13},void 0),m&&e.jsxDEV(we,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:538,columnNumber:25},void 0),e.jsxDEV(ps,{children:s.map(N=>e.jsxDEV(pe,{sx:{mb:2,cursor:"pointer",border:(r==null?void 0:r.id_fonction)===N.id_fonction?"2px solid #0B4E87":"1px solid #e0e0e0",transition:"all 0.3s","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},onClick:()=>U(N.id_fonction),children:e.jsxDEV(Ce,{children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(i,{variant:"h6",color:"primary",children:N.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:558,columnNumber:23},void 0),e.jsxDEV(t,{children:[e.jsxDEV(xe,{size:"small",onClick:f=>{f.stopPropagation(),H("fonction",N)},children:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:569,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:562,columnNumber:25},void 0),e.jsxDEV(xe,{size:"small",color:"error",onClick:f=>{f.stopPropagation(),Z("fonction",N.id_fonction,N.nom)},children:e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:579,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:571,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:561,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:557,columnNumber:21},void 0),e.jsxDEV(i,{variant:"body2",color:"textSecondary",sx:{mt:1,mb:2},children:N.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:584,columnNumber:21},void 0),e.jsxDEV(t,{display:"flex",gap:1,children:[e.jsxDEV(ve,{size:"small",icon:e.jsxDEV($a,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:591,columnNumber:31},void 0),label:`${N.nb_thematiques||0} thématiques`,color:"primary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:589,columnNumber:23},void 0),e.jsxDEV(ve,{size:"small",icon:e.jsxDEV(za,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:598,columnNumber:31},void 0),label:`${N.nb_niveaux_globaux||0} niveaux`,color:"secondary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:596,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:588,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:556,columnNumber:19},void 0)},N.id_fonction,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:542,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:540,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:533,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:532,columnNumber:9},void 0),e.jsxDEV(d,{xs:12,md:8,children:r?e.jsxDEV(re,{sx:{p:2,height:"calc(100vh - 200px)",overflow:"auto"},children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(t,{children:[e.jsxDEV(i,{variant:"h5",gutterBottom:!0,children:r.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:617,columnNumber:19},void 0),e.jsxDEV(i,{variant:"body2",color:"textSecondary",children:r.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:620,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:616,columnNumber:17},void 0),e.jsxDEV(t,{children:[e.jsxDEV(ve,{label:r.actif?"Actif":"Inactif",color:r.actif?"success":"default",sx:{mr:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:625,columnNumber:19},void 0),e.jsxDEV(Ie,{title:"Modifier",children:e.jsxDEV(xe,{onClick:()=>H("fonction",r),children:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:634,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:631,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:630,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:624,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:615,columnNumber:15},void 0),e.jsxDEV(hs,{value:p,onChange:(N,f)=>B(f),sx:{mb:3},children:[e.jsxDEV(Ae,{label:"Thématiques"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:641,columnNumber:17},void 0),e.jsxDEV(Ae,{label:"Niveaux Globaux"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:642,columnNumber:17},void 0),e.jsxDEV(Ae,{label:"Niveaux Thématiques"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:643,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:640,columnNumber:15},void 0),p===0&&e.jsxDEV(t,{children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(i,{variant:"h6",children:["Thématiques (",((u=r.thematiques)==null?void 0:u.length)||0,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:650,columnNumber:21},void 0),e.jsxDEV(G,{variant:"contained",size:"small",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:654,columnNumber:34},void 0),onClick:()=>H("thematique"),children:"Ajouter une thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:651,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:649,columnNumber:19},void 0),($=r.thematiques)==null?void 0:$.map(N=>{var f;return e.jsxDEV(Js,{sx:{mb:1},children:[e.jsxDEV(Xs,{expandIcon:e.jsxDEV(Vs,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:663,columnNumber:53},void 0),children:e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[e.jsxDEV(t,{children:[e.jsxDEV(i,{variant:"subtitle1",sx:{fontWeight:500},children:N.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:666,columnNumber:29},void 0),e.jsxDEV(i,{variant:"caption",color:"textSecondary",children:[N.nombre_questions," questions • ",((f=N.niveauxThematiques)==null?void 0:f.length)||0," niveaux définis"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:669,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:665,columnNumber:27},void 0),e.jsxDEV(t,{onClick:y=>y.stopPropagation(),children:[e.jsxDEV(xe,{size:"small",onClick:()=>H("thematique",N),children:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:678,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:674,columnNumber:29},void 0),e.jsxDEV(xe,{size:"small",color:"error",onClick:()=>Z("thematique",N.id_thematique,N.nom),children:e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:685,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:680,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:673,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:664,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:663,columnNumber:23},void 0),e.jsxDEV(Zs,{children:[e.jsxDEV(i,{variant:"body2",color:"textSecondary",sx:{mb:2},children:N.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:691,columnNumber:25},void 0),N.niveauxThematiques&&N.niveauxThematiques.length>0&&e.jsxDEV(t,{children:[e.jsxDEV(i,{variant:"subtitle2",gutterBottom:!0,children:"Niveaux définis:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:697,columnNumber:29},void 0),e.jsxDEV(t,{display:"flex",flexWrap:"wrap",gap:1,children:N.niveauxThematiques.map(y=>e.jsxDEV(ve,{label:`${y.score_min}-${y.score_max}: ${y.niveau}`,size:"small",sx:{bgcolor:ie((y.score_min+y.score_max)/2),color:"white"}},y.id_niveau,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:702,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:700,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:696,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:690,columnNumber:23},void 0)]},N.id_thematique,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:662,columnNumber:21},void 0)}),(!r.thematiques||r.thematiques.length===0)&&e.jsxDEV(t,{textAlign:"center",py:4,children:e.jsxDEV(i,{variant:"body1",color:"textSecondary",children:"Aucune thématique définie pour cette fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:721,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:720,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:648,columnNumber:17},void 0),p===1&&e.jsxDEV(t,{children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(i,{variant:"h6",children:["Niveaux Globaux (",((k=r.niveauxGlobaux)==null?void 0:k.length)||0,")"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:733,columnNumber:21},void 0),e.jsxDEV(G,{variant:"contained",size:"small",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:737,columnNumber:34},void 0),onClick:()=>H("niveau-global"),children:"Ajouter un niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:734,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:732,columnNumber:19},void 0),e.jsxDEV(ke,{children:e.jsxDEV(Re,{children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{width:"120",children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:748,columnNumber:27},void 0),e.jsxDEV(o,{width:"200",children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:749,columnNumber:27},void 0),e.jsxDEV(o,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:750,columnNumber:27},void 0),e.jsxDEV(o,{width:"100",children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:751,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:747,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:746,columnNumber:23},void 0),e.jsxDEV(Te,{children:(v=r.niveauxGlobaux)==null?void 0:v.map(N=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:e.jsxDEV(t,{display:"flex",alignItems:"center",gap:1,children:[e.jsxDEV(t,{sx:{width:16,height:16,borderRadius:"50%",bgcolor:ie((N.score_min+N.score_max)/2)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:759,columnNumber:33},void 0),N.score_min," - ",N.score_max]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:758,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:757,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(i,{variant:"subtitle2",children:N.niveau},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:771,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:770,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(t,{children:[e.jsxDEV(i,{variant:"body2",children:N.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:777,columnNumber:33},void 0),N.recommandations&&e.jsxDEV(i,{variant:"caption",color:"textSecondary",sx:{mt:1,display:"block"},children:[e.jsxDEV("strong",{children:"Recommandations:"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:782,columnNumber:37},void 0)," ",N.recommandations]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:781,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:776,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:775,columnNumber:29},void 0),e.jsxDEV(o,{children:e.jsxDEV(t,{children:[e.jsxDEV(xe,{size:"small",onClick:()=>H("niveau-global",N),children:e.jsxDEV(He,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:793,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:789,columnNumber:33},void 0),e.jsxDEV(xe,{size:"small",color:"error",onClick:()=>Z("niveau-global",N.id_niveau,N.niveau),children:e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:800,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:795,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:788,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:787,columnNumber:29},void 0)]},N.id_niveau,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:756,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:754,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:745,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:744,columnNumber:19},void 0),(!r.niveauxGlobaux||r.niveauxGlobaux.length===0)&&e.jsxDEV(t,{textAlign:"center",py:4,children:e.jsxDEV(i,{variant:"body1",color:"textSecondary",children:"Aucun niveau global défini pour cette fonction"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:812,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:811,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:731,columnNumber:17},void 0),p===2&&e.jsxDEV(t,{children:[e.jsxDEV(t,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(i,{variant:"h6",children:"Niveaux Thématiques"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:824,columnNumber:21},void 0),e.jsxDEV(G,{variant:"contained",size:"small",startIcon:e.jsxDEV(Ye,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:828,columnNumber:34},void 0),onClick:()=>H("niveau-thematique"),disabled:!r.thematiques||r.thematiques.length===0,children:"Ajouter un niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:825,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:823,columnNumber:19},void 0),(h=r.thematiques)==null?void 0:h.map(N=>e.jsxDEV(t,{mb:3,children:[e.jsxDEV(i,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:500,color:"#0B4E87"},children:N.nom},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:838,columnNumber:23},void 0),N.niveauxThematiques&&N.niveauxThematiques.length>0?e.jsxDEV(ke,{sx:{mb:2},children:e.jsxDEV(Re,{size:"small",children:[e.jsxDEV(Le,{children:e.jsxDEV(ce,{children:[e.jsxDEV(o,{width:"100",children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:847,columnNumber:33},void 0),e.jsxDEV(o,{width:"200",children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:848,columnNumber:33},void 0),e.jsxDEV(o,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:849,columnNumber:33},void 0),e.jsxDEV(o,{width:"80",children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:850,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:846,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:845,columnNumber:29},void 0),e.jsxDEV(Te,{children:N.niveauxThematiques.map(f=>e.jsxDEV(ce,{children:[e.jsxDEV(o,{children:e.jsxDEV(t,{display:"flex",alignItems:"center",gap:1,children:[e.jsxDEV(t,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:ie((f.score_min+f.score_max)/2)}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:858,columnNumber:39},void 0),f.score_min," - ",f.score_max]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:857,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:856,columnNumber:35},void 0),e.jsxDEV(o,{children:f.niveau},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:869,columnNumber:35},void 0),e.jsxDEV(o,{children:e.jsxDEV(i,{variant:"body2",sx:{fontSize:"0.875rem"},children:f.description},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:871,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:870,columnNumber:35},void 0),e.jsxDEV(o,{children:e.jsxDEV(t,{children:[e.jsxDEV(xe,{size:"small",onClick:()=>H("niveau-thematique",f),children:e.jsxDEV(He,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:881,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:877,columnNumber:39},void 0),e.jsxDEV(xe,{size:"small",color:"error",onClick:()=>Z("niveau-thematique",f.id_niveau,f.niveau),children:e.jsxDEV(ns,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:888,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:883,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:876,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:875,columnNumber:35},void 0)]},f.id_niveau,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:855,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:844,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:843,columnNumber:25},void 0):e.jsxDEV(i,{variant:"body2",color:"textSecondary",sx:{ml:2,mb:2},children:"Aucun niveau défini pour cette thématique"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:898,columnNumber:25},void 0),e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:903,columnNumber:23},void 0)]},N.id_thematique,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:837,columnNumber:21},void 0)),(!r.thematiques||r.thematiques.length===0)&&e.jsxDEV(t,{textAlign:"center",py:4,children:e.jsxDEV(i,{variant:"body1",color:"textSecondary",children:"Aucune thématique définie. Créez d'abord des thématiques pour définir leurs niveaux."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:909,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:908,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:822,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:614,columnNumber:13},void 0):e.jsxDEV(re,{sx:{p:6,textAlign:"center",height:"calc(100vh - 200px)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxDEV(t,{children:[e.jsxDEV(Ls,{sx:{fontSize:80,color:"#e0e0e0",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:920,columnNumber:17},void 0),e.jsxDEV(i,{variant:"h6",color:"textSecondary",children:"Sélectionnez une fonction pour voir les détails"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:921,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:919,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:918,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:612,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:499,columnNumber:7},void 0),be(),e.jsxDEV(Ke,{open:z,onClose:()=>g(!1),children:[e.jsxDEV(Je,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:938,columnNumber:9},void 0),e.jsxDEV(Xe,{children:[e.jsxDEV(i,{children:['Êtes-vous sûr de vouloir supprimer "',L==null?void 0:L.name,'" ?']},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:940,columnNumber:11},void 0),e.jsxDEV(i,{variant:"caption",color:"error",sx:{mt:1,display:"block"},children:"Cette action est irréversible."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:943,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:939,columnNumber:9},void 0),e.jsxDEV(Ze,{children:[e.jsxDEV(G,{onClick:()=>g(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:948,columnNumber:11},void 0),e.jsxDEV(G,{onClick:ne,color:"error",variant:"contained",startIcon:e.jsxDEV(ns,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:955,columnNumber:24},void 0),children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:951,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:947,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:934,columnNumber:7},void 0),e.jsxDEV(xr,{open:x.open,autoHideDuration:6e3,onClose:()=>A({...x,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsxDEV(he,{onClose:()=>A({...x,open:!1}),severity:x.severity,sx:{width:"100%"},children:x.message},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:969,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:963,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:498,columnNumber:5},void 0)},aa=({children:s,module:n,action:r="voir",adminOnly:l=!1,fallbackUrl:m="/auth/login",showDetailedError:E=!0})=>{const{isAuthenticated:p,isLoading:B,currentUser:x,hasPermission:A,canAccessRoute:_,isAdmin:O,isSuperAdmin:j}=sr(),T=er(),[V,W]=a.useState(!0),[R,M]=a.useState(!1),[z,g]=a.useState(null),L=a.useCallback(()=>O(),[O]),I=a.useCallback(()=>j(),[j]);return a.useEffect(()=>{let c=!0;return B||(async()=>{console.log("🔍 ProtectedRoute - Vérification permissions pour:",T.pathname);try{if(!c)return;if(W(!0),g(null),!p){console.log("❌ Utilisateur non authentifié"),c&&(g({type:"auth",message:"Vous devez être connecté pour accéder à cette page.",suggestion:"Veuillez vous connecter avec vos identifiants."}),M(!1),W(!1));return}if(l&&!L()&&!I()){console.log("❌ Accès administrateur requis mais utilisateur non admin"),c&&(g({type:"admin",message:"Accès réservé aux administrateurs.",suggestion:"Contactez votre administrateur système pour obtenir les droits nécessaires."}),M(!1),W(!1));return}if(n&&A){const Q=A(n,r);if(console.log(`🔍 Permission ${n}:${r} = ${Q?"✅":"❌"}`),!Q){c&&(g({type:"permission",message:`Vous n'avez pas les permissions nécessaires pour ${r==="voir"?"consulter":r} ce module.`,suggestion:`Module requis: ${n} (${r}). Contactez votre administrateur pour obtenir ces permissions.`}),M(!1),W(!1));return}}if(_){const Q=_(T.pathname);if(console.log(`🚦 Accès route ${T.pathname} = ${Q?"✅":"❌"}`),!Q){c&&(g({type:"permission",message:"Vous n'avez pas accès à cette page.",suggestion:"Vérifiez que vous avez les permissions nécessaires ou contactez votre administrateur."}),M(!1),W(!1));return}}console.log("✅ Accès autorisé"),c&&(M(!0),W(!1))}catch(Q){console.error("❌ Erreur lors de la vérification des permissions:",Q),c&&(g({type:"permission",message:"Erreur lors de la vérification des permissions.",suggestion:"Veuillez rafraîchir la page ou contacter le support technique."}),M(!1),W(!1))}})(),()=>{c=!1}},[p,B,n,r,l,T.pathname,x==null?void 0:x.id_acteur,x==null?void 0:x.nom_role]),B||V&&p?e.jsxDEV(t,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"80vh",gap:2,children:[e.jsxDEV(we,{size:48},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:195,columnNumber:9},void 0),e.jsxDEV(i,{variant:"body1",color:"text.secondary",children:"Vérification des permissions..."},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:196,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:187,columnNumber:7},void 0):p?!R&&z?E?e.jsxDEV(_e,{maxWidth:"md",sx:{mt:8,mb:4},children:e.jsxDEV(re,{elevation:3,sx:{p:4,textAlign:"center"},children:e.jsxDEV(t,{display:"flex",flexDirection:"column",alignItems:"center",gap:3,children:[z.type==="auth"&&e.jsxDEV(Ba,{color:"error",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:221,columnNumber:15},void 0),z.type==="admin"&&e.jsxDEV(Es,{color:"warning",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:224,columnNumber:15},void 0),z.type==="permission"&&e.jsxDEV(Jr,{color:"error",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:227,columnNumber:15},void 0),e.jsxDEV(he,{severity:z.type==="admin"?"warning":"error",sx:{width:"100%",textAlign:"left"},children:[e.jsxDEV(Wa,{children:[z.type==="auth"&&"Authentification requise",z.type==="admin"&&"Accès administrateur requis",z.type==="permission"&&"Permissions insuffisantes"]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:235,columnNumber:15},void 0),e.jsxDEV(i,{variant:"body1",gutterBottom:!0,children:z.message},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:240,columnNumber:15},void 0),z.suggestion&&e.jsxDEV(i,{variant:"body2",sx:{mt:1,opacity:.8},children:["💡 ",z.suggestion]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:244,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:231,columnNumber:13},void 0),e.jsxDEV(t,{display:"flex",gap:2,mt:2,children:[e.jsxDEV(G,{variant:"contained",onClick:()=>window.history.back(),color:"primary",children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:252,columnNumber:15},void 0),e.jsxDEV(G,{variant:"outlined",onClick:()=>window.location.href="/",color:"primary",children:"Accueil"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:259,columnNumber:15},void 0),z.type==="auth"&&e.jsxDEV(G,{variant:"contained",onClick:()=>window.location.href=m,color:"secondary",children:"Se connecter"},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:267,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:218,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:217,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:216,columnNumber:7},void 0):e.jsxDEV(Ns,{to:"/",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:212,columnNumber:14},void 0):(console.log("✅ Affichage du contenu protégé"),e.jsxDEV(e.Fragment,{children:s},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:284,columnNumber:10},void 0)):(console.log("🔄 Redirection vers page de connexion"),e.jsxDEV(Ns,{to:m,state:{from:T},replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:206,columnNumber:12},void 0))};typeof window<"u"&&(window.onerror=(s,n,r,l,m)=>(is.error("Erreur globale non gérée",{message:s,source:n,lineno:r,colno:l,stack:m==null?void 0:m.stack}),!1),window.addEventListener("unhandledrejection",s=>{var n,r;is.error("Promesse rejetée non gérée",{reason:((n=s.reason)==null?void 0:n.message)||String(s.reason),stack:(r=s.reason)==null?void 0:r.stack})}),window.initialLoadTime=performance.now());const ji=Qa({palette:{primary:{main:"#0B4E87"},secondary:{main:"#09C4B8"}},typography:{fontFamily:'"Ubuntu", sans-serif'},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}}}},Ga),Ue=({children:s,module:n,action:r="voir",adminOnly:l=!1})=>e.jsxDEV(aa,{module:n,action:r,adminOnly:l,showDetailedError:!0,children:s},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:107,columnNumber:5},void 0),Vi=()=>(a.useEffect(()=>{is.info("Application initialisée avec administration unifiée",{version:"1.0.0",environment:"production",features:["unified_administration","enhanced_permissions"]});const s=performance.now()-(window.initialLoadTime||0);return s>0&&is.logPerformance("app-initial-load",s),()=>{is.flush().catch(console.error)}},[]),e.jsxDEV(Ha,{theme:ji,children:e.jsxDEV(Hr,{dateAdapter:Yr,adapterLocale:Xr,children:e.jsxDEV(sa,{children:e.jsxDEV(ii,{children:e.jsxDEV(oa,{children:e.jsxDEV(Ka,{children:[e.jsxDEV(ge,{path:"/auth",element:e.jsxDEV(oi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:144,columnNumber:46},void 0),children:e.jsxDEV(ge,{path:"login",element:e.jsxDEV(li,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:145,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:145,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:144,columnNumber:17},void 0),e.jsxDEV(ge,{path:"/",element:e.jsxDEV(aa,{fallbackUrl:"/auth/login",children:e.jsxDEV(di,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:154,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:153,columnNumber:21},void 0),children:[e.jsxDEV(ge,{index:!0,element:e.jsxDEV(Ue,{module:"DASHBOARD",children:e.jsxDEV(mi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:163,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:162,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:159,columnNumber:19},void 0),e.jsxDEV(ge,{path:"analyses-interpretations",element:e.jsxDEV(Ue,{module:"ANALYSES",children:e.jsxDEV(Or,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:173,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:172,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:169,columnNumber:19},void 0),e.jsxDEV(ge,{path:"analyses-fonctions",element:e.jsxDEV(Ue,{module:"ANALYSES",children:e.jsxDEV($r,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:181,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:180,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:177,columnNumber:19},void 0),e.jsxDEV(ge,{path:"analyses-fonctions/:id",element:e.jsxDEV(Ue,{module:"ANALYSES",children:e.jsxDEV($r,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:189,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:188,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:185,columnNumber:19},void 0),e.jsxDEV(ge,{path:"analyses-interpretations/:id",element:e.jsxDEV(Ue,{module:"ANALYSES",children:e.jsxDEV(Or,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:197,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:196,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:193,columnNumber:19},void 0),e.jsxDEV(ge,{path:"analyses/calculer/:id",element:e.jsxDEV(Ue,{module:"ANALYSES",action:"editer",children:e.jsxDEV(vi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:205,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:204,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:201,columnNumber:19},void 0),e.jsxDEV(ge,{path:"applications",element:e.jsxDEV(Ue,{module:"APPLICATIONS",children:e.jsxDEV(Ni,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:215,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:214,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:211,columnNumber:19},void 0),e.jsxDEV(ge,{path:"formulaires",element:e.jsxDEV(Ue,{module:"FORMULAIRES",children:e.jsxDEV(Mi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:225,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:224,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:221,columnNumber:19},void 0),e.jsxDEV(ge,{path:"formulaires/new",element:e.jsxDEV(Ue,{module:"FORMULAIRES",action:"editer",children:e.jsxDEV(Ei,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:233,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:232,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:229,columnNumber:19},void 0),e.jsxDEV(ge,{path:"formulaires/:id",element:e.jsxDEV(Ue,{module:"FORMULAIRES",children:e.jsxDEV(Di,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:241,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:240,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:237,columnNumber:19},void 0),e.jsxDEV(ge,{path:"questionnaires",element:e.jsxDEV(Ue,{module:"QUESTIONNAIRES",children:e.jsxDEV(ui,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:251,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:250,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:247,columnNumber:19},void 0),e.jsxDEV(ge,{path:"questionnaires/:id",element:e.jsxDEV(Ue,{module:"QUESTIONNAIRES",children:e.jsxDEV(ci,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:259,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:258,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:255,columnNumber:19},void 0),e.jsxDEV(ge,{path:"questionnaires/admin",element:e.jsxDEV(Ue,{module:"QUESTIONNAIRES",action:"administrer",children:e.jsxDEV(bi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:267,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:266,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:263,columnNumber:19},void 0),e.jsxDEV(ge,{path:"organisations",element:e.jsxDEV(Ue,{module:"ENTREPRISES",children:e.jsxDEV(kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:277,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:276,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:273,columnNumber:19},void 0),e.jsxDEV(ge,{path:"organisations/:name",element:e.jsxDEV(Ue,{module:"ENTREPRISES",children:e.jsxDEV(kr,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:285,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:284,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:281,columnNumber:19},void 0),e.jsxDEV(ge,{path:"admin",element:e.jsxDEV(Ue,{module:"ADMINISTRATION",adminOnly:!0,children:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:296,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:295,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:292,columnNumber:19},void 0),e.jsxDEV(ge,{path:"admin/users",element:e.jsxDEV(Ue,{module:"ADMIN_USERS",adminOnly:!0,children:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:305,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:304,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:301,columnNumber:19},void 0),e.jsxDEV(ge,{path:"admin/users/:id",element:e.jsxDEV(Ue,{module:"ADMIN_USERS",adminOnly:!0,children:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:314,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:313,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:310,columnNumber:19},void 0),e.jsxDEV(ge,{path:"admin/permissions",element:e.jsxDEV(Ue,{module:"ADMIN_PERMISSIONS",adminOnly:!0,children:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:323,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:322,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:319,columnNumber:19},void 0),e.jsxDEV(ge,{path:"admin/roles",element:e.jsxDEV(Ue,{module:"ADMIN_ROLES",adminOnly:!0,children:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:332,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:331,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:328,columnNumber:19},void 0),e.jsxDEV(ge,{path:"admin/maturity-model",element:e.jsxDEV(Ue,{module:"ADMIN_MATURITY",adminOnly:!0,children:e.jsxDEV(Ui,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:341,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:340,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:337,columnNumber:19},void 0),e.jsxDEV(ge,{path:"admin/system",element:e.jsxDEV(Ue,{module:"ADMIN_SYSTEM",adminOnly:!0,children:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:350,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:349,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:346,columnNumber:19},void 0),e.jsxDEV(ge,{path:"users",element:e.jsxDEV(Ns,{to:"/admin/users",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:358,columnNumber:30},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:356,columnNumber:19},void 0),e.jsxDEV(ge,{path:"users/:id",element:e.jsxDEV(Ns,{to:"/admin/users",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:362,columnNumber:30},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:360,columnNumber:19},void 0),e.jsxDEV(ge,{path:"permissions",element:e.jsxDEV(Ns,{to:"/admin/permissions",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:366,columnNumber:30},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:364,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:150,columnNumber:17},void 0),e.jsxDEV(ge,{path:"/login",element:e.jsxDEV(Ns,{to:"/auth/login",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:371,columnNumber:47},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:371,columnNumber:17},void 0),e.jsxDEV(ge,{path:"*",element:e.jsxDEV(Ns,{to:"/auth/login",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:372,columnNumber:42},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:372,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:142,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:141,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:140,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:139,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:138,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/App.tsx",lineNumber:137,columnNumber:5},void 0));window.__reactRouterVersion={v7_startTransition:!0};const Ai=()=>{const s=document.getElementById("splash-screen");s&&(s.style.opacity="0",setTimeout(()=>{s.style.display="none"},500))};ta.createRoot(document.getElementById("root")).render(e.jsxDEV(Us.StrictMode,{children:e.jsxDEV(sa,{children:e.jsxDEV(Vi,{},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/main.tsx",lineNumber:30,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/main.tsx",lineNumber:29,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-Cédric/maturity-assessment-dasboard/src/main.tsx",lineNumber:28,columnNumber:3},void 0));setTimeout(Ai,1e3);
//# sourceMappingURL=index-BoeyOeyK.js.map
