var ha=Object.defineProperty;var ya=(s,t,r)=>t in s?ha(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var qs=(s,t,r)=>ya(s,typeof t!="symbol"?t+"":t,r);import{r as i,c as e,b as vs}from"./react-CW6gyLGC.js";import{a as ga}from"./react-dom-VufzJFnG.js";import{L as Kr,u as va,B as Ma}from"./react-router-dom-C1NkVR1J.js";import{u as Ea,a as Da,B as d,C as Ua,A as ja,T as ur,I as Me,M as Va,b as a,c as us,d as hr,L as Aa,D as Jr,e as _a,f as es,g as Ns,P as yr,h as me,i as Ia,j as Ps,k as Er,Q as Dr,S as Sa,l as wa,m as qa,n as Xr,o as gs,p as gr,q as Rr,r as ls,E as Fa,s as Ms,t as Ra,v as $e,w as ze,x as ue,y as fe,z as le,F as Zr,G as ys,H as Y,J as u,R as ar,K as ye,N as ge,O as Bs,U as ir,V as La,W as ka,X as Ur,Y as jr,Z as ss,_ as Ge,$ as He,a0 as Ye,a1 as De,a2 as b,a3 as Ke,a4 as Be,a5 as xs,a6 as ts,a7 as Ls,a8 as ks,a9 as Ts,aa as Ss,ab as Xe,ac as Ta,ad as fs,ae as Je,af as rs,ag as as,ah as is,ai as Oe,aj as We,ak as Qe,al as Ee,am as Pa,an as Zs,ao as ns,ap as $s,aq as ea,ar as sa,as as $a,at as za,au as Lr,av as Oa,aw as vr,ax as Ws,ay as Ba,az as ds,aA as ra,aB as aa,aC as ia,aD as na,aE as Wa,aF as ta,aG as Qa,aH as Ga,aI as da,aJ as Ha,aK as kr,aL as Ya,aM as oa,aN as Ka,aO as Ja,aP as cr,aQ as la,aR as Xa,aS as Za,aT as Vr,aU as ei,aV as si,aW as ri,aX as Qs,aY as ai,aZ as ii,a_ as ni,a$ as ti,b0 as di,b1 as oi,b2 as li}from"./@mui-4QPNxTv4.js";import{a4 as ma}from"./date-fns-0_aLd2RI.js";import{a as mi}from"./axios-xsH4HHeE.js";import{b as Ze,a as nr,O as ua,g as zs,h as Cs,i as ui,j as Ae}from"./react-router-X8OZmSDE.js";import{R as Es,B as ca,C as Ar,X as _r,Y as Ir,T as sr,L as Is,a as ba,b as Mr,P as ci,c as bi,d as Sr,e as wr,f as qr,g as Fr,h as rr,i as fi,j as Ni}from"./recharts-BacKPPsp.js";import{F as Gs,a as br,b as xi,c as fr,d as Hs,e as Nr,f as Ys,g as Ks,h as Tr,i as pi,j as Ci,k as Pr,l as hi}from"./@heroicons-gDIRfMkb.js";import"./scheduler-BdgtklXn.js";import"./@remix-run-DUCO3W-r.js";import"./@emotion-DcY20CWh.js";import"./hoist-non-react-statics-ChoYklYu.js";import"./@babel-BtohYyOd.js";import"./stylis-Blw2ohPC.js";import"./prop-types-BhEpm81J.js";import"./object-assign-Dw8nQtKq.js";import"./react-is-6VGF0abh.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-BFOp6jtI.js";import"./dom-helpers-D0mFdbeO.js";import"./@popperjs-CMBiYTiD.js";import"./lodash-DjiupQAW.js";import"./react-smooth-CGlHDv2K.js";import"./fast-equals-BIyco3rD.js";import"./tiny-invariant-7zSWqrSz.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";import"./eventemitter3-BfpcI_6t.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))m(l);new MutationObserver(l=>{for(const D of l)if(D.type==="childList")for(const N of D.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&m(N)}).observe(document,{childList:!0,subtree:!0});function r(l){const D={};return l.integrity&&(D.integrity=l.integrity),l.referrerPolicy&&(D.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?D.credentials="include":l.crossOrigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function m(l){if(l.ep)return;l.ep=!0;const D=r(l);fetch(l.href,D)}})();const yi={minLevel:"DEBUG",sendToServer:!1,serverUrl:"/api/logs",batchSize:10,sendInterval:3e4,includeUserInfo:!0},$r={DEBUG:0,INFO:1,WARN:2,ERROR:3};class gi{constructor(t={}){qs(this,"config");qs(this,"logBuffer",[]);qs(this,"sendTimer",null);qs(this,"sessionId");this.config={...yi,...t},this.sessionId=this.getOrCreateSessionId(),this.config.sendToServer&&(this.startSendTimer(),this.setupUnloadHandler()),this.setupErrorCapture()}getOrCreateSessionId(){let t=sessionStorage.getItem("logSessionId");return t||(t=Date.now().toString(36)+Math.random().toString(36).substring(2),sessionStorage.setItem("logSessionId",t)),t}startSendTimer(){this.sendTimer&&window.clearInterval(this.sendTimer),this.sendTimer=window.setInterval(()=>{this.sendLogs()},this.config.sendInterval)}setupErrorCapture(){window.addEventListener("error",t=>{var r;return this.error("Erreur non g√©r√©e",{message:t.message,filename:t.filename,lineno:t.lineno,colno:t.colno,stack:(r=t.error)==null?void 0:r.stack}),!1}),window.addEventListener("unhandledrejection",t=>{var r,m;return this.error("Promesse rejet√©e non g√©r√©e",{reason:((r=t.reason)==null?void 0:r.message)||String(t.reason),stack:(m=t.reason)==null?void 0:m.stack}),!1})}async sendLogs(t=!1){if(!this.config.sendToServer||this.logBuffer.length<this.config.batchSize&&!t||this.logBuffer.length===0)return;const r=[...this.logBuffer];this.logBuffer=[];try{const m={sessionId:this.sessionId,batchId:Date.now().toString(36),userAgent:navigator.userAgent,language:navigator.language,screenSize:`${window.innerWidth}x${window.innerHeight}`,userId:localStorage.getItem("userId")||void 0,url:window.location.href,referrer:document.referrer},l=await fetch(this.config.serverUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:r,metadata:m}),signal:AbortSignal.timeout?AbortSignal.timeout(5e3):void 0});l.ok||(console.error(`√âchec d'envoi des logs: ${l.status}`),this.logBuffer=[...r,...this.logBuffer])}catch(m){console.error("Erreur lors de l'envoi des logs:",m),this.logBuffer=[...r,...this.logBuffer]}}setupUnloadHandler(){window.addEventListener("beforeunload",()=>{this.sendLogs(!0)})}addLog(t,r,m={}){if($r[t]<$r[this.config.minLevel])return;const l={level:t,message:r,timestamp:new Date().toISOString(),details:{...m}};switch(this.logBuffer.push(l),t){case"DEBUG":console.debug(`[${t}] ${r}`,m);break;case"INFO":console.info(`[${t}] ${r}`,m);break;case"WARN":console.warn(`[${t}] ${r}`,m);break;case"ERROR":console.error(`[${t}] ${r}`,m),this.sendLogs(!0);break}}debug(t,r={}){this.addLog("DEBUG",t,r)}info(t,r={}){this.addLog("INFO",t,r)}warn(t,r={}){this.addLog("WARN",t,r)}error(t,r={}){this.addLog("ERROR",t,r)}flush(){return this.sendLogs(!0)}setConfig(t){this.config={...this.config,...t},this.config.sendToServer?this.startSendTimer():this.sendTimer&&(window.clearInterval(this.sendTimer),this.sendTimer=null)}logUserAction(t,r={}){this.info(`Action utilisateur: ${t}`,{type:"user_action",action:t,...r})}logNavigation(t,r={}){this.info(`Navigation: ${t}`,{type:"navigation",path:t,...r})}logPerformance(t,r,m={}){this.info(`Performance: ${t} (${r}ms)`,{type:"performance",operation:t,durationMs:r,...m})}logApiCall(t,r,m,l,D={}){const N=m>=400?"ERROR":"INFO";this.addLog(N,`API ${r} ${t}: ${m} (${l}ms)`,{type:"api_call",endpoint:t,method:r,status:m,durationMs:l,...D})}}const we=new gi,vi=()=>"https://api-dev.dev-maturity.e-dsin.fr",Ds=vi(),zr="/api";console.log("üåê Configuration API:",{baseURL:Ds,environment:"production",isDev:!0,customUrl:"https://api-dev.dev-maturity.e-dsin.fr"});const os=mi.create({baseURL:Ds,headers:{"Content-Type":"application/json"},timeout:3e4,withCredentials:!0});os.interceptors.request.use(s=>{var m;s.metadata={startTime:Date.now()};const t=localStorage.getItem("auth_token");t&&s.headers&&(s.headers.Authorization=`Bearer ${t}`),s.headers&&(s.headers.Accept="application/json",s.headers["Cache-Control"]="no-cache");const r={method:((m=s.method)==null?void 0:m.toUpperCase())||"GET",url:s.url||"unknown",baseURL:s.baseURL,hasToken:!!t};if(s.data)try{const l=typeof s.data=="string"?s.data:JSON.stringify(s.data);r.data=l.substring(0,500)}catch{}return we.debug(`API Request: ${r.method} ${r.url}`,r),s},s=>{const t=(s==null?void 0:s.message)||"Erreur inconnue de requ√™te API",r=(s==null?void 0:s.stack)||"";return we.error("Erreur de requ√™te API",{message:t,stack:r}),Promise.reject(s)});os.interceptors.response.use(s=>{var l,D,N;const t=Or(s.config),r=((l=s.config)==null?void 0:l.url)||"unknown",m=((N=(D=s.config)==null?void 0:D.method)==null?void 0:N.toUpperCase())||"GET";return we.info(`API Response: ${m} ${r} - ${s.status}`,{status:s.status,statusText:s.statusText||"",duration:t,size:s.data?JSON.stringify(s.data).length:0,url:r}),s},s=>{var r,m,l,D,N,B,C,W,g,$;const t={url:((r=s.config)==null?void 0:r.url)||"unknown",method:((l=(m=s.config)==null?void 0:m.method)==null?void 0:l.toUpperCase())||"UNKNOWN",status:(D=s.response)==null?void 0:D.status,statusText:((N=s.response)==null?void 0:N.statusText)||"",duration:s.config?Or(s.config):null,message:(s==null?void 0:s.message)||"Erreur inconnue",baseURL:(B=s.config)==null?void 0:B.baseURL};return((C=s.response)==null?void 0:C.status)===401?(we.warn("Session expir√©e ou non authentifi√©e",t),localStorage.removeItem("auth_token"),window.location.pathname.includes("/auth/login")||(window.location.href="/auth/login")):((W=s.response)==null?void 0:W.status)===0||s.code==="NETWORK_ERROR"?we.error("Erreur de r√©seau - Backend inaccessible",{...t,type:"NETWORK_ERROR",backendURL:Ds}):((g=s.response)==null?void 0:g.status)>=500?we.error("Erreur serveur backend",{...t,type:"SERVER_ERROR"}):we.error("Erreur de r√©ponse API",{...t,...(($=s.response)==null?void 0:$.data)&&{response:JSON.stringify(s.response.data).substring(0,500),stack:(s==null?void 0:s.stack)||""}}),Promise.reject(s)});const bs=s=>{if(s.startsWith(zr)||["/health","/health-simple"].some(m=>s.startsWith(m)))return s;const r=`${zr}${s.startsWith("/")?s:`/${s}`}`;return console.log(`üîÑ URL Normalization: "${s}" ‚Üí "${r}"`),r},Or=s=>{var t;try{if((t=s==null?void 0:s.metadata)!=null&&t.startTime)return Date.now()-s.metadata.startTime}catch{}return 0},ps=async(s,t,r,m={})=>{const l=bs(t),D=performance.now();try{const N=await r(),B=performance.now()-D;return B>2e3&&we.warn(`API Performance: ${s} ${l} - ${Math.round(B)}ms (SLOW)`,{...m,duration:B,baseURL:Ds}),N}catch(N){throw N}},Mi=async()=>{try{return await os.get("/health",{timeout:5e3}),we.info("‚úÖ Test de connectivit√© r√©ussi",{backendURL:Ds}),!0}catch(s){return we.error("‚ùå Test de connectivit√© √©chou√©",{backendURL:Ds,error:s instanceof Error?s.message:"Unknown error"}),!1}},U={testConnection:Mi,getBaseURL:()=>Ds,get:(s,t)=>{const r=bs(s);return ps("GET",r,()=>os.get(r,t).then(m=>m.data),{params:t==null?void 0:t.params})},post:(s,t,r)=>{const m=bs(s);return ps("POST",m,()=>os.post(m,t,r).then(l=>l.data),{dataSize:t?JSON.stringify(t).length:0})},put:(s,t,r)=>{const m=bs(s);return ps("PUT",m,()=>os.put(m,t,r).then(l=>l.data),{dataSize:t?JSON.stringify(t).length:0})},patch:(s,t,r)=>{const m=bs(s);return ps("PATCH",m,()=>os.patch(m,t,r).then(l=>l.data),{dataSize:t?JSON.stringify(t).length:0})},delete:(s,t)=>{const r=bs(s);return ps("DELETE",r,()=>os.delete(r,t).then(m=>m.data),{})},downloadFile:(s,t)=>{const r=bs(s);return ps("GET",r,()=>os.get(r,{...t,responseType:"blob"}).then(m=>m.data),{responseType:"blob"})},uploadFile:(s,t,r)=>{const m=bs(s);return ps("POST",m,()=>os.post(m,t,{...r,headers:{...r==null?void 0:r.headers,"Content-Type":"multipart/form-data"}}).then(l=>l.data),{formDataEntries:Array.from(t.keys()).join(",")})}},er={DASHBOARD:{nom_module:"DASHBOARD",route_base:"/",description:"Tableau de bord principal",icone:"dashboard",ordre:1},QUESTIONNAIRES:{nom_module:"QUESTIONNAIRES",route_base:"/questionnaires",description:"Gestion des questionnaires",icone:"quiz",ordre:2},FORMULAIRES:{nom_module:"FORMULAIRES",route_base:"/formulaires",description:"Gestion des formulaires",icone:"assignment",ordre:3},ANALYSES:{nom_module:"ANALYSES",route_base:"/analyses-fonctions",description:"Analyses et recommandations",icone:"analytics",ordre:4},APPLICATIONS:{nom_module:"APPLICATIONS",route_base:"/applications",description:"Portfolio applications",icone:"apps",ordre:5},ENTREPRISES:{nom_module:"ENTREPRISES",route_base:"/organisations",description:"Gestion des organisations",icone:"business",ordre:6},ADMINISTRATION:{nom_module:"ADMINISTRATION",route_base:"/admin",description:"Administration syst√®me",icone:"admin_panel_settings",ordre:10,sous_modules:{USERS:{nom_module:"ADMIN_USERS",route_base:"/admin/users",description:"Gestion des utilisateurs",icone:"people"},PERMISSIONS:{nom_module:"ADMIN_PERMISSIONS",route_base:"/admin/permissions",description:"Gestion des permissions",icone:"security"},ROLES:{nom_module:"ADMIN_ROLES",route_base:"/admin/roles",description:"Gestion des r√¥les",icone:"account_circle"},MATURITY:{nom_module:"ADMIN_MATURITY",route_base:"/admin/maturity-model",description:"Mod√®le de maturit√©",icone:"model_training"},SYSTEM:{nom_module:"ADMIN_SYSTEM",route_base:"/admin/system",description:"Configuration syst√®me",icone:"settings"}}}},fa=i.createContext({currentUser:null,isAuthenticated:!1,isLoading:!0,login:async()=>{},logout:async()=>{},register:async()=>{},forgotPassword:async()=>{},updateProfile:async()=>{},error:null,permissions:[],hasGlobalAccess:!1,hasPermission:()=>!1,canAccessRoute:()=>!1,canAccessAdminModule:()=>!1,getAccessibleModules:()=>[],getAdminSubModules:()=>[],refreshPermissions:async()=>{},isAdmin:()=>!1,isSuperAdmin:()=>!1,getAllAppModules:()=>er}),tr=()=>i.useContext(fa),Ei=({children:s})=>{const[t,r]=i.useState(null),[m,l]=i.useState(!1),[D,N]=i.useState(!0),[B,C]=i.useState(null),[W,g]=i.useState([]),[$,z]=i.useState(!1),P=i.useCallback(x=>{var p;if(!x)return!1;const c=(p=x.nom_role)==null?void 0:p.toUpperCase();return c==="ADMINISTRATEUR"||c==="SUPER_ADMINISTRATEUR"||x.niveau_acces==="GLOBAL"},[]),_=i.useCallback(x=>{var p;return x?((p=x.nom_role)==null?void 0:p.toUpperCase())==="SUPER_ADMINISTRATEUR":!1},[]),k=i.useCallback(()=>{const x=[];return Object.values(er).forEach(c=>{const p={nom_module:c.nom_module,route_base:c.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0};"sous_modules"in c&&c.sous_modules&&(p.sous_permissions=Object.values(c.sous_modules).map(M=>({nom_module:M.nom_module,route_base:M.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0}))),x.push(p)}),x},[]),Q=i.useCallback((x,c)=>{const p=[{nom_module:"DASHBOARD",route_base:"/",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1},{nom_module:"QUESTIONNAIRES",route_base:"/questionnaires",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"FORMULAIRES",route_base:"/formulaires",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"ANALYSES",route_base:"/analyses-fonctions",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1}],M=x==null?void 0:x.toUpperCase();return console.log("üîë Analyse du r√¥le:",{nomRole:x,roleUpper:M,niveauAcces:c}),M==="SUPER_ADMINISTRATEUR"||M==="ADMINISTRATEUR"||c==="GLOBAL"?(console.log("üîë G√©n√©ration permissions Administrateur (TOUTES PERMISSIONS)"),k()):M==="CONSULTANT"?(console.log("üîë G√©n√©ration permissions Consultant (√âTENDUES)"),p.map(L=>({...L,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!1})).concat([{nom_module:"APPLICATIONS",route_base:"/applications",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1},{nom_module:"ENTREPRISES",route_base:"/organisations",peut_voir:!0,peut_editer:!0,peut_supprimer:!1,peut_administrer:!1}])):M==="MANAGER"?(console.log("üîë G√©n√©ration permissions Manager (MOYENNES)"),p.map(L=>({...L,peut_voir:!0,peut_editer:L.nom_module!=="DASHBOARD",peut_supprimer:!1,peut_administrer:!1})).concat([{nom_module:"APPLICATIONS",route_base:"/applications",peut_voir:!0,peut_editer:!1,peut_supprimer:!1,peut_administrer:!1}])):(console.log("üîë G√©n√©ration permissions Intervenant (BASE)"),p)},[k]),v=i.useCallback(async()=>{var x;try{if(N(!0),localStorage.getItem("auth_token")){console.log("üîë Token trouv√©, v√©rification...");try{const p=await U.get("user/permissions");r(p.user),g(p.permissions||[]),z(p.hasGlobalAccess||P(p.user)),l(!0),C(null),console.log("‚úÖ Utilisateur authentifi√© avec syst√®me de permissions")}catch{console.log("‚ö†Ô∏è Endpoint permissions non disponible, utilisation /auth/me...");const M=await U.get("auth/me"),L=M.user||((x=M.data)==null?void 0:x.user);L&&(console.log("üîç Utilisateur depuis /auth/me:",L),r(L),g(Q(L.nom_role,L.niveau_acces)),z(P(L)),l(!0),C(null),console.log("‚úÖ Utilisateur authentifi√© (fallback /auth/me)"))}}else console.log("‚ÑπÔ∏è Aucun token trouv√©")}catch(c){console.warn("‚ö†Ô∏è Erreur d'authentification:",c.message),localStorage.removeItem("auth_token"),r(null),g([]),z(!1),l(!1)}finally{N(!1)}},[P,Q]),O=async(x,c)=>{var p,M,L,X;try{C(null),N(!0),console.log("üîÑ === D√âBUT LOGIN ==="),console.log("üìß Email:",x);const T=await U.post("auth/login",{email:x,password:c});if(T.token&&T.user)console.log("üîç R√©ponse login compl√®te:",T),console.log("üîç Utilisateur re√ßu:",T.user),localStorage.setItem("auth_token",T.token),r(T.user),g(Q(T.user.nom_role,T.user.niveau_acces)),z(P(T.user)),l(!0),console.log("‚úÖ === LOGIN R√âUSSI ==="),console.log("üë§ Utilisateur:",{email:T.user.email,nom_role:T.user.nom_role,niveau_acces:T.user.niveau_acces,isAdmin:P(T.user),isSuperAdmin:_(T.user)});else throw new Error("R√©ponse de connexion invalide")}catch(T){console.error("‚ùå === ERREUR LOGIN ==="),console.error("Message:",((M=(p=T.response)==null?void 0:p.data)==null?void 0:M.message)||T.message);const be=((X=(L=T.response)==null?void 0:L.data)==null?void 0:X.message)||T.message||"Erreur de connexion";throw C(be),new Error(be)}finally{N(!1),console.log("üèÅ === FIN LOGIN ===")}},h=async()=>{try{await U.post("auth/logout")}catch(x){console.warn("Erreur lors de la d√©connexion:",x)}finally{localStorage.removeItem("auth_token"),r(null),g([]),z(!1),l(!1),console.log("‚úÖ D√©connexion r√©ussie")}},I=async x=>{var c,p;try{C(null),N(!0);const M=await U.post("auth/register",x);M.token&&M.user&&(localStorage.setItem("auth_token",M.token),r(M.user),g(Q(M.user.nom_role,M.user.niveau_acces)),z(P(M.user)),l(!0))}catch(M){const L=((p=(c=M.response)==null?void 0:c.data)==null?void 0:p.message)||"Erreur lors de l'inscription";throw C(L),new Error(L)}finally{N(!1)}},q=async x=>{var c,p;try{C(null),await U.post("auth/forgot-password",{email:x})}catch(M){const L=((p=(c=M.response)==null?void 0:c.data)==null?void 0:p.message)||"Erreur lors de la r√©cup√©ration";throw C(L),new Error(L)}},j=async x=>{var c,p;try{C(null);const M=await U.put("auth/profile",x);M.user&&(r(M.user),z(P(M.user)))}catch(M){const L=((p=(c=M.response)==null?void 0:c.data)==null?void 0:p.message)||"Erreur lors de la mise √† jour";throw C(L),new Error(L)}},R=i.useCallback(()=>P(t),[t,P]),te=i.useCallback(()=>_(t),[t,_]),Ce=i.useCallback((x,c)=>{if(P(t)||_(t)||$)return!0;let p=W.find(M=>M.nom_module.toUpperCase()===x.toUpperCase());if(!p){for(const M of W)if(M.sous_permissions&&(p=M.sous_permissions.find(L=>L.nom_module.toUpperCase()===x.toUpperCase()),p))break}if(!p)return!1;switch(c.toLowerCase()){case"voir":case"view":return p.peut_voir;case"editer":case"edit":return p.peut_editer;case"supprimer":case"delete":return p.peut_supprimer;case"administrer":case"admin":return p.peut_administrer;default:return!1}},[t,W,$,P,_]),G=i.useCallback(x=>{if(P(t)||_(t)||$)return!0;const c=x.startsWith("/")?x.substring(1):x,p={"":"DASHBOARD",dashboard:"DASHBOARD",questionnaires:"QUESTIONNAIRES",formulaires:"FORMULAIRES","analyses-fonctions":"ANALYSES","analyses-interpretations":"ANALYSES",applications:"APPLICATIONS",organisations:"ENTREPRISES",admin:"ADMINISTRATION","admin/users":"ADMIN_USERS","admin/permissions":"ADMIN_PERMISSIONS","admin/roles":"ADMIN_ROLES","admin/maturity-model":"ADMIN_MATURITY","admin/system":"ADMIN_SYSTEM",users:"ADMIN_USERS"};let M=null;for(const[L,X]of Object.entries(p))if(c.startsWith(L)){M=X;break}return M?Ce(M,"voir"):!1},[t,$,Ce,P,_]),K=i.useCallback(x=>P(t)||_(t)||$?!0:Ce(`ADMIN_${x.toUpperCase()}`,"voir"),[t,$,Ce,P,_]),ie=i.useCallback(()=>P(t)||_(t)||$?k():W.filter(x=>x.peut_voir),[t,$,W,k,P,_]),xe=i.useCallback(()=>{var c;if(P(t)||_(t)||$){const p=er.ADMINISTRATION;if(p.sous_modules)return Object.values(p.sous_modules).map(M=>({nom_module:M.nom_module,route_base:M.route_base,peut_voir:!0,peut_editer:!0,peut_supprimer:!0,peut_administrer:!0}))}const x=W.find(p=>p.nom_module==="ADMINISTRATION");return((c=x==null?void 0:x.sous_permissions)==null?void 0:c.filter(p=>p.peut_voir))||[]},[t,$,W,P,_]),y=i.useCallback(async()=>{m&&await v()},[m,v]),J=i.useCallback(()=>er,[]);i.useEffect(()=>{v()},[v]);const S={currentUser:t,isAuthenticated:m,isLoading:D,login:O,logout:h,register:I,forgotPassword:q,updateProfile:j,error:B,permissions:W,hasGlobalAccess:$,hasPermission:Ce,canAccessRoute:G,canAccessAdminModule:K,getAccessibleModules:ie,getAdminSubModules:xe,refreshPermissions:y,isAdmin:R,isSuperAdmin:te,getAllAppModules:J};return e.jsxDEV(fa.Provider,{value:S,children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/contexts/AuthContext.tsx",lineNumber:666,columnNumber:5},void 0)},Vs=280,Di=()=>{const s=Ea(),t=Da(s.breakpoints.down("md")),[r,m]=i.useState(!t),[l,D]=i.useState(!1),N=Ze(),B=nr(),{currentUser:C,hasPermission:W,canAccessRoute:g,canAccessAdminModule:$,isAdmin:z,isSuperAdmin:P,logout:_,getAdminSubModules:k}=tr(),Q=[{text:"Dashboard",icon:e.jsxDEV(Ia,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:81,columnNumber:13},void 0),path:"/",module:"DASHBOARD",action:"voir"},{text:"Analyses & Recommandations",icon:e.jsxDEV(Ps,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:88,columnNumber:13},void 0),path:"/analyses-fonctions",module:"ANALYSES",action:"voir"},{text:"Formulaires",icon:e.jsxDEV(Er,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:95,columnNumber:13},void 0),path:"/formulaires",module:"FORMULAIRES",action:"voir"},{text:"Questionnaires",icon:e.jsxDEV(Dr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:102,columnNumber:13},void 0),path:"/questionnaires",module:"QUESTIONNAIRES",action:"voir"},{text:"",icon:e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:111,columnNumber:13},void 0),divider:!0},{text:"Administration",icon:e.jsxDEV(hr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:117,columnNumber:13},void 0),module:"ADMINISTRATION",action:"voir",adminOnly:!0,subItems:[{text:"Gestion des Utilisateurs",icon:e.jsxDEV(yr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:124,columnNumber:17},void 0),path:"/admin",module:"ADMIN_USERS",action:"voir"},{text:"Permissions & R√¥les",icon:e.jsxDEV(Sa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:131,columnNumber:17},void 0),path:"/admin",module:"ADMIN_PERMISSIONS",action:"voir"},{text:"Entreprises",icon:e.jsxDEV(wa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:138,columnNumber:17},void 0),path:"/admin",module:"ADMINISTRATION",action:"voir"},{text:"Mod√®le de Maturit√©",icon:e.jsxDEV(qa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:145,columnNumber:17},void 0),path:"/admin/maturity-model",module:"ADMIN_MATURITY",action:"voir"},{text:"Configuration Syst√®me",icon:e.jsxDEV(Xr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:152,columnNumber:17},void 0),path:"/admin/system",module:"ADMIN_SYSTEM",action:"voir"}]}],v=()=>{m(!r)},O=G=>{N(G),t&&m(!1)},h=()=>{D(!l)},I=async()=>{try{await _(),N("/auth/login")}catch(G){console.error("Erreur lors de la d√©connexion:",G)}},q=G=>G.adminOnly&&!z()&&!P()?!1:G.module&&G.action?W(G.module,G.action):G.path?g(G.path):!0,j=G=>G.path?G.path==="/admin"&&B.pathname.startsWith("/admin")?!0:B.pathname===G.path||B.pathname.startsWith(G.path+"/"):!1,R=()=>B.pathname.startsWith("/admin"),te=(G,K=!1)=>{if(G.divider)return e.jsxDEV(es,{sx:{my:1}},"divider",!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:225,columnNumber:14},void 0);if(!q(G))return null;const ie=j(G),xe=G.subItems&&G.subItems.length>0;return e.jsxDEV(gs,{disablePadding:!0,sx:{pl:K?4:0},children:e.jsxDEV(gr,{selected:ie,onClick:()=>{xe&&G.text==="Administration"?h():G.path&&O(G.path)},sx:{borderRadius:1,mx:1,mb:.5,...ie&&{backgroundColor:"primary.main",color:"primary.contrastText","&:hover":{backgroundColor:"primary.dark"},"& .MuiListItemIcon-root":{color:"primary.contrastText"}}},children:[e.jsxDEV(Rr,{sx:{minWidth:40},children:G.icon},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:262,columnNumber:11},void 0),e.jsxDEV(ls,{primary:e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxDEV(a,{variant:"body2",sx:{fontWeight:ie?600:400},children:G.text},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:268,columnNumber:17},void 0),G.adminOnly&&e.jsxDEV(me,{label:"Admin",size:"small",color:"secondary",sx:{height:20,fontSize:"0.7rem",...ie&&{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"inherit"}}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:272,columnNumber:19},void 0),xe&&(l?e.jsxDEV(Fa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:287,columnNumber:35},void 0):e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:287,columnNumber:52},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:267,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:265,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:237,columnNumber:9},void 0)},G.text,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:236,columnNumber:7},void 0)},Ce=()=>{const G=Q.find(K=>K.text==="Administration");return!G||!G.subItems?null:e.jsxDEV(Ra,{in:l,timeout:"auto",unmountOnExit:!0,children:e.jsxDEV(Ns,{component:"div",disablePadding:!0,children:G.subItems.map(K=>{if(!q(K))return null;const ie=j(K);return e.jsxDEV(gs,{disablePadding:!0,sx:{pl:2},children:e.jsxDEV(gr,{selected:ie,onClick:()=>K.path&&O(K.path),sx:{borderRadius:1,mx:1,mb:.5,backgroundColor:ie?"rgba(0, 0, 0, 0.08)":"transparent","&:hover":{backgroundColor:ie?"rgba(0, 0, 0, 0.12)":"rgba(0, 0, 0, 0.04)"}},children:[e.jsxDEV(Rr,{sx:{minWidth:40,ml:2},children:K.icon},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:325,columnNumber:19},void 0),e.jsxDEV(ls,{primary:e.jsxDEV(a,{variant:"body2",sx:{fontWeight:ie?600:400},children:K.text},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:330,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:328,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:312,columnNumber:17},void 0)},K.text,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:311,columnNumber:15},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:304,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:303,columnNumber:7},void 0)};return vs.useEffect(()=>{R()&&D(!0)},[B.pathname]),e.jsxDEV(d,{sx:{display:"flex"},children:[e.jsxDEV(Ua,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:353,columnNumber:7},void 0),e.jsxDEV(ja,{position:"fixed",sx:{zIndex:s.zIndex.drawer+1,width:{sm:r?`calc(100% - ${Vs}px)`:"100%"},ml:{sm:r?`${Vs}px`:0},transition:s.transitions.create(["width","margin"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen})},children:e.jsxDEV(ur,{children:[e.jsxDEV(Me,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:v,sx:{mr:2},children:e.jsxDEV(Va,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:374,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:367,columnNumber:11},void 0),e.jsxDEV(a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:"Plateforme d'√âvaluation de Maturit√© - DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:376,columnNumber:11},void 0),e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsxDEV(d,{sx:{textAlign:"right",display:{xs:"none",sm:"block"}},children:[e.jsxDEV(a,{variant:"body2",sx:{opacity:.9},children:C==null?void 0:C.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:383,columnNumber:15},void 0),e.jsxDEV(a,{variant:"caption",sx:{opacity:.7},children:[(C==null?void 0:C.nom_role)||(C==null?void 0:C.role)," - ",C==null?void 0:C.organisation]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:386,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:382,columnNumber:13},void 0),(z()||P())&&e.jsxDEV(us,{color:"secondary",variant:"dot",children:e.jsxDEV(hr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:393,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:392,columnNumber:15},void 0),e.jsxDEV(Me,{color:"inherit",onClick:I,title:"D√©connexion",children:e.jsxDEV(Aa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:402,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:397,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:381,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:366,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:354,columnNumber:7},void 0),e.jsxDEV(Jr,{variant:t?"temporary":"permanent",open:r,onClose:()=>m(!1),sx:{width:Vs,flexShrink:0,"& .MuiDrawer-paper":{width:Vs,boxSizing:"border-box",...t&&{boxShadow:s.shadows[8]}}},children:[e.jsxDEV(ur,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2},children:[e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1},children:e.jsxDEV("img",{src:"/logo_qwanza.svg",alt:"Logo",style:{height:32,width:"auto"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:433,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:432,columnNumber:11},void 0),e.jsxDEV(Me,{onClick:v,children:e.jsxDEV(_a,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:440,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:439,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:424,columnNumber:9},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:443,columnNumber:9},void 0),e.jsxDEV(d,{sx:{overflow:"auto",flex:1},children:e.jsxDEV(Ns,{component:"nav",sx:{px:1,py:2},children:Q.map(G=>G.text==="Administration"?e.jsxDEV(vs.Fragment,{children:[te(G),Ce()]},"administration",!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:451,columnNumber:19},void 0):te(G))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:446,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:445,columnNumber:9},void 0),e.jsxDEV(d,{sx:{p:2,borderTop:"1px solid",borderColor:"divider"},children:[e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.jsxDEV(yr,{sx:{fontSize:16,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:465,columnNumber:13},void 0),e.jsxDEV(a,{variant:"caption",sx:{color:"text.secondary"},children:"Connect√© en tant que:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:466,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:464,columnNumber:11},void 0),e.jsxDEV(a,{variant:"body2",sx:{fontWeight:600,mb:.5},children:C==null?void 0:C.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:470,columnNumber:11},void 0),e.jsxDEV(a,{variant:"caption",sx:{color:"text.secondary"},children:[(C==null?void 0:C.nom_role)||(C==null?void 0:C.role),(z()||P())&&e.jsxDEV(me,{label:"Admin",size:"small",color:"primary",sx:{ml:1,height:16,fontSize:"0.7rem"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:476,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:473,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:463,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:408,columnNumber:7},void 0),e.jsxDEV(d,{component:"main",sx:{flexGrow:1,p:3,width:{sm:`calc(100% - ${r?Vs:0}px)`},ml:{sm:r?`${Vs}px`:0},transition:s.transitions.create("margin",{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen})},children:[e.jsxDEV(ur,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:500,columnNumber:9},void 0)," ",e.jsxDEV(ua,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:501,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:487,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/MainLayout.tsx",lineNumber:352,columnNumber:5},void 0)},Ui=({children:s})=>e.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxDEV("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxDEV(Kr,{to:"/",children:e.jsxDEV("img",{className:"mx-auto h-12 w-auto",src:"/logo_qwanza.svg",alt:"Plateforme √âvaluation Maturit√© DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:14,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:13,columnNumber:9},void 0),e.jsxDEV("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Plateforme d'√âvaluation Maturit√© DSIN"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:20,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:12,columnNumber:7},void 0),e.jsxDEV("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxDEV("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxDEV(ua,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:27,columnNumber:10},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:26,columnNumber:9},void 0),e.jsxDEV("div",{className:"mt-6 text-center text-sm text-gray-500",children:e.jsxDEV("p",{children:"¬© Qwanza 2025 - All right reserved"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:31,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:30,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:25,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/layouts/AuthLayout.tsx",lineNumber:11,columnNumber:5},void 0),ji=()=>{var k,Q;const s=Ze(),t=nr(),{login:r,error:m,isLoading:l,isAuthenticated:D}=tr(),[N,B]=i.useState({email:"intervenant@qwanza.fr",password:"Intervenant@01",rememberMe:!1}),[C,W]=i.useState(null),[g,$]=i.useState(!1),z=((Q=(k=t.state)==null?void 0:k.from)==null?void 0:Q.pathname)||"/";i.useEffect(()=>{D&&!l&&(console.log("‚úÖ Utilisateur d√©j√† authentifi√©, redirection vers:",z),s(z,{replace:!0}))},[D,l,s,z]);const P=v=>{const{name:O,value:h,checked:I}=v.target;B(q=>({...q,[O]:O==="rememberMe"?I:h})),C&&W(null)},_=async v=>{if(v.preventDefault(),W(null),!N.email||!N.password){W("Veuillez remplir tous les champs");return}$(!0);try{console.log("üîÑ Tentative de connexion avec:",N.email),await r(N.email,N.password),console.log("‚úÖ Connexion r√©ussie")}catch(O){console.error("‚ùå Erreur de connexion:",O),W(O.message||"Erreur de connexion. V√©rifiez vos identifiants.")}finally{$(!1)}};return l?e.jsxDEV($e,{component:"main",maxWidth:"xs",children:e.jsxDEV(d,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:99,columnNumber:11},void 0),e.jsxDEV(a,{variant:"body1",sx:{mt:2},children:"V√©rification de l'authentification..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:100,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:91,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:90,columnNumber:7},void 0):e.jsxDEV($e,{component:"main",maxWidth:"xs",children:e.jsxDEV(d,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(ue,{elevation:3,sx:{padding:4,width:"100%"},children:e.jsxDEV(d,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxDEV(a,{component:"h1",variant:"h4",gutterBottom:!0,sx:{color:"primary.main",fontWeight:"bold"},children:"eQwanza"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:121,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",align:"center",paragraph:!0,children:"Plateforme d'√âvaluation de Maturit√© - Acc√©dez √† votre espace"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:132,columnNumber:13},void 0),(m||C)&&e.jsxDEV(fe,{severity:"error",sx:{width:"100%",mb:2},children:m||C},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:138,columnNumber:15},void 0),e.jsxDEV(d,{component:"form",onSubmit:_,noValidate:!0,sx:{mt:1,width:"100%"},children:[e.jsxDEV(le,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Adresse email",name:"email",type:"email",autoComplete:"email",autoFocus:!0,value:N.email,onChange:P,disabled:g||l},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:144,columnNumber:15},void 0),e.jsxDEV(le,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"current-password",value:N.password,onChange:P,disabled:g||l},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:159,columnNumber:15},void 0),e.jsxDEV(Zr,{control:e.jsxDEV(ys,{value:"remember",color:"primary",name:"rememberMe",checked:N.rememberMe,onChange:P,disabled:g||l},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:175,columnNumber:19},void 0),label:"Se souvenir de moi"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:173,columnNumber:15},void 0),e.jsxDEV(Y,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5},disabled:g||l,startIcon:g?e.jsxDEV(ze,{size:20},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:193,columnNumber:43},void 0):null,children:g?"Connexion en cours...":"Se connecter"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:187,columnNumber:15},void 0),e.jsxDEV(d,{sx:{display:"flex",justifyContent:"center",mt:2},children:e.jsxDEV(Kr,{to:"/auth/register",style:{textDecoration:"none"},children:e.jsxDEV(a,{variant:"body2",color:"primary",children:"Pas encore de compte ? S'inscrire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:200,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:199,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:198,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:143,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:119,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:118,columnNumber:9},void 0),e.jsxDEV(ue,{elevation:1,sx:{mt:2,p:2,bgcolor:"info.light",width:"100%"},children:e.jsxDEV(a,{variant:"caption",color:"info.contrastText",children:[e.jsxDEV("strong",{children:"üß™ Mode D√©veloppement"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:213,columnNumber:15},void 0),e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:213,columnNumber:53},void 0),e.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:214,columnNumber:15},void 0)," admin@qwanza.fr",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:214,columnNumber:54},void 0),e.jsxDEV("strong",{children:"Mot de passe:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:215,columnNumber:15},void 0)," ********",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:215,columnNumber:54},void 0),e.jsxDEV("strong",{children:"R√¥le:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:216,columnNumber:15},void 0)," Administrateur (acc√®s total)",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:216,columnNumber:66},void 0),e.jsxDEV("em",{children:"Ces identifiants sont pr√©-remplis pour faciliter les tests"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:217,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:212,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:211,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:110,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/auth/Login.tsx",lineNumber:109,columnNumber:5},void 0)},Js=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#8DD1E1","#A4DE6C","#D0ED57"],Vi=()=>{const s=Ze(),[t,r]=i.useState(!0),[m,l]=i.useState(!1),[D,N]=i.useState(null),[B,C]=i.useState(null),[W,g]=i.useState([]),[$,z]=i.useState([]),[P,_]=i.useState([]),[k,Q]=i.useState([]),[v,O]=i.useState([]),[h,I]=i.useState(""),[q,j]=i.useState("all"),[R,te]=i.useState("all"),[Ce,G]=i.useState(0),[K,ie]=i.useState([]),[xe,y]=i.useState([]),J=async(o=!1)=>{const V=performance.now();try{o?l(!0):r(!0),N(null),we.debug("Chargement des donn√©es du dashboard");const[E,ce,re,je]=await Promise.all([U.get("entreprises"),U.get("fonctions"),U.get("applications"),U.get("formulaires")]),Ie=S(E,"entreprises"),Te=S(ce,"fonctions"),Ue=S(re,"applications"),qe=S(je,"formulaires");g(Ie);const pe=c(Ie);z(pe),_(Te);const Re=Ue.filter(A=>A.score_global!==void 0&&A.score_global!==null);Q(Re);const f=[...new Set(Re.map(A=>A.mode_hebergement).filter(Boolean))],ae=[...new Set(Re.map(A=>A.technologie).filter(Boolean))];ie(f),y(ae);const de=qe.map(A=>({...A,thematiques:Array.isArray(A.thematiques)?A.thematiques:[],fonctions:Array.isArray(A.fonctions)?A.fonctions:[],questionnaire_nom:A.questionnaire_nom||"Questionnaire sans nom",acteur_nom:A.acteur_nom||"Utilisateur inconnu",nom_application:A.nom_application||"Application inconnue"}));O(de);const Ve=performance.now()-V;we.info(`Dashboard data loaded successfully in ${Math.round(Ve)}ms`,{entreprises:Ie.length,fonctions:Te.length,applications:Re.length,formulaires:de.length})}catch(E){console.error("Erreur lors du chargement des donn√©es:",E),N("Impossible de charger les donn√©es du tableau de bord."),we.error("Erreur chargement dashboard:",E)}finally{r(!1),l(!1)}},S=(o,V)=>Array.isArray(o)?o:o&&o.data&&Array.isArray(o.data)?o.data:(console.warn(`Format de r√©ponse inattendu pour ${V}:`,o),we.warn(`Unexpected response format for ${V}`,{response:o}),[]);i.useEffect(()=>{J()},[]);const x=(o,V=0)=>o==null||isNaN(o)?V:parseFloat(o)||V,c=o=>{const V=o.reduce((E,ce)=>{const re=ce.secteur||"Non d√©fini";E[re]||(E[re]={scoreTotal:0,count:0});const je=x(ce.score_global,0);return je>0&&(E[re].scoreTotal+=je,E[re].count++),E},{});return Object.entries(V).map(([E,{scoreTotal:ce,count:re}])=>({nom:E,nombre_entreprises:re,score_moyen:re>0?ce/re:0})).filter(E=>E.nombre_entreprises>0).sort((E,ce)=>ce.score_moyen-E.score_moyen)},p=(o,V)=>{const E=x(o,0),ce=x(V,1);return ce===0?"0 / 0":`${E.toFixed(1)} / ${ce.toFixed(1)}`},M=(o,V)=>{const E=x(o,0),ce=x(V,1);return ce===0?0:E/ce*5},L=()=>{if(!v||!v.length)return[];we.debug("Counting formulaires by function",{count:v.length});const o=v.reduce((V,E)=>{const ce=E.fonctions||[];return ce.length===0?V["Non d√©fini"]=(V["Non d√©fini"]||0)+1:ce.forEach(re=>{V[re]=(V[re]||0)+1}),V},{});return Object.entries(o).filter(([V,E])=>V&&V.trim()!==""&&E>0).map(([V,E])=>({name:V,value:E}))},X=()=>{J(!0)},T=({active:o,payload:V,label:E})=>o&&(V!=null&&V.length)?e.jsxDEV(ue,{sx:{p:1},children:[e.jsxDEV(a,{variant:"body2",children:`${E}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:380,columnNumber:11},void 0),e.jsxDEV(a,{variant:"body2",children:`Score: ${V[0].value.toFixed(2)}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:381,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:379,columnNumber:9},void 0):null,be=o=>o>=3.5?"success":o>=2?"warning":"error",H=o=>{try{return new Date(o).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(V){return we.warn("Erreur lors du formatage de la date:",V),"Date invalide"}};return t&&!m?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:412,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:411,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[D&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:D},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:419,columnNumber:17},void 0),B&&e.jsxDEV(fe,{severity:"success",sx:{mb:2},onClose:()=>C(null),children:B},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:421,columnNumber:9},void 0),e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(ue,{sx:{p:2,mb:2},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(d,{children:[e.jsxDEV(a,{component:"h1",variant:"h4",color:"primary",gutterBottom:!0,children:"Tableau de bord de maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:436,columnNumber:17},void 0),e.jsxDEV(a,{variant:"body1",children:"Vue d'ensemble des scores de maturit√© par secteur, fonction et application."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:439,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:435,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",gap:1,children:e.jsxDEV(Y,{variant:"outlined",startIcon:e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:446,columnNumber:30},void 0),onClick:X,disabled:m,children:m?"Actualisation...":"Actualiser"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:444,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:443,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:434,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:433,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:432,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,md:3,children:e.jsxDEV(ye,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Bs,{sx:{bgcolor:"#0B4E87",mr:2},children:e.jsxDEV(ir,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:464,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:463,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",children:"Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:466,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:462,columnNumber:15},void 0),e.jsxDEV(a,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(W==null?void 0:W.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:468,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",align:"center",children:"√©valu√©es dans la plateforme"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:471,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:461,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:460,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:459,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,md:3,children:e.jsxDEV(ye,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Bs,{sx:{bgcolor:"#4CAF50",mr:2},children:e.jsxDEV(Ps,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:483,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:482,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",children:"Fonctions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:485,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:481,columnNumber:15},void 0),e.jsxDEV(a,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(P==null?void 0:P.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:487,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",align:"center",children:"analys√©es au total"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:490,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:480,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:479,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:478,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,md:3,children:e.jsxDEV(ye,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Bs,{sx:{bgcolor:"#FF9800",mr:2},children:e.jsxDEV(La,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:502,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:501,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:504,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:500,columnNumber:15},void 0),e.jsxDEV(a,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(k==null?void 0:k.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:506,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",align:"center",children:"avec score de maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:509,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:499,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:498,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:497,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,md:3,children:e.jsxDEV(ye,{sx:{height:"100%",bgcolor:"#f5f5f5",boxShadow:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Bs,{sx:{bgcolor:"#F44336",mr:2},children:e.jsxDEV(ka,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:521,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:520,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",children:"Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:523,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:519,columnNumber:15},void 0),e.jsxDEV(a,{variant:"h3",color:"primary",align:"center",sx:{my:2},children:(v==null?void 0:v.length)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:525,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",align:"center",children:"renseign√©s au total"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:528,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:518,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:517,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:516,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,md:6,children:e.jsxDEV(ue,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Maturit√© par Secteur d'Activit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:538,columnNumber:13},void 0),$&&$.length>0?e.jsxDEV(Es,{width:"100%",height:300,children:e.jsxDEV(ca,{data:$,children:[e.jsxDEV(Ar,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:544,columnNumber:19},void 0),e.jsxDEV(_r,{dataKey:"nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:545,columnNumber:19},void 0),e.jsxDEV(Ir,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:546,columnNumber:19},void 0),e.jsxDEV(sr,{content:e.jsxDEV(T,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:547,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:547,columnNumber:19},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:548,columnNumber:19},void 0),e.jsxDEV(ba,{dataKey:"score_moyen",fill:"#0B4E87",name:"Score moyen",barSize:40,children:$.map((o,V)=>e.jsxDEV(Mr,{fill:Js[V%Js.length]},`cell-${V}`,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:556,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:549,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:543,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:542,columnNumber:15},void 0):e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",height:300,flexDirection:"column",children:[e.jsxDEV(a,{variant:"body1",color:"textSecondary",align:"center",children:"Aucune donn√©e de score disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:563,columnNumber:17},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",align:"center",sx:{mt:1},children:"Les scores appara√Ætront une fois les analyses de maturit√© effectu√©es"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:566,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:562,columnNumber:15},void 0),e.jsxDEV(a,{variant:"caption",sx:{display:"block",mt:1},children:"Nombre d'entreprises par secteur indiqu√© entre parenth√®ses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:571,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:537,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:536,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,md:6,children:e.jsxDEV(ue,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Formulaires par Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:580,columnNumber:13},void 0),v&&v.length>0&&L().length>0?e.jsxDEV(Es,{width:"100%",height:300,children:e.jsxDEV(ci,{children:[e.jsxDEV(bi,{data:L(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",label:!0,children:L().map((o,V)=>e.jsxDEV(Mr,{fill:Js[V%Js.length]},`cell-${V}`,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:597,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:586,columnNumber:19},void 0),e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:600,columnNumber:19},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:601,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:585,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:584,columnNumber:15},void 0):e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",height:300,flexDirection:"column",children:[e.jsxDEV(a,{variant:"body1",color:"textSecondary",align:"center",children:"Aucun formulaire avec fonctions valides"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:606,columnNumber:17},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",align:"center",sx:{mt:1},children:"Cr√©ez des formulaires li√©s √† des fonctions pour voir les statistiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:609,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:605,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:579,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:578,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,md:6,children:e.jsxDEV(ue,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"10 Derniers Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:620,columnNumber:13},void 0),e.jsxDEV(d,{display:"flex",mb:2,children:e.jsxDEV(le,{size:"small",placeholder:"Rechercher un formulaire...",value:h,onChange:o=>I(o.target.value),fullWidth:!0,InputProps:{startAdornment:e.jsxDEV(Ur,{position:"start",children:e.jsxDEV(jr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:631,columnNumber:68},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:631,columnNumber:35},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:624,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:623,columnNumber:13},void 0),v.filter(o=>o.nom_application&&o.nom_application.toLowerCase().includes(h.toLowerCase())||o.fonctions&&o.fonctions.some(V=>V.toLowerCase().includes(h.toLowerCase()))||o.acteur_nom&&o.acteur_nom.toLowerCase().includes(h.toLowerCase())).slice(0,10).map((o,V)=>e.jsxDEV(vs.Fragment,{children:[e.jsxDEV(gs,{component:"div",onClick:()=>s(`/formulaires/${o.id_formulaire}`),sx:{borderLeft:"4px solid",borderColor:(()=>{const E=M(o.score_actuel,o.score_maximum);return E>=3.5?"#4CAF50":E>=2?"#FF9800":"#F44336"})(),mb:1,bgcolor:"#f9f9f9",cursor:"pointer","&:hover":{bgcolor:"#f0f0f0"}},children:e.jsxDEV(ls,{primary:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"subtitle1",sx:{fontWeight:"bold",color:"#0B4E87"},children:["Questionnaire: ",o.questionnaire_nom]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:665,columnNumber:27},void 0),e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5,children:[e.jsxDEV(a,{variant:"body2",component:"span",children:["Application: ",o.nom_application]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:669,columnNumber:29},void 0),e.jsxDEV(me,{label:`Score: ${p(o.score_actuel,o.score_maximum)}`,size:"small",color:be(M(o.score_actuel,o.score_maximum)),sx:{fontWeight:"bold"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:672,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:668,columnNumber:27},void 0),o.fonctions&&o.fonctions.length>0&&e.jsxDEV(d,{mt:.5,children:e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["Fonctions: ",o.fonctions.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:681,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:680,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:664,columnNumber:25},void 0),secondary:e.jsxDEV(d,{mt:1,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(a,{variant:"body2",component:"span",sx:{fontWeight:"medium"},children:["Acteur: ",o.acteur_nom]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:691,columnNumber:29},void 0),e.jsxDEV(me,{label:o.statut,size:"small",color:be(o.statut==="Valid√©"?5:o.statut==="Soumis"?3:1)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:694,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:690,columnNumber:27},void 0),e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5,children:[e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["Cr√©√© le: ",o.date_creation?H(o.date_creation):"Date inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:701,columnNumber:29},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["Modifi√© le: ",o.date_modification?H(o.date_modification):"Date inconnue"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:704,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:700,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:689,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:662,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:644,columnNumber:19},void 0),V<Math.min(v.length,10)-1&&e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:712,columnNumber:68},void 0)]},o.id_formulaire||`form-${V}`,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:643,columnNumber:17},void 0)),v.filter(o=>o.nom_application&&o.nom_application.toLowerCase().includes(h.toLowerCase())||o.fonctions&&o.fonctions.some(V=>V.toLowerCase().includes(h.toLowerCase()))||o.acteur_nom&&o.acteur_nom.toLowerCase().includes(h.toLowerCase())).length===0&&e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",height:150,children:e.jsxDEV(a,{variant:"body1",color:"textSecondary",children:"Aucun formulaire ne correspond √† votre recherche"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:721,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:720,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:619,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:618,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:430,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/index.tsx",lineNumber:418,columnNumber:5},void 0)},Ai=()=>{const s=Ze(),[t,r]=i.useState(!0),[m,l]=i.useState(null),[D,N]=i.useState([]),[B,C]=i.useState({});i.useEffect(()=>{W()},[]);const W=async()=>{r(!0),l(null);try{const _=await U.get("questionnaires");let k=[];Array.isArray(_)?k=_:_&&_.data&&Array.isArray(_.data)?k=_.data:(console.warn("Format de r√©ponse inattendu pour questionnaires:",_),l("Format de donn√©es inattendu pour les questionnaires"));const Q=k.map(I=>({id_questionnaire:I.id_questionnaire,nom:I.nom||I.titre||"Sans nom",description:I.description||"",date_creation:I.date_creation||new Date().toISOString(),date_modification:I.date_modification||I.date_creation||new Date().toISOString()}));N(Q);const v=await U.get("questionnaires/stats");let O=[];Array.isArray(v)?O=v:v&&v.data&&Array.isArray(v.data)?O=v.data:console.warn("Format de r√©ponse inattendu pour les statistiques:",v);const h=O.reduce((I,q)=>(I[q.id_questionnaire]={numQuestions:q.numQuestions||0,numReponses:q.numReponses||q.num_evaluations||0,numUtilisateurs:q.numUtilisateurs||0},I),{});C(h)}catch(_){console.error("Erreur lors du chargement des questionnaires:",_),l("Impossible de charger les questionnaires. Veuillez r√©essayer.")}finally{r(!1)}},g=_=>{s(`/questionnaires/${_.id_questionnaire}`)},$=()=>{s("/questionnaires/admin")},z=_=>{try{return new Date(_).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric"})}catch(k){return console.warn("Erreur lors du formatage de la date:",k),"Date invalide"}},P=(_,k)=>{var Q;try{return((Q=B[_])==null?void 0:Q[k])||0}catch{return 0}};return t?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:162,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:161,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[m&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:m},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:170,columnNumber:9},void 0),e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Questionnaires d'√âvaluation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:180,columnNumber:15},void 0),e.jsxDEV(d,{children:[e.jsxDEV(Y,{variant:"outlined",color:"primary",onClick:$,sx:{mr:1},children:"Administration"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:184,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:195,columnNumber:30},void 0),onClick:$,children:"Nouveau Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:192,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:183,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:179,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:178,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:177,columnNumber:9},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(Ge,{component:ue,children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:211,columnNumber:19},void 0),e.jsxDEV(b,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:212,columnNumber:19},void 0),e.jsxDEV(b,{children:"Questions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:213,columnNumber:19},void 0),e.jsxDEV(b,{children:"R√©ponses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:214,columnNumber:19},void 0),e.jsxDEV(b,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:215,columnNumber:19},void 0),e.jsxDEV(b,{children:"Derni√®re modification"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:216,columnNumber:19},void 0),e.jsxDEV(b,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:217,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:210,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:209,columnNumber:15},void 0),e.jsxDEV(Ke,{children:D.length>0?D.map(_=>e.jsxDEV(De,{hover:!0,children:[e.jsxDEV(b,{children:_.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:224,columnNumber:23},void 0),e.jsxDEV(b,{children:_.description&&_.description.length>50?`${_.description.substring(0,50)}...`:_.description||"Aucune description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:225,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{icon:e.jsxDEV(Dr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:232,columnNumber:33},void 0),label:P(_.id_questionnaire,"numQuestions"),color:P(_.id_questionnaire,"numQuestions")>0?"success":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:231,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:230,columnNumber:23},void 0),e.jsxDEV(b,{children:P(_.id_questionnaire,"numReponses")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:242,columnNumber:23},void 0),e.jsxDEV(b,{children:P(_.id_questionnaire,"numUtilisateurs")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:245,columnNumber:23},void 0),e.jsxDEV(b,{children:z(_.date_modification)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:248,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(Be,{title:"Voir les d√©tails",children:e.jsxDEV(Me,{color:"info",onClick:()=>g(_),children:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:257,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:253,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:252,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:251,columnNumber:23},void 0)]},_.id_questionnaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:223,columnNumber:21},void 0)):e.jsxDEV(De,{children:e.jsxDEV(b,{colSpan:8,align:"center",children:[e.jsxDEV(a,{variant:"body1",sx:{py:2},children:"Aucun questionnaire disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:266,columnNumber:23},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:272,columnNumber:36},void 0),onClick:$,children:"Cr√©er le premier questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:269,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:265,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:264,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:220,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:208,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:207,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:206,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:175,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/index.tsx",lineNumber:168,columnNumber:5},void 0)},_i=()=>{const{id:s}=zs(),t=Ze(),[r,m]=i.useState(!0),[l,D]=i.useState(null),[N,B]=i.useState(null),[C,W]=i.useState([]),[g,$]=i.useState(null);i.useEffect(()=>{s?z(s):(D("Identifiant de questionnaire manquant"),m(!1))},[s]);const z=async v=>{m(!0),D(null);try{const O=await U.get(`questionnaires/${v}`);let h=null;O&&typeof O=="object"&&(Array.isArray(O)?h=O[0]:O.data?h=O.data:h=O),h&&h.id_questionnaire?B(h):(D("Format de r√©ponse inattendu pour le questionnaire"),console.warn("Format de r√©ponse inattendu pour le questionnaire:",O));try{const I=await U.get(`questionnaires/${v}/questions`);let q=[];Array.isArray(I)?q=I:I&&I.data&&Array.isArray(I.data)?q=I.data:console.warn("Format de r√©ponse inattendu pour les questions:",I),W(q)}catch(I){console.error("Erreur lors du chargement des questions:",I),W([])}try{let I;try{I=await U.get(`questionnaire/stats/${v}`)}catch{I=await U.get(`questionnaires/stats/${v}`)}let q=null;I&&typeof I=="object"&&(I.data?q=I.data:q=I),$(q?{numQuestions:q.numQuestions||q.num_questions||0,numReponses:q.numReponses||q.num_evaluations||0,numUtilisateurs:q.numUtilisateurs||q.num_utilisateurs||0}:{numQuestions:C.length,numReponses:0,numUtilisateurs:0})}catch(I){console.error("Erreur lors du chargement des statistiques:",I),$({numQuestions:C.length,numReponses:0,numUtilisateurs:0})}}catch(O){console.error("Erreur lors du chargement des donn√©es du questionnaire:",O),D("Impossible de charger les donn√©es du questionnaire")}finally{m(!1)}},P=()=>{t("/questionnaires")},_=()=>{t(`/questionnaires/admin?id=${s}`)},k=v=>{try{return new Date(v).toLocaleDateString("fr-FR",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(O){return console.warn("Erreur lors du formatage de la date:",O),"Date invalide"}};if(r)return e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:207,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:206,columnNumber:7},void 0);if(l)return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:l},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:215,columnNumber:9},void 0),e.jsxDEV(ue,{sx:{p:4,textAlign:"center"},children:e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:P,sx:{mt:2},children:"Retour √† la liste"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:219,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:218,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:214,columnNumber:7},void 0);if(!N)return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(ue,{sx:{p:4,textAlign:"center"},children:[e.jsxDEV(a,{variant:"h5",color:"error",gutterBottom:!0,children:"Questionnaire non trouv√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:236,columnNumber:11},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:P,sx:{mt:2},children:"Retour √† la liste"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:239,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:235,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:234,columnNumber:7},void 0);const Q=[...C].sort((v,O)=>(v.ordre||0)-(O.ordre||0));return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(Me,{color:"primary",onClick:P,sx:{mr:1},children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:266,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:265,columnNumber:17},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:N.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:268,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:264,columnNumber:15},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:275,columnNumber:28},void 0),onClick:_,children:"Modifier"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:272,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:263,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body1",paragraph:!0,children:N.description||"Aucune description d√©taill√©e disponible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:282,columnNumber:13},void 0),e.jsxDEV(d,{sx:{mt:2,mb:1},children:[e.jsxDEV(me,{label:`Cr√©√© le ${k(N.date_creation||new Date().toISOString())}`,variant:"outlined",size:"small",sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:287,columnNumber:15},void 0),e.jsxDEV(me,{label:`Derni√®re modification: ${k(N.date_modification||N.date_creation||new Date().toISOString())}`,variant:"outlined",size:"small",color:"info"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:293,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:286,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:262,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:261,columnNumber:9},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(u,{container:!0,spacing:2,children:[e.jsxDEV(u,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(us,{badgeContent:(g==null?void 0:g.numQuestions)||0,color:"primary",max:999,sx:{mb:1},children:e.jsxDEV(Dr,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:316,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:310,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body1",align:"center",fontWeight:"bold",children:"Questions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:318,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:309,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:308,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:307,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:306,columnNumber:13},void 0),e.jsxDEV(u,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(us,{badgeContent:(g==null?void 0:g.numReponses)||0,color:"success",max:999,sx:{mb:1},children:e.jsxDEV(Ps,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:335,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:329,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body1",align:"center",fontWeight:"bold",children:"R√©ponses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:337,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:328,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:327,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:326,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:325,columnNumber:13},void 0),e.jsxDEV(u,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[e.jsxDEV(us,{badgeContent:(g==null?void 0:g.numUtilisateurs)||0,color:"info",max:999,sx:{mb:1},children:e.jsxDEV(yr,{fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:354,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:348,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body1",align:"center",fontWeight:"bold",children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:356,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:347,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:346,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:345,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:344,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:305,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:304,columnNumber:9},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:["Questions (",Q.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:369,columnNumber:13},void 0),e.jsxDEV(es,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:373,columnNumber:13},void 0),Q.length>0?Q.map(v=>e.jsxDEV(Ls,{children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:378,columnNumber:49},void 0),children:e.jsxDEV(u,{container:!0,spacing:1,alignItems:"center",children:[e.jsxDEV(u,{xs:1,children:e.jsxDEV(a,{variant:"body1",fontWeight:"bold",children:[v.ordre||"?","."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:381,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:380,columnNumber:23},void 0),e.jsxDEV(u,{xs:10,children:e.jsxDEV(a,{variant:"body1",children:v.texte||"Question sans texte"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:386,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:385,columnNumber:23},void 0),e.jsxDEV(u,{xs:1,children:e.jsxDEV(Be,{title:`Pond√©ration: ${v.ponderation||0}`,children:e.jsxDEV(me,{label:v.ponderation||0,color:v.ponderation>=4?"error":v.ponderation>=3?"warning":v.ponderation>=2?"info":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:392,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:391,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:390,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:379,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:378,columnNumber:19},void 0),e.jsxDEV(Ts,{children:e.jsxDEV(u,{container:!0,spacing:2,children:e.jsxDEV(u,{xs:12,children:[e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Pond√©ration:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:409,columnNumber:27},void 0)," ",v.ponderation||0,v.ponderation>=4?" (Critique)":v.ponderation>=3?" (Important)":v.ponderation>=2?" (Significatif)":" (Mineur)"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:408,columnNumber:25},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Ajout√© le:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:415,columnNumber:27},void 0)," ",k(v.date_creation||new Date().toISOString())]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:414,columnNumber:25},void 0),v.date_modification&&v.date_creation&&v.date_modification!==v.date_creation&&e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Derni√®re modification:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:420,columnNumber:29},void 0)," ",k(v.date_modification)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:419,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:407,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:406,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:405,columnNumber:19},void 0)]},v.id_question,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:377,columnNumber:17},void 0)):e.jsxDEV(d,{textAlign:"center",py:4,children:[e.jsxDEV(a,{variant:"body1",gutterBottom:!0,children:"Ce questionnaire ne contient aucune question."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:430,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:_,sx:{mt:2},children:"Ajouter des questions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:433,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:429,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:368,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:367,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:259,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/[id].tsx",lineNumber:258,columnNumber:5},void 0)},Br=s=>{const{children:t,value:r,index:m,...l}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==m,id:`admin-tabpanel-${m}`,"aria-labelledby":`admin-tab-${m}`,...l,children:r===m&&e.jsxDEV(d,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:118,columnNumber:5},void 0)},Wr={nom:"",description:"",thematiques:[]},Ii={id_thematique:"",texte:"",ponderation:1,ordre:0},Si=()=>{const s=Ze(),[t]=va(),r=t.get("id"),[m,l]=i.useState(!0),[D,N]=i.useState(null),[B,C]=i.useState([]),[W,g]=i.useState(null),[$,z]=i.useState([]),[P,_]=i.useState([]),[k,Q]=i.useState([]),[v,O]=i.useState([]),[h,I]=i.useState(!1),[q,j]=i.useState(!1),[R,te]=i.useState(Wr),[Ce,G]=i.useState(Ii),[K,ie]=i.useState(!1),[xe,y]=i.useState(!1),[J,S]=i.useState(!1),[x,c]=i.useState(!1),[p,M]=i.useState(null),[L,X]=i.useState({open:!1,message:"",severity:"info"}),[T,be]=i.useState("create"),[H,o]=i.useState("create"),[V,E]=i.useState(0);i.useEffect(()=>{console.log("üöÄ Initialisation du composant QuestionnaireAdmin"),(async()=>{try{await Promise.all([je(),ce()]),await re(),r&&(console.log("üéØ Chargement du questionnaire sp√©cifique:",r),await Ie(r),E(1))}catch(Z){console.error("‚ùå Erreur lors du chargement initial:",Z)}})()},[r]);const ce=async()=>{j(!0);try{console.log("üîç Chargement des th√©matiques...");const F=await U.get("thematiques"),Z=Array.isArray(F)?F:F.data||[];console.log("‚úÖ Th√©matiques re√ßues:",Z.length),Q(Z)}catch(F){console.error("‚ùå Erreur lors du chargement des th√©matiques:",F),Q([])}finally{j(!1)}},re=async()=>{l(!0),N(null);try{console.log("üîç Chargement des questionnaires...");const F=await U.get("questionnaires");console.log("‚úÖ Questionnaires re√ßus:",F);let Z=[];Array.isArray(F)?Z=F:F&&F.data&&Array.isArray(F.data)?Z=F.data:(console.warn("Format de r√©ponse inattendu pour questionnaires:",F),N("Format de donn√©es inattendu pour les questionnaires"),Z=[]),C(Z)}catch(F){console.error("‚ùå Erreur lors du chargement des questionnaires:",F),A("Erreur lors du chargement des questionnaires.","error"),N("Impossible de charger les questionnaires"),C([])}finally{l(!1)}},je=async()=>{I(!0);try{console.log("üîç Chargement des fonctions depuis /fonctions...");const F=await U.get("fonctions");console.log("‚úÖ Fonctions re√ßues:",F);let Z=[];Array.isArray(F)?Z=F:(console.warn("Format de r√©ponse inattendu pour fonctions:",F),Z=[]),_(Z)}catch(F){console.error("‚ùå Erreur lors du chargement des fonctions:",F),A("Erreur lors du chargement des fonctions.","warning"),_([])}finally{I(!1)}},Ie=async F=>{try{console.log("üîç Chargement du questionnaire:",F);const Z=await U.get(`questionnaires/${F}`);console.log("‚úÖ Questionnaire re√ßu:",Z);let ne=null;Z&&typeof Z=="object"&&(Array.isArray(Z)?ne=Z[0]:Z.data?ne=Z.data:ne=Z),ne&&ne.id_questionnaire&&g(ne);try{console.log("üîç Chargement des questions pour:",F);const Se=await U.get(`questionnaires/${F}/questions`);console.log("‚úÖ Questions re√ßues:",Se);let he=[];Array.isArray(Se)?he=Se:Se&&Se.data&&Array.isArray(Se.data)&&(he=Se.data),z(he.sort((ms,ws)=>(ms.ordre||0)-(ws.ordre||0)))}catch(Se){console.error("‚ùå Erreur lors du chargement des questions:",Se),z([])}}catch(Z){console.error("‚ùå Erreur lors du chargement du questionnaire:",Z),A("Erreur lors du chargement du questionnaire.","error")}},Te=()=>{console.log("üÜï Ouverture du dialogue de cr√©ation"),be("create"),te(Wr),O([]),ie(!0),k.length===0&&ce()},Ue=async F=>{be("edit");try{const Z=await U.get(`questionnaire-thematiques/${F.id_questionnaire}/thematiques`),Se=(Array.isArray(Z)?Z:Z.data||[]).map(he=>he.id_thematique);te({nom:F.nom||`${F.fonction||""} - ${F.thematique||""}`,description:F.description||"",thematiques:Se}),O(Se)}catch(Z){console.error("Erreur lors du chargement des th√©matiques:",Z),te({nom:F.nom||`${F.fonction||""} - ${F.thematique||""}`,description:F.description||"",thematiques:[]}),O([])}ie(!0),k.length===0&&ce()},qe=()=>{ie(!1)},pe=async()=>{var F;try{if(console.log("üöÄ Soumission du questionnaire"),!R.nom.trim()){A("Le nom est obligatoire.","warning");return}if(v.length===0){A("S√©lectionnez au moins une th√©matique.","warning");return}const Z={nom:R.nom.trim(),description:R.description,thematiques:v};if(console.log("üì§ Donn√©es √† envoyer:",Z),T==="create"){const ne=await U.post("questionnaires",Z);console.log("‚úÖ Questionnaire cr√©√©:",ne),await re(),A("Questionnaire cr√©√© avec succ√®s.","success");const Se=((F=ne==null?void 0:ne.data)==null?void 0:F.id_questionnaire)||(ne==null?void 0:ne.id_questionnaire);Se&&(await Ie(Se),E(1))}else if(T==="edit"&&W){const ne=await U.put(`questionnaires/${W.id_questionnaire}`,Z);console.log("‚úÖ Questionnaire mis √† jour:",ne),await re(),await Ie(W.id_questionnaire),A("Questionnaire mis √† jour avec succ√®s.","success")}qe()}catch(Z){console.error("‚ùå Erreur:",Z),A("Erreur lors de la sauvegarde du questionnaire.","error")}},Re=F=>{g(F),S(!0)},f=()=>{S(!1)},ae=async()=>{if(W)try{console.log("üóëÔ∏è Suppression du questionnaire:",W.id_questionnaire),await U.delete(`questionnaires/${W.id_questionnaire}`),console.log("‚úÖ Questionnaire supprim√©"),await re(),g(null),z([]),E(0),f(),A("Questionnaire supprim√© avec succ√®s.","success")}catch(F){console.error("‚ùå Erreur lors de la suppression du questionnaire:",F),A("Erreur lors de la suppression du questionnaire.","error")}},de=async F=>{g(F),await Ie(F.id_questionnaire),E(1),s(`/questionnaires/admin?id=${F.id_questionnaire}`,{replace:!0})},Ve=(F,Z)=>{E(Z)},A=(F,Z)=>{X({open:!0,message:F,severity:Z})},se=()=>{X({...L,open:!1})},Fe=()=>{s("/questionnaires")};return m&&B.length===0?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:518,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:517,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[D&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:D},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:526,columnNumber:9},void 0),e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{size:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(Me,{color:"primary",onClick:Fe,sx:{mr:1},children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:538,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:537,columnNumber:17},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Administration des Questionnaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:540,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:536,columnNumber:15},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:547,columnNumber:28},void 0),onClick:Te,children:"Nouveau Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:544,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:535,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:534,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:533,columnNumber:9},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(ue,{sx:{width:"100%"},children:[e.jsxDEV(Ss,{value:V,onChange:Ve,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:e.jsxDEV(Xe,{label:"Liste des Questionnaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:566,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:559,columnNumber:13},void 0),e.jsxDEV(Br,{value:V,index:0,children:[e.jsxDEV(d,{sx:{mb:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Questionnaires disponibles"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:573,columnNumber:17},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:576,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:572,columnNumber:15},void 0),B.length>0?e.jsxDEV(Ns,{children:B.map(F=>e.jsxDEV(gr,{onClick:()=>de(F),selected:(W==null?void 0:W.id_questionnaire)===F.id_questionnaire,sx:{borderRadius:1,mb:1,border:"1px solid",borderColor:"divider"},children:[e.jsxDEV(ls,{primary:e.jsxDEV(a,{variant:"subtitle1",fontWeight:"bold",children:F.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:595,columnNumber:27},void 0),secondary:e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:F.description||"Aucune description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:600,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:593,columnNumber:23},void 0),e.jsxDEV(Ta,{children:[e.jsxDEV(Be,{title:"√âditer",children:e.jsxDEV(Me,{edge:"end",color:"primary",onClick:Z=>{Z.stopPropagation(),Ue(F)},children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:615,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:607,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:606,columnNumber:25},void 0),e.jsxDEV(Be,{title:"Supprimer",children:e.jsxDEV(Me,{edge:"end",color:"error",onClick:Z=>{Z.stopPropagation(),Re(F)},children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:627,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:619,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:618,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:605,columnNumber:23},void 0)]},F.id_questionnaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:582,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:580,columnNumber:17},void 0):e.jsxDEV(d,{textAlign:"center",py:4,children:[e.jsxDEV(a,{variant:"body1",gutterBottom:!0,children:"Aucun questionnaire disponible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:636,columnNumber:19},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:642,columnNumber:32},void 0),onClick:Te,sx:{mt:2},children:"Cr√©er un questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:639,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:635,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:571,columnNumber:13},void 0),e.jsxDEV(Br,{value:V,index:1,children:W?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ye,{sx:{mb:3},children:[e.jsxDEV(Je,{title:W.nom||`${W.fonction||"Sans titre"}`,action:e.jsxDEV(Y,{variant:"outlined",color:"primary",startIcon:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:663,columnNumber:38},void 0),onClick:()=>Ue(W),children:"Modifier"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:660,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:657,columnNumber:21},void 0),e.jsxDEV(ge,{children:e.jsxDEV(a,{variant:"body1",paragraph:!0,children:W.description||"Aucune description disponible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:671,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:670,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:656,columnNumber:19},void 0),e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:["Questions (",$.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:677,columnNumber:19},void 0),e.jsxDEV(es,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:680,columnNumber:19},void 0),$.length>0?e.jsxDEV(d,{children:Object.entries($.reduce((F,Z)=>{const ne=Z.thematique_nom||"Sans th√©matique";return F[ne]||(F[ne]=[]),F[ne].push(Z),F},{})).map(([F,Z])=>e.jsxDEV(d,{sx:{mb:3},children:[e.jsxDEV(a,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:F},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:694,columnNumber:27},void 0),Z.sort((ne,Se)=>(ne.ordre||0)-(Se.ordre||0)).map(ne=>e.jsxDEV(Ls,{children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:701,columnNumber:63},void 0),children:e.jsxDEV(d,{display:"flex",alignItems:"center",width:"100%",children:[e.jsxDEV(a,{sx:{width:"5%",mr:1},children:e.jsxDEV("strong",{children:[ne.ordre||"?","."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:704,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:703,columnNumber:37},void 0),e.jsxDEV(a,{sx:{width:"80%"},children:ne.texte||"Question sans texte"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:706,columnNumber:37},void 0),e.jsxDEV(a,{sx:{width:"15%",textAlign:"right"},children:["Pond.: ",ne.ponderation||0]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:709,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:702,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:701,columnNumber:33},void 0),e.jsxDEV(Ts,{children:e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[e.jsxDEV("strong",{children:"Pond√©ration:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:716,columnNumber:37},void 0)," ",ne.ponderation||0]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:715,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:714,columnNumber:33},void 0)]},ne.id_question,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:700,columnNumber:31},void 0))]},F,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:693,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:683,columnNumber:21},void 0):e.jsxDEV(fe,{severity:"info",sx:{mt:2},children:"Aucune question trouv√©e. Les questions sont automatiquement charg√©es depuis les th√©matiques s√©lectionn√©es."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:725,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:655,columnNumber:17},void 0):e.jsxDEV(d,{textAlign:"center",py:4,children:[e.jsxDEV(a,{variant:"body1",gutterBottom:!0,children:"Veuillez s√©lectionner un questionnaire dans l'onglet pr√©c√©dent."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:732,columnNumber:19},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:()=>E(0),sx:{mt:2},children:"Retour √† la liste"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:735,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:731,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:653,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:558,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:557,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:531,columnNumber:7},void 0),e.jsxDEV(rs,{open:K,onClose:qe,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:T==="create"?"Cr√©er un nouveau questionnaire":"Modifier le questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:752,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(u,{container:!0,spacing:2,children:[e.jsxDEV(u,{size:12,children:e.jsxDEV(le,{required:!0,fullWidth:!0,id:"nom",name:"nom",label:"Nom du questionnaire",value:R.nom,onChange:F=>te({...R,nom:F.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:759,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:758,columnNumber:15},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(le,{fullWidth:!0,id:"description",name:"description",label:"Description",multiline:!0,rows:3,value:R.description||"",onChange:F=>te({...R,description:F.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:770,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:769,columnNumber:15},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(Oe,{fullWidth:!0,required:!0,children:[e.jsxDEV(We,{children:"Th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:783,columnNumber:19},void 0),e.jsxDEV(Qe,{multiple:!0,value:v,onChange:F=>O(F.target.value),renderValue:F=>e.jsxDEV(d,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:F.map(Z=>{const ne=k.find(Se=>Se.id_thematique===Z);return e.jsxDEV(me,{label:(ne==null?void 0:ne.nom)||Z,size:"small"},Z,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:792,columnNumber:34},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:789,columnNumber:23},void 0),children:q?e.jsxDEV(Ee,{disabled:!0,children:"Chargement des th√©matiques..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:798,columnNumber:23},void 0):k.length===0?e.jsxDEV(Ee,{disabled:!0,children:"Aucune th√©matique disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:800,columnNumber:23},void 0):Object.entries(k.reduce((F,Z)=>{const ne=Z.fonction_nom||"Sans fonction";return F[ne]||(F[ne]=[]),F[ne].push(Z),F},{})).map(([F,Z])=>[e.jsxDEV(Pa,{children:F},F,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:810,columnNumber:25},void 0),...Z.map(ne=>e.jsxDEV(Ee,{value:ne.id_thematique,children:[e.jsxDEV(ys,{checked:v.includes(ne.id_thematique)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:813,columnNumber:29},void 0),e.jsxDEV(ls,{primary:ne.nom,secondary:ne.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:814,columnNumber:29},void 0)]},ne.id_thematique,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:812,columnNumber:27},void 0))]).flat()},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:784,columnNumber:19},void 0),e.jsxDEV(Zs,{children:"S√©lectionnez une ou plusieurs th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:823,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:782,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:781,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:757,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:756,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:755,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:qe,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:830,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:pe,variant:"contained",color:"primary",disabled:!R.nom.trim()||v.length===0,children:T==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:831,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:829,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:751,columnNumber:7},void 0),e.jsxDEV(rs,{open:J,onClose:f,children:[e.jsxDEV(as,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:844,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(a,{children:['√ätes-vous s√ªr de vouloir supprimer le questionnaire "',(W==null?void 0:W.nom)||"Sans titre",'" ? Cette action est irr√©versible.']},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:846,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:845,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:f,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:852,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:ae,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:853,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:851,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:843,columnNumber:7},void 0),e.jsxDEV($s,{open:L.open,autoHideDuration:6e3,onClose:se,children:e.jsxDEV(fe,{onClose:se,severity:L.severity,sx:{width:"100%"},children:L.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:865,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:860,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/questionnaires/admin.tsx",lineNumber:524,columnNumber:5},void 0)},wi=({label:s,value:t,onChange:r,minDate:m,maxDate:l,disabled:D=!1,fullWidth:N=!0,required:B=!1,helperText:C,textFieldProps:W={}})=>e.jsxDEV(ea,{dateAdapter:sa,adapterLocale:ma,children:e.jsxDEV($a,{label:s,value:t,onChange:r,minDate:m,maxDate:l,disabled:D,slotProps:{textField:{fullWidth:N,required:B,helperText:C,...W}}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/DataPickerWrapper.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/DataPickerWrapper.tsx",lineNumber:38,columnNumber:5},void 0),Qr={nom_application:"",statut:"Projet",type:"Build",hebergement:"Cloud",architecture_logicielle:"MVC",date_mise_en_prod:void 0,editeur:"",language:"",description:""},qi=()=>{const s=Ze(),[t,r]=i.useState(!0),[m,l]=i.useState(null),[D,N]=i.useState([]),[B,C]=i.useState(!1),[W,g]=i.useState(null),[$,z]=i.useState(Qr),[P,_]=i.useState("create"),[k,Q]=i.useState(!1),[v,O]=i.useState(null);i.useEffect(()=>{h()},[]);const h=async()=>{r(!0),l(null);try{const y=await U.get("applications");Array.isArray(y)?N(y):y&&y.data&&Array.isArray(y.data)?N(y.data):(console.warn("Format de r√©ponse inattendu:",y),N([]),l("Format de donn√©es inattendu. Impossible de charger les applications."))}catch(y){console.error("Erreur lors du chargement des applications:",y),l("Impossible de charger les applications. Veuillez r√©essayer plus tard."),N([])}finally{r(!1)}},I=()=>{_("create"),z(Qr),O(null),C(!0)},q=y=>{_("edit"),g(y),z({nom_application:y.nom_application,statut:y.statut,type:y.type,hebergement:y.hebergement,architecture_logicielle:y.architecture_logicielle,date_mise_en_prod:y.date_mise_en_prod,editeur:y.editeur||"",language:y.language||"",description:y.description||""}),y.date_mise_en_prod?O(new Date(y.date_mise_en_prod)):O(null),C(!0)},j=()=>{C(!1),g(null)},R=y=>{const J=y.target.name,S=y.target.value;z({...$,[J]:S})},te=y=>{if(O(y),y){const J=y.toISOString().split("T")[0];z({...$,date_mise_en_prod:J})}else z({...$,date_mise_en_prod:void 0})},Ce=async()=>{try{P==="create"?await U.post("applications",$):P==="edit"&&W&&await U.put(`applications/${W.id_application}`,$),h(),j()}catch(y){console.error("Erreur lors de la sauvegarde de l'application:",y),l("Erreur lors de la sauvegarde de l'application. Veuillez r√©essayer.")}},G=y=>{g(y),Q(!0)},K=()=>{Q(!1),g(null)},ie=async()=>{if(W)try{await U.delete(`applications/${W.id_application}`),h(),K()}catch(y){console.error("Erreur lors de la suppression de l'application:",y),l("Erreur lors de la suppression de l'application. Veuillez r√©essayer.")}},xe=y=>{s(`/analyses/calculer/${y.id_application}`)};return t?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:232,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:231,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[m&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:m},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:240,columnNumber:9},void 0),e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Gestion des applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:250,columnNumber:15},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:256,columnNumber:28},void 0),onClick:I,children:"Nouvelle Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:253,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:249,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:248,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:247,columnNumber:9},void 0),e.jsxDEV(u,{xs:12,children:D.length===0?e.jsxDEV(fe,{severity:"info",children:"Aucune application trouv√©e. Cr√©ez votre premi√®re application en cliquant sur le bouton ci-dessus."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:268,columnNumber:13},void 0):e.jsxDEV(Ge,{component:ue,children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:276,columnNumber:21},void 0),e.jsxDEV(b,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:277,columnNumber:21},void 0),e.jsxDEV(b,{children:"Type"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:278,columnNumber:21},void 0),e.jsxDEV(b,{children:"H√©bergement"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:279,columnNumber:21},void 0),e.jsxDEV(b,{children:"Architecture"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:280,columnNumber:21},void 0),e.jsxDEV(b,{children:"Date mise en prod."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:281,columnNumber:21},void 0),e.jsxDEV(b,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:282,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:275,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:274,columnNumber:17},void 0),e.jsxDEV(Ke,{children:D.map(y=>e.jsxDEV(De,{hover:!0,children:[e.jsxDEV(b,{children:y.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:288,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{label:y.statut,color:y.statut==="Projet"?"info":"success",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:290,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:289,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{label:y.type,color:y.type==="Build"?"primary":"secondary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:297,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:296,columnNumber:23},void 0),e.jsxDEV(b,{children:y.hebergement},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:303,columnNumber:23},void 0),e.jsxDEV(b,{children:y.architecture_logicielle},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:304,columnNumber:23},void 0),e.jsxDEV(b,{children:y.date_mise_en_prod?new Date(y.date_mise_en_prod).toLocaleDateString("fr-FR"):"Non d√©finie"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:305,columnNumber:23},void 0),e.jsxDEV(b,{children:[e.jsxDEV(Me,{color:"primary",onClick:()=>q(y),title:"Modifier l'application",children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:316,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:311,columnNumber:25},void 0),e.jsxDEV(Me,{color:"error",onClick:()=>G(y),title:"Supprimer l'application",children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:323,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:318,columnNumber:25},void 0),e.jsxDEV(Me,{color:"info",onClick:()=>xe(y),title:"Calculer le score de maturit√©",children:e.jsxDEV(Ps,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:330,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:325,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:310,columnNumber:23},void 0)]},y.id_application,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:287,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:285,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:273,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:272,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:266,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:245,columnNumber:7},void 0),e.jsxDEV(rs,{open:B,onClose:j,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:P==="create"?"Cr√©er une nouvelle application":"Modifier l'application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:344,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(u,{container:!0,spacing:2,children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(le,{required:!0,fullWidth:!0,id:"nom_application",name:"nom_application",label:"Nom de l'application",value:$.nom_application,onChange:R},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:351,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:350,columnNumber:15},void 0),e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{id:"statut-label",children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:363,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"statut-label",id:"statut",name:"statut",value:$.statut,label:"Statut",onChange:R,children:[e.jsxDEV(Ee,{value:"Projet",children:"Projet"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:372,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"Run",children:"Run"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:373,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:364,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:362,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:361,columnNumber:15},void 0),e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{id:"type-label",children:"Type"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:379,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"type-label",id:"type",name:"type",value:$.type,label:"Type",onChange:R,children:[e.jsxDEV(Ee,{value:"Build",children:"Build"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:388,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"Buy",children:"Buy"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:389,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:380,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:378,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:377,columnNumber:15},void 0),e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{id:"hebergement-label",children:"H√©bergement"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:395,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"hebergement-label",id:"hebergement",name:"hebergement",value:$.hebergement,label:"H√©bergement",onChange:R,children:[e.jsxDEV(Ee,{value:"Cloud",children:"Cloud"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:404,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"Prem",children:"Prem"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:405,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"Hybrid",children:"Hybrid"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:406,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:396,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:394,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:393,columnNumber:15},void 0),e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{id:"architecture-label",children:"Architecture"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:412,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"architecture-label",id:"architecture_logicielle",name:"architecture_logicielle",value:$.architecture_logicielle,label:"Architecture",onChange:R,children:[e.jsxDEV(Ee,{value:"ERP",children:"ERP"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:421,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"Multitenant SAAS",children:"Multitenant SAAS"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:422,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"MVC",children:"MVC"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:423,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"Monolithique",children:"Monolithique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:424,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:413,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:411,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:410,columnNumber:15},void 0),e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(wi,{label:"Date de mise en production",value:v,onChange:te,textFieldProps:{variant:"outlined"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:429,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:428,columnNumber:15},void 0),e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(le,{fullWidth:!0,id:"editeur",name:"editeur",label:"√âditeur",value:$.editeur,onChange:R},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:439,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:438,columnNumber:15},void 0),e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(le,{fullWidth:!0,id:"language",name:"language",label:"Langage principal",value:$.language,onChange:R},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:449,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:448,columnNumber:15},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(le,{fullWidth:!0,id:"description",name:"description",label:"Description",multiline:!0,rows:4,value:$.description,onChange:R},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:459,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:458,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:349,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:348,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:347,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:j,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:474,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:Ce,variant:"contained",color:"primary",disabled:!$.nom_application,children:P==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:475,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:473,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:343,columnNumber:7},void 0),e.jsxDEV(rs,{open:k,onClose:K,children:[e.jsxDEV(as,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:488,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(a,{children:[`√ätes-vous s√ªr de vouloir supprimer l'application "`,W==null?void 0:W.nom_application,'" ? Cette action est irr√©versible.']},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:490,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:489,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:K,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:496,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:ie,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:497,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:495,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:487,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/applications/index.tsx",lineNumber:238,columnNumber:5},void 0)},xr=s=>{const{children:t,value:r,index:m,...l}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==m,id:`organization-tabpanel-${m}`,"aria-labelledby":`organization-tab-${m}`,...l,children:r===m&&e.jsxDEV(d,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:101,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:93,columnNumber:5},void 0)},As=["#8884d8","#82ca9d","#ffc658","#ff8042","#0088FE","#00C49F","#FFBB28","#FF8042","#a4de6c","#d0ed57"],Gr=()=>{var h,I,q;const{name:s}=zs(),t=Ze(),[r,m]=i.useState(!0),[l,D]=i.useState([]),[N,B]=i.useState([]),[C,W]=i.useState([]),[g,$]=i.useState(""),[z,P]=i.useState(0);i.useEffect(()=>{_().then(()=>{s&&($(s),k(s))})},[s]);const _=async()=>{m(!0);try{const j=await U.get("acteurs"),R=[...new Set(j.data.map(Ce=>Ce.organisation))].filter(Boolean),te=[];for(const Ce of R)try{const G=await U.get(`acteurs/organisation/${Ce}/applications/count`),K=await U.get(`interpretation/organisation/${Ce}`),ie=K.data.reduce((y,J)=>y+J.scoreGlobal,0),xe=K.data.length>0?ie/K.data.length:0;te.push({nom:Ce,nombre_applications:G.data.count,nombre_analyses:K.data.length,score_moyen:xe})}catch(G){console.error(`Erreur lors de la r√©cup√©ration des statistiques pour ${Ce}:`,G)}D(te),!s&&te.length>0&&($(te[0].nom),k(te[0].nom))}catch(j){console.error("Erreur lors du chargement des organisations:",j)}finally{m(!1)}},k=async j=>{m(!0);try{const R=await U.get(`interpretation/organisation/${j}`);B(R.data);const te=await U.get(`interpretation/organisation/${j}/scores-moyens`);W(te.data),P(0)}catch(R){console.error("Erreur lors du chargement des analyses:",R)}finally{m(!1)}},Q=j=>{const R=j.target.value;$(R),t(`/organisations/${R}`)},v=(j,R)=>{P(R)},O=j=>j.map(R=>({thematique:R.thematique,score:R.score,fullMark:5}));return r?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:222,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:221,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Analyse par Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:234,columnNumber:15},void 0),e.jsxDEV(Oe,{sx:{minWidth:200},children:[e.jsxDEV(We,{id:"organisation-select-label",children:"Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:238,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"organisation-select-label",id:"organisation-select",value:g,onChange:Q,label:"Organisation",children:l.map(j=>e.jsxDEV(Ee,{value:j.nom,children:j.nom},j.nom,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:247,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:237,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:233,columnNumber:13},void 0),g&&e.jsxDEV(u,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxDEV(u,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"h6",align:"center",children:((h=l.find(j=>j.nom===g))==null?void 0:h.nombre_applications)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:261,columnNumber:23},void 0),e.jsxDEV(a,{variant:"body2",align:"center",children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:264,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:260,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:259,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:258,columnNumber:17},void 0),e.jsxDEV(u,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"h6",align:"center",children:((I=l.find(j=>j.nom===g))==null?void 0:I.nombre_analyses)||0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:273,columnNumber:23},void 0),e.jsxDEV(a,{variant:"body2",align:"center",children:"Analyses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:276,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:272,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:271,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:270,columnNumber:17},void 0),e.jsxDEV(u,{xs:12,md:4,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"h6",align:"center",children:(((q=l.find(j=>j.nom===g))==null?void 0:q.score_moyen)||0).toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:285,columnNumber:23},void 0),e.jsxDEV(a,{variant:"body2",align:"center",children:"Score Moyen"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:288,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:284,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:283,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:282,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:257,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:232,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:231,columnNumber:9},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{width:"100%"},children:[e.jsxDEV(Ss,{value:z,onChange:v,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[e.jsxDEV(Xe,{label:"Vue d'ensemble"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:309,columnNumber:15},void 0),e.jsxDEV(Xe,{label:"Scores par Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:310,columnNumber:15},void 0),e.jsxDEV(Xe,{label:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:311,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:302,columnNumber:13},void 0),e.jsxDEV(xr,{value:z,index:0,children:e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Scores moyens par th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:320,columnNumber:21},void 0),e.jsxDEV(ge,{children:C.length>0?e.jsxDEV(Es,{width:"100%",height:400,children:e.jsxDEV(Sr,{outerRadius:150,data:O(C),children:[e.jsxDEV(wr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:325,columnNumber:29},void 0),e.jsxDEV(qr,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:326,columnNumber:29},void 0),e.jsxDEV(Fr,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:327,columnNumber:29},void 0),e.jsxDEV(rr,{name:"Score",dataKey:"score",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:328,columnNumber:29},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:335,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:324,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:323,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:339,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:321,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:319,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:318,columnNumber:17},void 0),e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Scores globaux par application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:350,columnNumber:21},void 0),e.jsxDEV(ge,{children:N.length>0?e.jsxDEV(Es,{width:"100%",height:400,children:e.jsxDEV(ca,{data:N.map(j=>({name:j.nomApplication,score:j.scoreGlobal})),margin:{top:5,right:30,left:20,bottom:100},children:[e.jsxDEV(Ar,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:361,columnNumber:29},void 0),e.jsxDEV(_r,{dataKey:"name",tick:{angle:-45,textAnchor:"end"},height:100},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:362,columnNumber:29},void 0),e.jsxDEV(Ir,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:367,columnNumber:29},void 0),e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:368,columnNumber:29},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:369,columnNumber:29},void 0),e.jsxDEV(ba,{dataKey:"score",name:"Score Global",children:N.map((j,R)=>e.jsxDEV(Mr,{fill:As[R%As.length]},`cell-${R}`,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:372,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:370,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:354,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:353,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:378,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:351,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:349,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:348,columnNumber:17},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"R√©partition par niveau de maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:389,columnNumber:21},void 0),e.jsxDEV(ge,{children:N.length>0?e.jsxDEV(e.Fragment,{children:e.jsxDEV(u,{container:!0,spacing:2,children:Array.from(new Set(N.map(j=>j.interpretation.niveau))).map((j,R)=>{const te=N.filter(G=>G.interpretation.niveau===j).length,Ce=(te/N.length*100).toFixed(1);return e.jsxDEV(u,{xs:6,md:3,children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center"},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:j},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:402,columnNumber:39},void 0),e.jsxDEV(a,{variant:"h4",color:As[R%As.length],children:te},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:405,columnNumber:39},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[Ce,"% des applications"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:408,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:401,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:400,columnNumber:35},void 0)},j,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:399,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:393,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:392,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:419,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:390,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:388,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:387,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:316,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:315,columnNumber:13},void 0),e.jsxDEV(xr,{value:z,index:1,children:e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Scores moyens par th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:435,columnNumber:21},void 0),e.jsxDEV(ge,{children:C.length>0?e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:442,columnNumber:33},void 0),e.jsxDEV(b,{children:"Score Moyen"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:443,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:441,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:440,columnNumber:29},void 0),e.jsxDEV(Ke,{children:C.map(j=>e.jsxDEV(De,{children:[e.jsxDEV(b,{children:j.thematique},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:449,columnNumber:35},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(d,{width:"50px",mr:1,children:j.score.toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:452,columnNumber:39},void 0),e.jsxDEV(d,{flex:1,mr:1,children:e.jsxDEV("div",{style:{height:"10px",width:`${j.score/5*100}%`,backgroundColor:"#8884d8",borderRadius:"5px"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:456,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:455,columnNumber:39},void 0),e.jsxDEV(d,{width:"30px",children:e.jsxDEV(me,{label:j.score>=4?"A":j.score>=3?"B":j.score>=2?"C":j.score>=1?"D":"E",size:"small",color:j.score>=4?"success":j.score>=3?"info":j.score>=2?"warning":"error"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:464,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:463,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:451,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:450,columnNumber:35},void 0)]},j.thematique,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:448,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:446,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:439,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:438,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:484,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:436,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:434,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:433,columnNumber:17},void 0),e.jsxDEV(u,{xs:12,md:6,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"D√©tail par application et th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:495,columnNumber:21},void 0),e.jsxDEV(ge,{children:C.length>0?e.jsxDEV(Ge,{sx:{maxHeight:440},children:e.jsxDEV(He,{stickyHeader:!0,children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:502,columnNumber:33},void 0),e.jsxDEV(b,{children:"Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:503,columnNumber:33},void 0),e.jsxDEV(b,{children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:504,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:501,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:500,columnNumber:29},void 0),e.jsxDEV(Ke,{children:N.flatMap(j=>j.thematiques.map(R=>e.jsxDEV(De,{children:[e.jsxDEV(b,{children:j.nomApplication},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:511,columnNumber:37},void 0),e.jsxDEV(b,{children:R.thematique},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:512,columnNumber:37},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(d,{width:"30px",mr:1,children:R.score.toFixed(1)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:515,columnNumber:41},void 0),e.jsxDEV(d,{flex:1,children:e.jsxDEV("div",{style:{height:"8px",width:`${R.score/5*100}%`,backgroundColor:"#82ca9d",borderRadius:"4px"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:519,columnNumber:43},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:518,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:514,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:513,columnNumber:37},void 0)]},`${j.idAnalyse}-${R.thematique}`,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:510,columnNumber:35},void 0)))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:507,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:499,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:498,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body1",align:"center",children:"Aucune donn√©e disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:535,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:496,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:494,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:493,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:431,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:430,columnNumber:13},void 0),e.jsxDEV(xr,{value:z,index:2,children:e.jsxDEV(u,{container:!0,spacing:3,children:e.jsxDEV(u,{xs:12,children:e.jsxDEV(Ge,{component:ue,children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:554,columnNumber:27},void 0),e.jsxDEV(b,{children:"Score Global"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:555,columnNumber:27},void 0),e.jsxDEV(b,{children:"Niveau de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:556,columnNumber:27},void 0),e.jsxDEV(b,{children:"Date d'Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:557,columnNumber:27},void 0),e.jsxDEV(b,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:558,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:553,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:552,columnNumber:23},void 0),e.jsxDEV(Ke,{children:N.map(j=>e.jsxDEV(De,{hover:!0,children:[e.jsxDEV(b,{children:j.nomApplication},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:564,columnNumber:29},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(d,{width:"50px",mr:1,children:j.scoreGlobal.toFixed(2)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:567,columnNumber:33},void 0),e.jsxDEV(d,{flex:1,children:e.jsxDEV("div",{style:{height:"10px",width:`${j.scoreGlobal/5*100}%`,backgroundColor:As[N.indexOf(j)%As.length],borderRadius:"5px"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:571,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:570,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:566,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:565,columnNumber:29},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{label:j.interpretation.niveau,color:j.scoreGlobal>=4?"success":j.scoreGlobal>=3?"info":j.scoreGlobal>=2?"warning":"error"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:581,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:580,columnNumber:29},void 0),e.jsxDEV(b,{children:new Date(j.dateAnalyse).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:591,columnNumber:29},void 0),e.jsxDEV(b,{children:e.jsxDEV(Y,{variant:"outlined",size:"small",onClick:()=>t(`/analyses-interpretations/${j.idAnalyse}`),children:"D√©tails"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:595,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:594,columnNumber:29},void 0)]},j.idAnalyse,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:563,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:561,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:551,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:550,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:549,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:547,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:546,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:301,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:300,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:229,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/organisations/index.tsx",lineNumber:228,columnNumber:5},void 0)},Xs=s=>{const t=typeof s.score_global=="number"?s.score_global:typeof s.score_global=="string"?parseFloat(s.score_global):typeof s.scoreGlobal=="number"?s.scoreGlobal:typeof s.scoreGlobal=="string"?parseFloat(s.scoreGlobal):null,r=Array.isArray(s.thematiques)?s.thematiques.map(m=>({...m,score:typeof m.score=="number"?m.score:typeof m.score=="string"?parseFloat(m.score):0,nombre_reponses:typeof m.nombre_reponses=="number"?m.nombre_reponses:typeof m.nombre_reponses=="string"?parseInt(m.nombre_reponses,10):0})):[];return{...s,nom_application:s.nom_application||s.nom||"Application inconnue",nom:s.nom||s.nom_application||"Application inconnue",score_global:t,scoreGlobal:t,thematiques:r}},Fi=s=>{try{return new Date(s).toLocaleDateString("fr-FR")}catch{return"Date inconnue"}},hs=s=>s.includes("5")||s.includes("Optimis√©")||s.includes("Avanc√©")||s.includes("4")||s.includes("G√©r√©")?"success":s.includes("3")||s.includes("Mesur√©")||s.includes("Interm√©diaire")?"info":s.includes("2")||s.includes("D√©fini")?"warning":s.includes("1")||s.includes("Initial")||s.includes("Faible")?"error":s.includes("Excellent")?"success":s.includes("Bon")?"info":s.includes("Moyen")?"warning":s.includes("Faible")?"error":"default",Na=({title:s,value:t,variant:r="primary",size:m="md",subtitle:l,trend:D})=>{const N=()=>{switch(r){case"primary":return{bg:"bg-primary-50",text:"text-primary-900",border:"border-primary-200"};case"secondary":return{bg:"bg-secondary-50",text:"text-secondary-900",border:"border-secondary-200"};case"accent1":return{bg:"bg-accent1-light bg-opacity-30",text:"text-accent1",border:"border-accent1-light"};case"accent2":return{bg:"bg-accent2-light bg-opacity-30",text:"text-accent2",border:"border-accent2-light"};case"accent3":return{bg:"bg-accent3-light bg-opacity-30",text:"text-accent3",border:"border-accent3-light"};case"accent4":return{bg:"bg-accent4-light bg-opacity-30",text:"text-accent4",border:"border-accent4-light"};default:return{bg:"bg-gray-50",text:"text-gray-900",border:"border-gray-200"}}},B=()=>{switch(m){case"sm":return"p-3";case"lg":return"p-5";default:return"p-4"}},C=N(),W=B();return e.jsxDEV("div",{className:`rounded-lg border ${C.bg} ${C.border} ${W} shadow-card`,children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:90,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-baseline",children:[e.jsxDEV("h3",{className:`text-2xl font-bold ${C.text}`,children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:92,columnNumber:11},void 0),l&&e.jsxDEV("p",{className:"ml-2 text-sm text-gray-500",children:l},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:93,columnNumber:24},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:91,columnNumber:9},void 0),D&&e.jsxDEV("p",{className:"mt-1 flex items-center text-sm",children:[e.jsxDEV("span",{className:D.isPositive?"text-success-500":"text-danger-500",children:[D.isPositive?"‚Üë":"‚Üì"," ",Math.abs(D.value),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:98,columnNumber:13},void 0),D.label&&e.jsxDEV("span",{className:"text-gray-500 ml-1",children:D.label},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:101,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:97,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:89,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/StatsCard.tsx",lineNumber:88,columnNumber:5},void 0)},Ri=s=>s>=4?"success":s>=3?"info":s>=2?"warning":"error",Li=s=>s>=4?"Optimis√©":s>=3?"Mesur√©":s>=2?"D√©fini":s>=1?"Initial":"Non d√©fini",ki=({entrepriseId:s})=>{const t=Ze(),[r,m]=i.useState(!0),[l,D]=i.useState(null),[N,B]=i.useState(null),[C,W]=i.useState([]),[g,$]=i.useState([]),[z,P]=i.useState(!1),_=async()=>{if(s){m(!0),D(null);try{const[q,j,R]=await Promise.all([U.get(`/entreprises/${s}`),U.get(`/analyses/entreprise/${s}`),U.get(`/historique/entreprise/${s}`)]);B(q),W(Array.isArray(j)?j:j.data||[]),$(R.historique_global||[])}catch(q){console.error("Erreur lors de la r√©cup√©ration des donn√©es:",q),D("Impossible de charger les donn√©es.")}finally{m(!1)}}},k=async()=>{if(s){P(!0),D(null);try{await U.post(`/entreprises/${s}/calculer`),await _()}catch(q){console.error("Erreur lors du recalcul:",q),D("Impossible de recalculer le score.")}finally{P(!1)}}};i.useEffect(()=>{_()},[s]);const Q=()=>g.length?[...g].sort((q,j)=>new Date(q.date_mesure)-new Date(j.date_mesure)).map(q=>({date:new Date(q.date_mesure).toLocaleDateString("fr-FR"),score:q.score_global||0})):[];if(r)return e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:116,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:115,columnNumber:7},void 0);if(l)return e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:l},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:122,columnNumber:12},void 0);if(!N)return e.jsxDEV(fe,{severity:"info",children:"Aucune entreprise s√©lectionn√©e."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:126,columnNumber:12},void 0);const v=N.score_global||0,O=Li(v),h=Ri(v),I=Q();return e.jsxDEV(ye,{variant:"outlined",sx:{mb:3},children:[e.jsxDEV(Je,{title:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(a,{variant:"h6",children:["Scores de maturit√© - ",N.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:139,columnNumber:13},void 0),e.jsxDEV(Be,{title:"Recalculer le score",children:e.jsxDEV(Y,{size:"small",startIcon:e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:143,columnNumber:28},void 0),onClick:k,disabled:z,children:z?"Calcul en cours...":"Recalculer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:141,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:140,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:138,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:136,columnNumber:7},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:153,columnNumber:7},void 0),e.jsxDEV(ge,{children:e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{item:!0,xs:12,md:4,children:e.jsxDEV(Na,{title:"Score Global",value:typeof v=="number"?v.toFixed(2):"0.00",variant:"primary",subtitle:e.jsxDEV(me,{label:O,color:h},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:161,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:157,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:156,columnNumber:11},void 0),e.jsxDEV(u,{item:!0,xs:12,md:8,children:I.length>1?e.jsxDEV(d,{height:250,children:e.jsxDEV(Es,{width:"100%",height:"100%",children:e.jsxDEV(fi,{data:I,children:[e.jsxDEV(Ar,{strokeDasharray:"3 3"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:170,columnNumber:21},void 0),e.jsxDEV(_r,{dataKey:"date"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:171,columnNumber:21},void 0),e.jsxDEV(Ir,{domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:172,columnNumber:21},void 0),e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:173,columnNumber:21},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:174,columnNumber:21},void 0),e.jsxDEV(Ni,{type:"monotone",dataKey:"score",stroke:"#0B4E87",name:"Score global",activeDot:{r:8,fill:"#0B4E87"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:175,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:169,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:168,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:167,columnNumber:15},void 0):e.jsxDEV(d,{display:"flex",alignItems:"center",justifyContent:"center",height:250,children:e.jsxDEV(a,{color:"text.secondary",children:"Pas assez de donn√©es historiques."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:187,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:186,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:165,columnNumber:11},void 0),e.jsxDEV(u,{item:!0,xs:12,children:[e.jsxDEV(es,{sx:{my:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:195,columnNumber:13},void 0),e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,children:["Analyses des applications (",C.length,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:196,columnNumber:13},void 0),C.length>0?e.jsxDEV(Ge,{component:ue,children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:204,columnNumber:23},void 0),e.jsxDEV(b,{children:"Score Global"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:205,columnNumber:23},void 0),e.jsxDEV(b,{children:"Date d'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:206,columnNumber:23},void 0),e.jsxDEV(b,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:207,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:203,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:202,columnNumber:19},void 0),e.jsxDEV(Ke,{children:C.map(q=>e.jsxDEV(De,{children:[e.jsxDEV(b,{children:q.nom_application||"Non sp√©cifi√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:213,columnNumber:25},void 0),e.jsxDEV(b,{children:typeof q.score_global=="number"?q.score_global.toFixed(2):"0.00"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:214,columnNumber:25},void 0),e.jsxDEV(b,{children:new Date(q.date_analyse).toLocaleDateString("fr-FR")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:217,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(Y,{size:"small",onClick:()=>t(`/analyses-interpretations/${q.id_application}`),children:"D√©tails"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:221,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:220,columnNumber:25},void 0)]},q.id_analyse,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:212,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:210,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:201,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:200,columnNumber:15},void 0):e.jsxDEV(fe,{severity:"info",children:"Aucune analyse disponible pour cette entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:234,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:194,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:155,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:154,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/EntrepriseScoresPanel.jsx",lineNumber:135,columnNumber:5},void 0)},Ti=s=>{const{children:t,value:r,index:m,...l}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==m,id:`analysis-tabpanel-${m}`,"aria-labelledby":`analysis-tab-${m}`,...l,children:r===m&&e.jsxDEV(d,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:71,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:64,columnNumber:5},void 0)},Pi=({loading:s,error:t,applications:r,entreprises:m,selectedApplication:l,selectedEntreprise:D,analyses:N,selectedAnalyse:B,interpretation:C,historique:W,filteredHistorique:g,tabValue:$,selectedThematique:z,openDialog:P,newAnalyseData:_,interpretationsSummary:k,page:Q,rowsPerPage:v,order:O,orderBy:h,searchTerm:I,filters:q,showFilters:j,uniqueThematiques:R,handleApplicationChange:te,handleEntrepriseChange:Ce,handleAnalyseChange:G,handleThematiqueChange:K,handleTabChange:ie,handleOpenNewAnalyseDialog:xe,handleCloseDialog:y,addThematique:J,updateThematique:S,removeThematique:x,createNewAnalyse:c,calculateNewAnalyse:p,getScoreGlobal:M,prepareHistoriqueData:L,handleChangePage:X,handleChangeRowsPerPage:T,handleRequestSort:be,getFilteredData:H,getUniqueValues:o,setSearchTerm:V,setFilters:E,setShowFilters:ce,fetchAllInterpretations:re,fetchAnalysesByApplication:je,fetchAnalysesByEntreprise:Ie,fetchHistoriqueByEntreprise:Te})=>{var de,Ve;const[Ue,qe]=i.useState(l?"application":D?"entreprise":"application"),[pe,Re]=i.useState({open:!1,message:"",severity:"success"});i.useEffect(()=>{l&&!D?qe("application"):D&&!l&&qe("entreprise")},[l,D]);const f=()=>{if(Ue==="application"){if(qe("entreprise"),l){const A=r.find(se=>se.id_application===l);A!=null&&A.id_entreprise&&Ce({target:{value:A.id_entreprise}})}}else if(qe("application"),D&&!l){const A=r.filter(se=>se.id_entreprise===D);A.length>0&&te({target:{value:A[0].id_application}})}},ae=({active:A,payload:se})=>A&&(se!=null&&se.length)?e.jsxDEV(ue,{sx:{p:1},children:[e.jsxDEV(a,{children:`Th√©matique: ${se[0].payload.thematique}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:162,columnNumber:11},void 0),e.jsxDEV(a,{children:`Score: ${se[0].value}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:161,columnNumber:9},void 0):null;return s?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:173,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:172,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[t&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:180,columnNumber:17},void 0),e.jsxDEV($s,{open:pe.open,autoHideDuration:6e3,onClose:()=>Re({...pe,open:!1}),children:e.jsxDEV(fe,{severity:pe.severity,children:pe.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:186,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:181,columnNumber:7},void 0),e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Analyses et Interpr√©tations de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:193,columnNumber:15},void 0),e.jsxDEV(d,{children:[e.jsxDEV(za,{value:Ue,exclusive:!0,onChange:(A,se)=>se&&f(),color:"primary",sx:{mr:2},children:[e.jsxDEV(Lr,{value:"application",startIcon:e.jsxDEV(Oa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:204,columnNumber:64},void 0),children:"Vue Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:204,columnNumber:19},void 0),e.jsxDEV(Lr,{value:"entreprise",startIcon:e.jsxDEV(ir,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:207,columnNumber:63},void 0),children:"Vue Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:207,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:197,columnNumber:17},void 0),Ue==="application"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Y,{variant:"outlined",color:"primary",onClick:xe,sx:{mr:1},children:"Nouvelle Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:213,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:p,startIcon:e.jsxDEV(vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:225,columnNumber:34},void 0),children:"Calculer Analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:221,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:212,columnNumber:19},void 0),Ue==="entreprise"&&D&&e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:()=>Ie(D),startIcon:e.jsxDEV(vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:236,columnNumber:32},void 0),children:"Calculer Scores"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:232,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:196,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV(Ws,{options:m,getOptionLabel:A=>A.nom_entreprise,value:m.find(A=>A.id_entreprise===D)||null,onChange:(A,se)=>Ce({target:{value:(se==null?void 0:se.id_entreprise)||""}}),renderInput:A=>e.jsxDEV(le,{...A,label:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:249,columnNumber:40},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:244,columnNumber:13},void 0),(Ue==="application"||D)&&e.jsxDEV(Ws,{options:r.filter(A=>!D||A.id_entreprise===D),getOptionLabel:A=>A.nom_application,value:r.find(A=>A.id_application===l)||null,onChange:(A,se)=>te({target:{value:(se==null?void 0:se.id_application)||""}}),renderInput:A=>e.jsxDEV(le,{...A,label:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:259,columnNumber:42},void 0),disabled:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:254,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:191,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:190,columnNumber:9},void 0),Ue==="entreprise"&&D?e.jsxDEV(u,{xs:12,children:e.jsxDEV(ki,{entrepriseId:D},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:268,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:267,columnNumber:11},void 0):e.jsxDEV(e.Fragment,{children:[B&&e.jsxDEV(u,{xs:12,md:4,children:e.jsxDEV(Na,{title:"Score Global",value:M(),variant:"primary",subtitle:"Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:274,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:273,columnNumber:15},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{width:"100%",mb:2},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,children:[e.jsxDEV(a,{variant:"h6",children:"R√©capitulatif des analyses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:286,columnNumber:19},void 0),e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(le,{size:"small",placeholder:"Rechercher...",value:I,onChange:A=>V(A.target.value),InputProps:{startAdornment:e.jsxDEV(Ur,{position:"start",children:e.jsxDEV(jr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:296,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:295,columnNumber:27},void 0)},sx:{mr:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:288,columnNumber:21},void 0),e.jsxDEV(Y,{startIcon:e.jsxDEV(Ba,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:302,columnNumber:40},void 0),onClick:()=>ce(!0),children:"Filtres"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:302,columnNumber:21},void 0),e.jsxDEV(Me,{onClick:re,children:e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:306,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:305,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:287,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:285,columnNumber:17},void 0),e.jsxDEV(Jr,{anchor:"right",open:j,onClose:()=>ce(!1),children:e.jsxDEV(d,{sx:{width:300,p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Filtres"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:313,columnNumber:21},void 0),e.jsxDEV(Ws,{options:o("nom_application"),value:q.application,onChange:(A,se)=>E({...q,application:se||""}),renderInput:A=>e.jsxDEV(le,{...A,label:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:318,columnNumber:48},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:314,columnNumber:21},void 0),e.jsxDEV(Ws,{options:o("niveau_global"),value:q.niveau,onChange:(A,se)=>E({...q,niveau:se||""}),renderInput:A=>e.jsxDEV(le,{...A,label:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:325,columnNumber:48},void 0),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:321,columnNumber:21},void 0),e.jsxDEV(le,{fullWidth:!0,label:"Score min",type:"number",value:q.scoreMin,onChange:A=>E({...q,scoreMin:A.target.value}),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:328,columnNumber:21},void 0),e.jsxDEV(le,{fullWidth:!0,label:"Score max",type:"number",value:q.scoreMax,onChange:A=>E({...q,scoreMax:A.target.value}),sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:336,columnNumber:21},void 0),e.jsxDEV(Y,{onClick:()=>E({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""}),children:"R√©initialiser"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:344,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:312,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:311,columnNumber:17},void 0),e.jsxDEV(Ge,{sx:{maxHeight:440},children:e.jsxDEV(He,{stickyHeader:!0,children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:e.jsxDEV(ds,{active:h==="nom_application",direction:h==="nom_application"?O:"asc",onClick:()=>be("nom_application"),children:"Application"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:357,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:356,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(ds,{active:h==="id_entreprise",direction:h==="id_entreprise"?O:"asc",onClick:()=>be("id_entreprise"),children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:366,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:365,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(ds,{active:h==="score_global",direction:h==="score_global"?O:"asc",onClick:()=>be("score_global"),children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:375,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:374,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(ds,{active:h==="niveau_global",direction:h==="niveau_global"?O:"asc",onClick:()=>be("niveau_global"),children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:384,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:383,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(ds,{active:h==="date_analyse",direction:h==="date_analyse"?O:"asc",onClick:()=>be("date_analyse"),children:"Date"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:393,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:392,columnNumber:25},void 0),e.jsxDEV(b,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:401,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:355,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:354,columnNumber:21},void 0),e.jsxDEV(Ke,{children:[H().map(A=>{const se=m.find(F=>F.id_entreprise===A.id_entreprise),Fe=se?se.nom_entreprise:"Non sp√©cifi√©e";return e.jsxDEV(De,{hover:!0,selected:l===A.id_application,onClick:()=>je(A.id_application),sx:{cursor:"pointer"},children:[e.jsxDEV(b,{children:A.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:416,columnNumber:29},void 0),e.jsxDEV(b,{children:Fe},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:417,columnNumber:29},void 0),e.jsxDEV(b,{children:typeof A.score_global=="number"?A.score_global.toFixed(2):"0.00"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:418,columnNumber:29},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{label:A.niveau_global,color:hs(A.niveau_global),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:424,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:423,columnNumber:29},void 0),e.jsxDEV(b,{children:Fi(A.date_analyse)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:430,columnNumber:29},void 0),e.jsxDEV(b,{children:e.jsxDEV(Y,{variant:"outlined",size:"small",color:l===A.id_application?"secondary":"primary",onClick:F=>{F.stopPropagation(),je(A.id_application)},children:l===A.id_application?"S√©lectionn√©e":"S√©lectionner"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:432,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:431,columnNumber:29},void 0)]},A.id_analyse,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:409,columnNumber:27},void 0)}),H().length===0&&e.jsxDEV(De,{children:e.jsxDEV(b,{colSpan:6,align:"center",children:"Aucune analyse trouv√©e"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:449,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:448,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:404,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:353,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:352,columnNumber:17},void 0),e.jsxDEV(ra,{rowsPerPageOptions:[5,10,25,50],component:"div",count:k.length,rowsPerPage:v,page:Q,onPageChange:X,onRowsPerPageChange:T,labelRowsPerPage:"Lignes par page:",labelDisplayedRows:({from:A,to:se,count:Fe})=>`${A}-${se} sur ${Fe}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:458,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:284,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:283,columnNumber:13},void 0),B&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"R√©partition par Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:476,columnNumber:21},void 0),e.jsxDEV(ge,{children:((de=B.thematiques)==null?void 0:de.length)>0?e.jsxDEV(Es,{width:"100%",height:350,children:e.jsxDEV(Sr,{outerRadius:150,data:B.thematiques.map(A=>({thematique:A.thematique,score:A.score||0,fullMark:5})),children:[e.jsxDEV(wr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:488,columnNumber:29},void 0),e.jsxDEV(qr,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:489,columnNumber:29},void 0),e.jsxDEV(Fr,{angle:30,domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:490,columnNumber:29},void 0),e.jsxDEV(rr,{name:"Score",dataKey:"score",stroke:"#0B4E87",fill:"#0B4E87",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:491,columnNumber:29},void 0),e.jsxDEV(Is,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:498,columnNumber:29},void 0),e.jsxDEV(RechartsTooltip,{content:e.jsxDEV(ae,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:499,columnNumber:55},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:499,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:480,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:479,columnNumber:25},void 0):e.jsxDEV(a,{align:"center",children:"Aucune donn√©e de th√©matique disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:503,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:477,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:475,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:474,columnNumber:17},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{width:"100%"},children:[e.jsxDEV(Ss,{value:$,onChange:ie,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[e.jsxDEV(Xe,{label:"Interpr√©tation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:518,columnNumber:23},void 0),e.jsxDEV(Xe,{label:"D√©tails par Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:519,columnNumber:23},void 0),e.jsxDEV(Xe,{label:"Historique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:520,columnNumber:23},void 0),e.jsxDEV(Xe,{label:"Analyses Pr√©c√©dentes"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:521,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:511,columnNumber:21},void 0),e.jsxDEV(Ti,{value:$,index:0,children:C?e.jsxDEV(u,{container:!0,spacing:2,children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Niveau de Maturit√©",subheader:C.niveau,action:e.jsxDEV(me,{label:C.niveau,color:hs(C.niveau),size:"medium"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:533,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:529,columnNumber:31},void 0),e.jsxDEV(ge,{children:e.jsxDEV(a,{variant:"body1",paragraph:!0,children:C.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:541,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:540,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:528,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:527,columnNumber:27},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Recommandations"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:549,columnNumber:31},void 0),e.jsxDEV(ge,{children:e.jsxDEV(a,{variant:"body1",paragraph:!0,children:C.recommandations},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:551,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:550,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:548,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:547,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:526,columnNumber:25},void 0):e.jsxDEV(fe,{severity:"info",children:"Aucune interpr√©tation disponible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:559,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:524,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:510,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:509,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:473,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:271,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:189,columnNumber:7},void 0),e.jsxDEV(rs,{open:P,onClose:y,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:"Cr√©er une nouvelle analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:574,columnNumber:9},void 0),e.jsxDEV(is,{children:[e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,children:["Application: ",((Ve=r.find(A=>A.id_application===l))==null?void 0:Ve.nom_application)||"Non s√©lectionn√©e"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:576,columnNumber:11},void 0),e.jsxDEV(d,{sx:{mt:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Th√©matiques et Scores"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:580,columnNumber:13},void 0),_.thematiques.map((A,se)=>e.jsxDEV(u,{container:!0,spacing:2,sx:{mb:2},children:[e.jsxDEV(u,{xs:5,children:e.jsxDEV(le,{fullWidth:!0,label:"Th√©matique",value:A.thematique,onChange:Fe=>S(se,"thematique",Fe.target.value)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:584,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:583,columnNumber:17},void 0),e.jsxDEV(u,{xs:3,children:e.jsxDEV(le,{fullWidth:!0,type:"number",label:"Score",value:A.score,inputProps:{min:0,max:5,step:.1},onChange:Fe=>S(se,"score",parseFloat(Fe.target.value))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:592,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:591,columnNumber:17},void 0),e.jsxDEV(u,{xs:3,children:e.jsxDEV(le,{fullWidth:!0,type:"number",label:"Nombre de r√©ponses",value:A.nombre_reponses,inputProps:{min:0,step:1},onChange:Fe=>S(se,"nombre_reponses",parseInt(Fe.target.value))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:602,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:601,columnNumber:17},void 0),e.jsxDEV(u,{xs:1,children:e.jsxDEV(Y,{variant:"outlined",color:"error",onClick:()=>x(se),sx:{height:"100%"},children:"X"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:612,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:611,columnNumber:17},void 0)]},se,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:582,columnNumber:15},void 0)),e.jsxDEV(Y,{variant:"outlined",onClick:J,sx:{mt:1},children:"Ajouter une th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:623,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:579,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:575,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:y,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:629,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:()=>{c().then(()=>Re({open:!0,message:"Analyse cr√©√©e avec succ√®s",severity:"success"})).catch(()=>Re({open:!0,message:"Erreur lors de la cr√©ation",severity:"error"}))},variant:"contained",color:"primary",disabled:_.thematiques.length===0,children:"Cr√©er l'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:630,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:628,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:573,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/dashboard/AnalysesInterpretationsUI.tsx",lineNumber:179,columnNumber:5},void 0)},Hr=()=>{const{id:s}=zs();Ze();const[t,r]=i.useState(!0),[m,l]=i.useState(null),[D,N]=i.useState([]),[B,C]=i.useState(""),[W,g]=i.useState([]),[$,z]=i.useState(null),[P,_]=i.useState(null),[k,Q]=i.useState([]),[v,O]=i.useState([]),[h,I]=i.useState(""),[q,j]=i.useState(0),[R,te]=i.useState(""),[Ce,G]=i.useState(!1),[K,ie]=i.useState({id_application:"",thematiques:[]}),[xe,y]=i.useState([]),[J,S]=i.useState(0),[x,c]=i.useState(10),[p,M]=i.useState("desc"),[L,X]=i.useState("date_analyse"),[T,be]=i.useState(""),[H,o]=i.useState({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""}),[V,E]=i.useState(!1),ce=R?k.filter(ee=>ee.thematique===R):k,re=[...new Set(k.map(ee=>ee.thematique))],je=async()=>{try{r(!0),l(null);const ee=await U.get("interpretations"),w=await U.get("applications/entreprise-mapping");if(Array.isArray(ee)){let Ne=ee;if(w&&typeof w=="object"){const ve={};Array.isArray(w)?w.forEach(Pe=>{ve[Pe.id_application]=Pe.id_entreprise}):Object.keys(w).forEach(Pe=>{ve[Pe]=w[Pe]}),Ne=Ne.map(Pe=>({...Pe,id_entreprise:Pe.id_entreprise||ve[Pe.id_application]||"",organisation:Pe.organisation||"DSIN"}))}else Ne=Ne.map(ve=>({...ve,id_entreprise:ve.id_entreprise||"",organisation:ve.organisation||"DSIN"}));y(Ne),console.log(`Chargement de ${Ne.length} interpr√©tations`)}else console.warn("Format de r√©ponse inattendu pour les interpr√©tations:",ee),y([])}catch(ee){console.error("Erreur lors du chargement des interpr√©tations:",ee),l("Impossible de charger les interpr√©tations"),y([])}finally{r(!1)}};i.useEffect(()=>{(async()=>{try{r(!0);const[w,Ne]=await Promise.all([U.get("applications"),U.get("entreprises")]);Array.isArray(w)?N(w):(l("Format de r√©ponse inattendu pour les applications"),N([])),Array.isArray(Ne)?O(Ne):(l("Format de r√©ponse inattendu pour les entreprises"),O([])),await je(),I(""),C("")}catch(w){console.error("Erreur lors du chargement des donn√©es initiales:",w),l("Impossible de charger les donn√©es initiales")}finally{r(!1)}})()},[]);const Ie=ee=>{const w=ee.target.value;C(w),qe(w)},Te=async ee=>{try{const w=await U.get(`historique/entreprise/${ee}`);if(Array.isArray(w)){Q(w);const Ne=[...new Set(w.map(ve=>ve.thematique))];console.log(`${Ne.length} th√©matiques uniques trouv√©es dans l'historique de l'entreprise ${ee}`),R&&!Ne.includes(R)&&te("")}else console.warn("Format de r√©ponse inattendu pour l'historique:",w),Q([])}catch(w){console.error("Erreur lors du chargement de l'historique pour l'entreprise:",w),Q([])}},Ue=async ee=>{r(!0),l(null);try{const w=await U.get(`analyses/entreprise/${ee}`);if(w&&typeof w=="object"){if(console.log("Donn√©es d'entreprise re√ßues:",w),w.analyses&&Array.isArray(w.analyses)){const Ne=w.analyses.map(Xs);if(g(Ne),Ne.length>0){const ve=Ne[0];z(ve),pe(ve.id_analyse)}else z(null),_(null)}else console.warn("Aucune analyse trouv√©e dans la r√©ponse de l'API pour l'entreprise:",ee),g([]),z(null),_(null);w.applications&&Array.isArray(w.applications)&&console.log(`${w.applications.length} applications trouv√©es pour l'entreprise ${ee}`)}else if(Array.isArray(w)){const Ne=w.map(Xs);if(g(Ne),Ne.length>0){const ve=Ne[0];z(ve),pe(ve.id_analyse)}else z(null),_(null)}else console.warn("Format de r√©ponse inattendu pour les analyses:",w),g([]),z(null),_(null)}catch(w){console.error("Erreur lors du chargement des analyses pour l'entreprise:",w),l("Impossible de charger les analyses pour cette entreprise"),g([]),z(null)}finally{r(!1)}},qe=async ee=>{r(!0),l(null);try{const w=await U.get(`analyses/application/${ee}`);if(Array.isArray(w)){const Ne=w.map(Xs);if(g(Ne),Ne.length>0){const ve=Ne[0];z(ve),pe(ve.id_analyse),Re(ee)}else z(null),_(null),Q([])}else console.warn("Format de r√©ponse inattendu pour les analyses:",w),g([]),z(null),_(null),Q([])}catch(w){console.error("Erreur lors du chargement des analyses:",w),l("Impossible de charger les analyses"),g([]),z(null)}finally{r(!1)}},pe=async ee=>{try{const w=await U.get(`interpretations/analyse/${ee}`);if(w&&typeof w=="object"){const Ne={niveau:w.niveau||"Non √©valu√©",description:w.description||"Aucune description disponible",recommandations:w.recommandations||"Aucune recommandation disponible",score:w.score||0};_(Ne)}else console.warn("Format de r√©ponse inattendu pour l'interpr√©tation:",w),_(null)}catch(w){console.error("Erreur lors du chargement de l'interpr√©tation:",w),_(null)}},Re=async ee=>{try{const w=await U.get(`historique/application/${ee}`);Array.isArray(w)?Q(w):(console.warn("Format de r√©ponse inattendu pour l'historique:",w),Q([]))}catch(w){console.error("Erreur lors du chargement de l'historique:",w),Q([])}},f=ee=>{const w=ee.target.value;if(I(w||""),z(null),_(null),w){r(!0),Ue(w),Te(w);const Ne=xe.filter(ve=>ve.id_entreprise===w);console.log(`Filtre entreprise appliqu√©: ${w}, ${Ne.length} r√©sultats trouv√©s`),S(0)}else je(),Q([]),C("");o({application:"",niveau:"",organisation:"",scoreMin:"",scoreMax:""})},ae=ee=>{const w=Xs(ee);z(w),pe(w.id_analyse)},de=ee=>{te(ee.target.value)},Ve=(ee,w)=>{j(w)},A=()=>{ie({id_application:B,thematiques:[]}),G(!0)},se=()=>{G(!1)},Fe=()=>{ie({...K,thematiques:[...K.thematiques,{thematique:"",score:0,nombre_reponses:0}]})},F=(ee,w,Ne)=>{const ve=[...K.thematiques];ve[ee]={...ve[ee],[w]:Ne},ie({...K,thematiques:ve})},Z=ee=>{const w=K.thematiques.filter((Ne,ve)=>ve!==ee);ie({...K,thematiques:w})},ne=async()=>{try{await U.post("analyses",K),qe(B),je(),se()}catch(ee){console.error("Erreur lors de la cr√©ation de l'analyse:",ee),l("Erreur lors de la cr√©ation de l'analyse")}},Se=async()=>{try{await U.post(`analyses/calculer/${B}`),qe(B),je()}catch(ee){console.error("Erreur lors du calcul de l'analyse:",ee),l("Erreur lors du calcul de l'analyse")}},he=()=>ce.length===0?[]:[...ce].sort((w,Ne)=>{try{return new Date(w.date_mesure).getTime()-new Date(Ne.date_mesure).getTime()}catch(ve){return console.error("Erreur lors du tri des donn√©es historiques:",ve),0}}).map(w=>{try{return{date:new Date(w.date_mesure).toLocaleDateString("fr-FR"),score:w.score,thematique:w.thematique}}catch(Ne){return console.error("Erreur lors de la pr√©paration des donn√©es historiques:",Ne),{date:"Date inconnue",score:w.score||0,thematique:w.thematique||"Inconnue"}}}),ms=()=>{if(!$)return"N/A";const ee=$.score_global!==void 0?$.score_global:$.scoreGlobal!==void 0?$.scoreGlobal:null;return ee!==null?ee.toFixed(2):"N/A"},ws=(ee,w)=>{S(w)},dr=ee=>{c(parseInt(ee.target.value,10)),S(0)},or=ee=>{M(L===ee&&p==="asc"?"desc":"asc"),X(ee)},lr=()=>{let ee=[...xe];return h&&(ee=ee.filter(w=>w.id_entreprise===h),console.log(`Filtr√© par entreprise ${h}: ${ee.length} r√©sultats`)),ee=ee.filter(w=>{var cs,Os,n;const Ne=T.toLowerCase(),ve=((cs=w.nom_application)==null?void 0:cs.toLowerCase().includes(Ne))||!1,Pe=((Os=w.niveau_global)==null?void 0:Os.toLowerCase().includes(Ne))||!1,js=((n=w.organisation)==null?void 0:n.toLowerCase().includes(Ne))||!1;return!(T&&!ve&&!Pe&&!js||H.application&&w.nom_application!==H.application||H.niveau&&w.niveau_global!==H.niveau||H.organisation&&w.organisation!==H.organisation||H.scoreMin&&typeof w.score_global=="number"&&w.score_global<parseFloat(H.scoreMin)||H.scoreMax&&typeof w.score_global=="number"&&w.score_global>parseFloat(H.scoreMax))}),ee.sort((w,Ne)=>{const ve=w[L],Pe=Ne[L];if(typeof ve=="number"&&typeof Pe=="number")return p==="asc"?ve-Pe:Pe-ve;const js=String(ve||""),cs=String(Pe||"");return p==="asc"?js.localeCompare(cs):cs.localeCompare(js)}),ee.slice(J*x,J*x+x)},Us=ee=>[...new Set(xe.map(w=>w[ee]))].filter(Boolean);return e.jsxDEV(Pi,{loading:t,error:m,applications:D,entreprises:v,selectedApplication:B,selectedEntreprise:h,analyses:W,selectedAnalyse:$,interpretation:P,historique:k,filteredHistorique:ce,tabValue:q,selectedThematique:R,openDialog:Ce,newAnalyseData:K,interpretationsSummary:xe,page:J,rowsPerPage:x,order:p,orderBy:L,searchTerm:T,filters:H,showFilters:V,uniqueThematiques:re,handleApplicationChange:Ie,handleEntrepriseChange:f,handleAnalyseChange:ae,handleThematiqueChange:de,handleTabChange:Ve,handleOpenNewAnalyseDialog:A,handleCloseDialog:se,addThematique:Fe,updateThematique:F,removeThematique:Z,createNewAnalyse:ne,calculateNewAnalyse:Se,getScoreGlobal:ms,prepareHistoriqueData:he,handleChangePage:ws,handleChangeRowsPerPage:dr,handleRequestSort:or,getFilteredData:lr,getUniqueValues:Us,setSearchTerm:be,setFilters:o,setShowFilters:E,fetchAllInterpretations:je,fetchAnalysesByApplication:qe,fetchAnalysesByEntreprise:Ue,fetchHistoriqueByEntreprise:Te},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretations.tsx",lineNumber:652,columnNumber:5},void 0)},pr=new Map,Fs=s=>{if(s==null||s==="")return"N/A";const t=typeof s=="string"?parseFloat(s):s;return isNaN(t)?"N/A":t.toFixed(1)},Cr=s=>{if(typeof s=="number"&&!isNaN(s))return s;if(typeof s=="string"){const t=parseFloat(s);return isNaN(t)?0:t}return 0},$i=async(s,t,r)=>{const m=`${s}_${t}_${r.join("|")}`;if(pr.has(m))return console.log("Benchmark data retrieved from cache"),pr.get(m);try{console.log("Fetching benchmark data from API...",{secteur:s,fonction:t,thematiques:r});const l={secteur:s,fonction:t,thematiques:r},D=await U.post("benchmark/analyze",l);let N;if(D&&D.data)N=D.data;else if(D)N=D;else throw new Error("Aucune donn√©e re√ßue de l'API benchmark");return pr.set(m,N),console.log("Benchmark data retrieved successfully:",N),N}catch(l){return console.error("Erreur lors de la r√©cup√©ration des donn√©es benchmark:",l),zi(s,t,r)}},zi=(s,t,r)=>({secteur:s,fonction:t,date_analyse:new Date().toISOString(),thematiques:r.map(m=>({nom:m,score_moyen:3+Math.random()*1.5,ecart_type:.2+Math.random()*.3,recommandations_llm:[{source:"ChatGPT",score:3+Math.random()*1.5,recommandation:`Recommandation ChatGPT pour ${m}: Optimiser les processus et am√©liorer l'efficacit√© op√©rationnelle en mettant l'accent sur l'automatisation et la standardisation.`,niveau_confiance:85+Math.floor(Math.random()*15)},{source:"Grok",score:3+Math.random()*1.5,recommandation:`Recommandation Grok pour ${m}: Impl√©menter des solutions innovantes et agiles en adoptant une approche disruptive et en exploitant les technologies √©mergentes.`,niveau_confiance:80+Math.floor(Math.random()*20)},{source:"Claude",score:3+Math.random()*1.5,recommandation:`Recommandation Claude pour ${m}: Structurer l'approche avec des m√©thodes √©prouv√©es en privil√©giant la qualit√©, la coh√©rence et une am√©lioration progressive.`,niveau_confiance:88+Math.floor(Math.random()*12)}]})),scores:{niveau_entreprise:3.5,niveau_fonction:3.6,niveau_thematique:3.4},metadata:{version_api:"1.0.0",sources_utilisees:["ChatGPT-4","Grok-2","Claude-3.5"],fiabilite_globale:87}}),Oi=s=>s>=4.5?{niveau_global:"Niveau 5 - Optimis√©",recommandations_globales:"Maintenir l'excellence par l'innovation continue et le partage des bonnes pratiques."}:s>=3.5?{niveau_global:"Niveau 4 - G√©r√©",recommandations_globales:"Perfectionner les processus existants et d√©velopper des capacit√©s pr√©dictives."}:s>=2.5?{niveau_global:"Niveau 3 - Mesur√©",recommandations_globales:"Renforcer la culture d'am√©lioration continue et automatiser davantage les processus."}:s>=1.5?{niveau_global:"Niveau 2 - D√©fini",recommandations_globales:"Standardiser les pratiques et formaliser les processus dans toute l'organisation."}:{niveau_global:"Niveau 1 - Initial",recommandations_globales:"Initier une d√©marche d'am√©lioration structur√©e et identifier les processus critiques."},Yr=()=>{const[s,t]=i.useState([]),[r,m]=i.useState(""),[l,D]=i.useState(""),[N,B]=i.useState(null),[C,W]=i.useState(null),[g,$]=i.useState(!0),[z,P]=i.useState(""),[_,k]=i.useState(0),[Q,v]=i.useState(null),[O,h]=i.useState(!1),[I,q]=i.useState([]);i.useEffect(()=>{Ce()},[]),i.useEffect(()=>{console.log("Selected entreprise changed:",r),r?G(r):(B(null),W(null))},[r]),i.useEffect(()=>{if(N&&l){const y=N.fonctions.find(J=>J.id===l);y&&W(y)}},[l,N]),i.useEffect(()=>{C!=null&&C.thematiques&&N&&te(C.thematiques,N.secteur||"Finance",C.nom)},[C,N]);const j=async(y,J,S)=>{if(!S||S.length===0)return[];try{h(!0);const x=S.map(p=>p.nom),c=await $i(y,J,x);return c?(v(c),c.thematiques):[]}catch(x){return console.error("Erreur lors de la r√©cup√©ration du benchmark:",x),[]}finally{h(!1)}},R=(y,J)=>{const S=J.find(x=>x.nom.toLowerCase().includes(y.toLowerCase())||y.toLowerCase().includes(x.nom.toLowerCase()));return S?S.score_moyen:3.5},te=async(y=[],J="Finance",S="RH")=>{if(console.log("Converting radar data with API benchmark:",{thematiques:y,secteur:J,fonctionName:S}),!Array.isArray(y)||y.length===0){console.warn("No thematiques data available for radar chart"),q([]);return}try{const x=await j(J,S,y),c=y.map(p=>{const M=Cr(p.score||p.score_moyen),L=R(p.nom,x);return{thematique:p.nom||"Th√©matique inconnue",score:M,benchmark:L,fullMark:5}}).filter(p=>p.score>0);console.log("Final radar data with API benchmark:",c),q(c)}catch(x){console.error("Erreur lors de la conversion des donn√©es radar:",x);const c=y.map(p=>({thematique:p.nom||"Th√©matique inconnue",score:Cr(p.score||p.score_moyen),benchmark:3.5,fullMark:5})).filter(p=>p.score>0);q(c)}},Ce=async()=>{try{const y=await U.get("entreprises");console.log("Response from entreprises API:",y);let J=[];if(Array.isArray(y))J=y;else if(y&&y.data&&Array.isArray(y.data))J=y.data;else{console.warn("Format de r√©ponse inattendu pour entreprises:",y),P("Format de donn√©es invalide re√ßu du serveur.");return}const S=J.map(x=>({id_entreprise:x.id_entreprise,nom_entreprise:x.nom_entreprise||x.nom||"Entreprise inconnue",secteur:x.secteur||"Non d√©fini",score_global:"0",niveau_global:"Non √©valu√©",recommandations_globales:"Aucune √©valuation disponible",fonctions:[]}));console.log("Formatted entreprises:",S),t(S),S.length>0&&m(S[0].id_entreprise)}catch(y){console.error("Erreur lors du chargement des entreprises:",y.message),P("Impossible de charger la liste des entreprises.")}finally{$(!1)}},G=async y=>{try{$(!0),console.log("Loading details for enterprise:",y);const[J,S]=await Promise.all([U.get(`entreprises/${y}`),U.get(`entreprises/${y}/fonctions`)]);console.log("Enterprise response:",J),console.log("Functions response:",S);let x={};J&&J.data?x=J.data:J&&(x=J);let c={};S&&S.data?c=S.data:S&&(c=S);const p=Cr(c.score_global||0),M=Oi(p),L={id_entreprise:y,nom_entreprise:x.nom_entreprise||c.entreprise||"Entreprise inconnue",secteur:x.secteur||"Non d√©fini",score_global:String(p),niveau_global:c.niveau_global||M.niveau_global,recommandations_globales:c.recommandations_globales||M.recommandations_globales,fonctions:Array.isArray(c.fonctions)?c.fonctions:[]};console.log("Final entreprise details:",L),B(L),L.fonctions.length>0?D(L.fonctions[0].id):(D(""),W(null))}catch(J){console.error("Erreur lors du chargement des d√©tails de l'entreprise:",J.message),P("Impossible de charger les d√©tails de l'entreprise.")}finally{$(!1)}},K=y=>{const J=y.target.value;m(J)},ie=y=>{D(y)},xe=(y,J)=>{k(J)};return g?e.jsxDEV(d,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:[e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:536,columnNumber:9},void 0),e.jsxDEV(a,{sx:{ml:2},children:"Chargement des donn√©es d'analyse..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:537,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:535,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[z&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},children:[z,e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:547,columnNumber:11},void 0),e.jsxDEV(a,{variant:"caption",children:"V√©rifiez que l'entreprise s√©lectionn√©e poss√®de des analyses de maturit√©."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:548,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:545,columnNumber:9},void 0),e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Analyses de maturit√© par Fonctions √©valu√©es"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:559,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:558,columnNumber:13},void 0),e.jsxDEV(Oe,{fullWidth:!0,variant:"outlined",sx:{mb:2},children:[e.jsxDEV(We,{id:"entreprise-select-label",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:565,columnNumber:15},void 0),e.jsxDEV(Qe,{labelId:"entreprise-select-label",id:"entreprise-select",value:r,onChange:K,label:"Entreprise",children:s&&s.length>0?s.map((y,J)=>e.jsxDEV(Ee,{value:y.id_entreprise,children:y.nom_entreprise},`${y.id_entreprise}-${J}`,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:575,columnNumber:21},void 0)):e.jsxDEV(Ee,{value:"",children:e.jsxDEV("em",{children:"Aucune entreprise disponible"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:581,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:580,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:566,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:564,columnNumber:13},void 0),e.jsxDEV(fe,{severity:"info",sx:{mb:2},children:["Debug: ",s.length," entreprises charg√©es | S√©lectionn√©e: ",r||"Aucune"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:589,columnNumber:15},void 0),N&&e.jsxDEV(ye,{sx:{mb:2},children:[e.jsxDEV(Je,{title:`Entreprise: ${N.nom_entreprise}`,subheader:`Secteur: ${N.secteur||"Non d√©fini"}`,action:e.jsxDEV(me,{label:`Score Global: ${Fs(N.score_global)}`,color:hs(N.niveau_global||"")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:601,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:597,columnNumber:17},void 0),e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Niveau:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:609,columnNumber:21},void 0)," ",N.niveau_global||"Non d√©fini"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:608,columnNumber:19},void 0),e.jsxDEV(a,{variant:"body2",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Recommandations:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:612,columnNumber:21},void 0)," ",N.recommandations_globales||"Aucune recommandation disponible"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:611,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:607,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:596,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:557,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:556,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,md:4,children:e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:"Fonctions Analys√©es"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:623,columnNumber:13},void 0),e.jsxDEV(ge,{sx:{p:0},children:N!=null&&N.fonctions&&N.fonctions.length>0?e.jsxDEV(Ns,{children:N.fonctions.map((y,J)=>e.jsxDEV(vs.Fragment,{children:[e.jsxDEV(gs,{onClick:()=>ie(y.id),sx:{borderLeft:l===y.id?"4px solid #0B4E87":"4px solid transparent",bgcolor:l===y.id?"rgba(11, 78, 135, 0.05)":"transparent",cursor:"pointer"},children:e.jsxDEV(ls,{primary:e.jsxDEV(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(a,{variant:"subtitle1",children:y.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:641,columnNumber:31},void 0),e.jsxDEV(me,{label:Fs(y.score_global),color:hs(y.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:642,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:640,columnNumber:29},void 0),secondary:e.jsxDEV(a,{variant:"body2",sx:{mt:.5},children:y.niveau||"Niveau non d√©fini"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:650,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:638,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:629,columnNumber:23},void 0),J<N.fonctions.length-1&&e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:656,columnNumber:74},void 0)]},`fonction-${y.id}-${J}`,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:628,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:626,columnNumber:17},void 0):e.jsxDEV(fe,{severity:"info",children:"Aucune fonction √©valu√©e pour cette entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:661,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:624,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:622,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:621,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,md:8,children:C?e.jsxDEV(ye,{children:[e.jsxDEV(Je,{title:`Analyse de la fonction: ${C.nom}`,action:e.jsxDEV(me,{label:`Score: ${Fs(C.score_global)}`,color:hs(C.niveau||"")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:674,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:671,columnNumber:15},void 0),e.jsxDEV(ge,{children:[e.jsxDEV(Ss,{value:_,onChange:xe,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{mb:2},children:[e.jsxDEV(Xe,{label:"Vue d'ensemble"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:689,columnNumber:19},void 0),e.jsxDEV(Xe,{label:"Recommandations Qwanza"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:690,columnNumber:19},void 0),e.jsxDEV(Xe,{label:"Recommandations LLM Publics"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:691,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:681,columnNumber:17},void 0),_===0&&e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Score par Th√©matique vs Benchmark March√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:697,columnNumber:21},void 0),C.thematiques&&C.thematiques.length>0?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(d,{sx:{width:"100%",height:400},children:[e.jsxDEV(Es,{width:"100%",height:350,children:e.jsxDEV(Sr,{outerRadius:140,width:500,height:350,data:I,children:[e.jsxDEV(wr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:711,columnNumber:31},void 0),e.jsxDEV(qr,{dataKey:"thematique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:712,columnNumber:31},void 0),e.jsxDEV(Fr,{angle:30,domain:[0,5]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:713,columnNumber:31},void 0),e.jsxDEV(rr,{name:"Score Actuel",dataKey:"score",stroke:"#0B4E87",fill:"#0B4E87",fillOpacity:.6},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:716,columnNumber:31},void 0),e.jsxDEV(rr,{name:"Benchmark March√©",dataKey:"benchmark",stroke:"#4CAF50",fill:"#4CAF50",fillOpacity:.3,strokeDasharray:"5 5",strokeWidth:2},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:725,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:705,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:704,columnNumber:27},void 0),e.jsxDEV(d,{sx:{display:"flex",justifyContent:"center",gap:3,mt:"10px",alignItems:"center"},children:[e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(d,{sx:{width:16,height:16,backgroundColor:"#0B4E87",opacity:.6,borderRadius:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:746,columnNumber:31},void 0),e.jsxDEV(a,{variant:"body2",children:"Score Actuel"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:753,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:745,columnNumber:29},void 0),e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(d,{sx:{width:16,height:16,backgroundColor:"#4CAF50",opacity:.3,border:"2px dashed #4CAF50",borderRadius:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:757,columnNumber:31},void 0),e.jsxDEV(a,{variant:"body2",children:"Benchmark March√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:765,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:756,columnNumber:29},void 0),O&&e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:1,ml:2},children:[e.jsxDEV(ze,{size:16},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:770,columnNumber:33},void 0),e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:"Chargement benchmark..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:771,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:769,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:738,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:703,columnNumber:25},void 0),Q&&e.jsxDEV(fe,{severity:"info",sx:{mt:2},children:e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Benchmark bas√© sur :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:783,columnNumber:31},void 0)," ",Q.metadata.sources_utilisees.join(", ")," |",e.jsxDEV("strong",{children:" Fiabilit√© :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:784,columnNumber:31},void 0)," ",Q.metadata.fiabilite_globale,"% |",e.jsxDEV("strong",{children:" Analyse du :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:785,columnNumber:31},void 0)," ",new Date(Q.date_analyse).toLocaleDateString("fr-FR")]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:782,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:781,columnNumber:27},void 0),e.jsxDEV(d,{sx:{mt:2},children:[e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"D√©tail des scores par th√©matique:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:792,columnNumber:27},void 0),e.jsxDEV(Ns,{children:C.thematiques.map((y,J)=>e.jsxDEV(gs,{children:e.jsxDEV(ls,{primary:e.jsxDEV(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(a,{variant:"body1",children:y.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:801,columnNumber:39},void 0),e.jsxDEV(d,{sx:{display:"flex",gap:1},children:[e.jsxDEV(me,{label:`Actuel: ${Fs(y.score)}`,color:hs(y.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:803,columnNumber:41},void 0),Q&&e.jsxDEV(me,{label:`Benchmark: ${R(y.nom,Q.thematiques).toFixed(1)}`,variant:"outlined",color:"success",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:809,columnNumber:43},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:802,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:800,columnNumber:37},void 0),secondary:y.niveau},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:798,columnNumber:33},void 0)},J,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:797,columnNumber:31},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:795,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:791,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:702,columnNumber:23},void 0):e.jsxDEV(fe,{severity:"info",children:["Aucune donn√©e de th√©matique disponible pour cette fonction.",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:829,columnNumber:25},void 0),e.jsxDEV(a,{variant:"caption",children:"V√©rifiez que des formulaires ont √©t√© soumis et analys√©s pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:830,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:827,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:696,columnNumber:19},void 0),_===1&&e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Recommandations Qwanza"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:841,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body1",sx:{mb:2},children:e.jsxDEV("strong",{children:"Recommandations g√©n√©rales pour la fonction:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:845,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:844,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",sx:{mb:3,p:2,bgcolor:"grey.50",borderRadius:1},children:C.recommandations||"Aucune recommandation sp√©cifique disponible pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:847,columnNumber:21},void 0),C.thematiques&&C.thematiques.length>0?e.jsxDEV(Ns,{children:C.thematiques.map((y,J)=>e.jsxDEV(vs.Fragment,{children:[e.jsxDEV(gs,{children:e.jsxDEV(ls,{primary:e.jsxDEV(d,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV(a,{variant:"subtitle1",fontWeight:"bold",children:y.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:859,columnNumber:37},void 0),e.jsxDEV(me,{label:Fs(y.score),color:hs(y.niveau||""),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:860,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:858,columnNumber:35},void 0),secondary:e.jsxDEV(a,{variant:"body2",sx:{mt:1},children:y.recommandations||"Aucune recommandation sp√©cifique pour cette th√©matique."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:868,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:856,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:855,columnNumber:29},void 0),J<C.thematiques.length-1&&e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:874,columnNumber:80},void 0)]},J,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:854,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:852,columnNumber:23},void 0):e.jsxDEV(fe,{severity:"info",children:"Aucune recommandation th√©matique disponible pour cette fonction."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:879,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:840,columnNumber:19},void 0),_===2&&e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Recommandations LLM Publics"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:887,columnNumber:21},void 0),Q&&Q.thematiques.length>0?e.jsxDEV(d,{children:[e.jsxDEV(ye,{sx:{mb:3,bgcolor:"grey.50"},children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"subtitle1",fontWeight:"bold",gutterBottom:!0,children:"Informations sur l'analyse benchmark"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:896,columnNumber:29},void 0),e.jsxDEV(u,{container:!0,spacing:2,children:[e.jsxDEV(u,{item:!0,xs:12,sm:4,children:e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Sources:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:902,columnNumber:35},void 0)," ",Q.metadata.sources_utilisees.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:901,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:900,columnNumber:31},void 0),e.jsxDEV(u,{item:!0,xs:12,sm:4,children:e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Fiabilit√© globale:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:907,columnNumber:35},void 0)," ",Q.metadata.fiabilite_globale,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:906,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:905,columnNumber:31},void 0),e.jsxDEV(u,{item:!0,xs:12,sm:4,children:e.jsxDEV(a,{variant:"body2",children:[e.jsxDEV("strong",{children:"Date d'analyse:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:912,columnNumber:35},void 0)," ",new Date(Q.date_analyse).toLocaleDateString("fr-FR")]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:911,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:910,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:899,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:895,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:894,columnNumber:25},void 0),Q.thematiques.map((y,J)=>e.jsxDEV(ye,{sx:{mb:2},children:[e.jsxDEV(Je,{title:y.nom,action:e.jsxDEV(d,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsxDEV(me,{label:`Score moyen: ${y.score_moyen.toFixed(1)}`,color:"primary",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:926,columnNumber:35},void 0),e.jsxDEV(me,{label:`√âcart-type: ${y.ecart_type.toFixed(2)}`,variant:"outlined",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:931,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:925,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:922,columnNumber:29},void 0),e.jsxDEV(ge,{children:e.jsxDEV(u,{container:!0,spacing:2,children:y.recommandations_llm.map((S,x)=>e.jsxDEV(u,{item:!0,xs:12,md:4,children:e.jsxDEV(ye,{variant:"outlined",sx:{height:"100%"},children:[e.jsxDEV(Je,{title:S.source,avatar:e.jsxDEV(d,{sx:{width:32,height:32,borderRadius:"50%",bgcolor:S.source==="ChatGPT"?"#10a37f":S.source==="Grok"?"#1da1f2":"#ff6b35",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.75rem",fontWeight:"bold"},children:S.source==="ChatGPT"?"GPT":S.source==="Grok"?"GRK":"CLD"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:948,columnNumber:43},void 0),action:e.jsxDEV(d,{sx:{textAlign:"right"},children:[e.jsxDEV(a,{variant:"body2",fontWeight:"bold",children:[S.score.toFixed(1),"/5"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:967,columnNumber:45},void 0),e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:["Confiance: ",S.niveau_confiance,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:970,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:966,columnNumber:43},void 0),sx:{pb:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:945,columnNumber:39},void 0),e.jsxDEV(ge,{sx:{pt:0},children:e.jsxDEV(a,{variant:"body2",children:S.recommandation},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:978,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:977,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:944,columnNumber:37},void 0)},x,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:943,columnNumber:35},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:941,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:939,columnNumber:29},void 0)]},J,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:921,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:892,columnNumber:23},void 0):e.jsxDEV(d,{children:O?e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",gap:2,p:3},children:[e.jsxDEV(ze,{size:24},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:994,columnNumber:29},void 0),e.jsxDEV(a,{children:"Chargement des recommandations LLM..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:995,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:993,columnNumber:27},void 0):e.jsxDEV(fe,{severity:"info",children:["Aucune recommandation LLM disponible pour cette fonction.",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:1e3,columnNumber:29},void 0),e.jsxDEV(a,{variant:"caption",children:"Les recommandations seront g√©n√©r√©es automatiquement lors de la s√©lection d'une fonction avec des th√©matiques."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:1001,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:998,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:991,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:886,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:680,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:670,columnNumber:13},void 0):e.jsxDEV(fe,{severity:"info",children:"Veuillez s√©lectionner une fonction pour voir son analyse d√©taill√©e."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:1013,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:668,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:554,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/AnalysesInterpretationfunctions.tsx",lineNumber:543,columnNumber:5},void 0)},Bi=()=>{const{id:s}=zs(),t=Ze(),[r,m]=i.useState(!0),[l,D]=i.useState(!1),[N,B]=i.useState(null),[C,W]=i.useState(null),[g,$]=i.useState(null),[z,P]=i.useState([]),[_,k]=i.useState(0),Q=["V√©rification des formulaires","Calcul des scores","G√©n√©ration de l'analyse"];i.useEffect(()=>{(async()=>{if(!s){B("Identifiant de l'application manquant"),m(!1);return}m(!0),B(null);try{const I=await U.get(`applications/${s}`);I&&$(I);const q=await U.get("formulaires");let j=[];Array.isArray(q)?j=q.filter(R=>R.id_application===s):q&&q.data&&Array.isArray(q.data)&&(j=q.data.filter(R=>R.id_application===s)),P(j),k(0)}catch(I){console.error("Erreur lors du chargement des donn√©es:",I),B("Erreur lors du chargement des donn√©es. Veuillez r√©essayer plus tard.")}finally{m(!1)}})()},[s]);const v=async()=>{if(s){D(!0),B(null),W(null);try{k(0),await new Promise(I=>setTimeout(I,1e3)),k(1),await new Promise(I=>setTimeout(I,1e3));const h=await U.post("analyses",{id_application:s});k(2),await new Promise(I=>setTimeout(I,1e3)),W("Le score de maturit√© a √©t√© calcul√© avec succ√®s!"),setTimeout(()=>{t(`/analyses-interpretations/${s}`)},2e3)}catch(h){console.error("Erreur lors du calcul du score:",h),B("Une erreur est survenue lors du calcul du score. Veuillez r√©essayer plus tard.")}finally{D(!1)}}},O=z.length>0;return r?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:156,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:155,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Y,{color:"primary",startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:170,columnNumber:28},void 0),onClick:()=>t("/applications"),sx:{mr:2},children:"Retour aux applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:168,columnNumber:15},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Calcul du Score de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:176,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:167,columnNumber:13},void 0),g&&e.jsxDEV(a,{variant:"subtitle1",children:["Application: ",e.jsxDEV("strong",{children:g.nom_application},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:183,columnNumber:30},void 0)," | Type: ",e.jsxDEV("strong",{children:g.type},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:184,columnNumber:23},void 0)," | Statut: ",e.jsxDEV("strong",{children:g.statut},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:185,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:182,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:166,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:165,columnNumber:9},void 0),N&&e.jsxDEV(u,{xs:12,children:e.jsxDEV(fe,{severity:"error",children:N},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:194,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:193,columnNumber:11},void 0),C&&e.jsxDEV(u,{xs:12,children:e.jsxDEV(fe,{severity:"success",children:C},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:200,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:199,columnNumber:11},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2},children:e.jsxDEV(aa,{activeStep:_,alternativeLabel:!0,children:Q.map(h=>e.jsxDEV(ia,{children:e.jsxDEV(na,{children:h},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:210,columnNumber:19},void 0)},h,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:209,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:207,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:206,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:205,columnNumber:9},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Formulaires disponibles pour l'analyse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:220,columnNumber:13},void 0),e.jsxDEV(es,{sx:{mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:223,columnNumber:13},void 0),z.length>0?e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body1",mb:2,children:[z.length," formulaire(s) trouv√©(s) pour cette application."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:227,columnNumber:17},void 0),e.jsxDEV(Ns,{children:z.map((h,I)=>e.jsxDEV(gs,{divider:!0,children:e.jsxDEV(ls,{primary:h.titre||h.questionnaire_titre||`Formulaire ${I+1}`,secondary:`Statut: ${h.statut||"Non d√©fini"} | Derni√®re modification: ${h.date_modification?new Date(h.date_modification).toLocaleDateString("fr-FR"):"Non disponible"}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:234,columnNumber:23},void 0)},h.id_formulaire||I,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:233,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:231,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:226,columnNumber:15},void 0):e.jsxDEV(fe,{severity:"warning",children:"Aucun formulaire n'est disponible pour cette application. Le calcul du score de maturit√© n√©cessite au moins un formulaire compl√©t√©."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:247,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",justifyContent:"center",mt:3,children:e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:256,columnNumber:28},void 0),onClick:v,disabled:l||!O,size:"large",children:l?"Calcul en cours...":"Calculer le Score de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:253,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:252,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:219,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:218,columnNumber:9},void 0),e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:2},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Comment se d√©roule le calcul ?"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body1",paragraph:!0,children:"Le score de maturit√© est calcul√© √† partir des r√©ponses aux questionnaires li√©s √† cette application. Le processus √©value plusieurs th√©matiques et fournit un score global ainsi que des scores par domaine."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:273,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body1",children:[e.jsxDEV("strong",{children:"Note :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:278,columnNumber:15},void 0)," Pour obtenir un score pertinent, assurez-vous que les formulaires ont √©t√© compl√©t√©s avec soin et refl√®tent fid√®lement la maturit√© DevSecOps de l'application."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:277,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:269,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:268,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:163,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/CalculateScore.tsx",lineNumber:162,columnNumber:5},void 0)},Wi=()=>{const s=Ze(),[t,r]=i.useState([]),[m,l]=i.useState([]),[D,N]=i.useState([]),[B,C]=i.useState(!0),[W,g]=i.useState(!1),[$,z]=i.useState(null),[P,_]=i.useState(""),[k,Q]=i.useState(""),[v,O]=i.useState(""),[h,I]=i.useState(""),[q,j]=i.useState("desc"),[R,te]=i.useState("date_modification"),[Ce,G]=i.useState(0),[K,ie]=i.useState(10),[xe,y]=i.useState(!0),[J,S]=i.useState(null),[x,c]=i.useState(null),p=i.useCallback(async(f=!0)=>{const ae=Date.now();try{z(null),we.debug(`Chargement des formulaires - Mode: ${f?"optimis√©":"d√©taill√©"}`);const de=f?"formulaires":"formulaires/detailed",Ve=await U.get(de);let A=[];Array.isArray(Ve)?A=Ve:Ve&&Ve.data&&Array.isArray(Ve.data)?A=Ve.data:(console.warn("Format de r√©ponse inattendu pour formulaires:",Ve),A=[]);const[se,Fe]=await Promise.all([U.get("fonctions"),U.get("entreprises")]);let F=[];Array.isArray(se)?F=se:se&&se.data&&Array.isArray(se.data)?F=se.data:(console.warn("Format de r√©ponse inattendu pour fonctions:",se),F=[]);let Z=[];Array.isArray(Fe)?Z=Fe:Fe&&Fe.data&&Array.isArray(Fe.data)?Z=Fe.data:(console.warn("Format de r√©ponse inattendu pour entreprises:",Fe),Z=[]);const ne=A.map(he=>({id_formulaire:he.id_formulaire,id_acteur:he.id_acteur||"",acteur_nom:he.acteur_nom||"Utilisateur inconnu",id_application:he.id_application||"",nom_application:he.nom_application||"Application inconnue",id_entreprise:he.id_entreprise||"",nom_entreprise:he.nom_entreprise||"Entreprise inconnue",id_questionnaire:he.id_questionnaire||"",questionnaire_nom:he.questionnaire_nom||he.nom||"Questionnaire sans nom",thematiques:Array.isArray(he.thematiques)?he.thematiques:he.thematiques?he.thematiques.split(",").map(ms=>ms.trim()):[],fonctions:Array.isArray(he.fonctions)?he.fonctions:he.fonctions?he.fonctions.split(",").map(ms=>ms.trim()):[],date_creation:he.date_creation||new Date().toISOString(),date_modification:he.date_modification||he.date_creation||new Date().toISOString(),statut:he.statut||"Brouillon",progression:Number(he.progression)??(he.statut==="Valid√©"?100:he.statut==="Soumis"?75:he.statut==="En cours"?50:25),total_questions:he.total_questions||0,total_reponses:he.total_reponses||0,commentaires:he.commentaires||""})),Se=Date.now()-ae;S({loadTime:Se,count:ne.length,endpoint:de,cacheStatus:"Non disponible",timestamp:new Date().toISOString()}),r(ne),l(F),N(Z),we.info(`‚úÖ ${ne.length} formulaires charg√©s en ${Se}ms via ${de}`)}catch(de){console.error("Erreur lors de la r√©cup√©ration des donn√©es:",de),z("Impossible de charger les formulaires. Veuillez r√©essayer plus tard."),r([]),we.error("Erreur lors du chargement des formulaires:",de)}finally{C(!1),g(!1)}},[]);i.useEffect(()=>{p(xe)},[p,xe]);const M=()=>{g(!0),p(xe)},L=()=>{const f=!xe;y(f),C(!0),p(f)},X=async()=>{var f,ae,de;try{C(!0);const Ve=await U.get("formulaires/debug/performance");if(Ve.data){const A=Ve.data;alert(`Diagnostic de performance:
        
Tests de performance:
- Comptage simple: ${((f=A.performance_tests)==null?void 0:f.simple_count)||"N/A"}
- Chargement cache: ${((ae=A.performance_tests)==null?void 0:ae.cache_load)||"N/A"}
- Requ√™te de base: ${((de=A.performance_tests)==null?void 0:de.base_query)||"N/A"}

Cache: ${A.cache_status}
Total formulaires: ${A.total_formulaires}

Recommandation: ${xe?"Mode optimis√© activ√© ‚úÖ":"Activez le mode optimis√© pour de meilleures performances"}`),S(se=>({...se,cacheStatus:A.cache_status,timestamp:new Date().toISOString()}))}}catch(Ve){console.error("Erreur lors du diagnostic:",Ve),alert("Erreur lors du diagnostic de performance")}finally{C(!1)}},T=t.filter(f=>{const ae=P===""||f.questionnaire_nom&&f.questionnaire_nom.toLowerCase().includes(P.toLowerCase())||f.nom_entreprise&&f.nom_entreprise.toLowerCase().includes(P.toLowerCase())||f.acteur_nom&&f.acteur_nom.toLowerCase().includes(P.toLowerCase())||f.thematiques&&f.thematiques.some(se=>se.toLowerCase().includes(P.toLowerCase()))||f.fonctions&&f.fonctions.some(se=>se.toLowerCase().includes(P.toLowerCase())),de=k===""||f.statut===k,Ve=v===""||f.fonctions&&f.fonctions.includes(v),A=h===""||f.id_entreprise===h;return ae&&de&&Ve&&A}),H=[...T].sort((f,ae)=>{var Ve,A,se,Fe;let de=0;switch(R){case"questionnaire_nom":de=(f.questionnaire_nom||"").localeCompare(ae.questionnaire_nom||"");break;case"fonctions":const F=((Ve=f.fonctions)==null?void 0:Ve.join(", "))||"",Z=((A=ae.fonctions)==null?void 0:A.join(", "))||"";de=F.localeCompare(Z);break;case"acteur_nom":de=(f.acteur_nom||"").localeCompare(ae.acteur_nom||"");break;case"date_modification":de=new Date(f.date_modification).getTime()-new Date(ae.date_modification).getTime();break;case"statut":de=f.statut.localeCompare(ae.statut);break;case"progression":de=(f.progression||0)-(ae.progression||0);break;case"thematiques":const ne=((se=f.thematiques)==null?void 0:se.join(", "))||"",Se=((Fe=ae.thematiques)==null?void 0:Fe.join(", "))||"";de=ne.localeCompare(Se);break;default:de=0}return q==="asc"?de:-de}).slice(Ce*K,Ce*K+K),o=(f,ae)=>{G(ae)},V=f=>{ie(parseInt(f.target.value,10)),G(0)},E=f=>{j(R===f&&q==="asc"?"desc":"asc"),te(f)},ce=f=>{switch(f){case"Valid√©":return"success";case"Soumis":return"primary";case"Brouillon":return"warning";default:return"default"}},re=(f=0)=>f<30?"error":f<70?"warning":"success",je=f=>{try{return new Date(f).toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(ae){return console.warn("Erreur lors du formatage de la date:",ae),"Date invalide"}},Ie=[...new Set(t.flatMap(f=>f.fonctions||[]))].filter(Boolean),Te=f=>{s(`/formulaires/${f.id_formulaire}`)},Ue=f=>{s(`/formulaires/${f.id_formulaire}`)},qe=async f=>{if(window.confirm(`√ätes-vous s√ªr de vouloir supprimer ce formulaire "${f.questionnaire_nom}" ?`))try{await U.delete(`formulaires/${f.id_formulaire}`),r(ae=>ae.filter(de=>de.id_formulaire!==f.id_formulaire)),c("Formulaire supprim√© avec succ√®s"),we.info(`Formulaire ${f.id_formulaire} supprim√©`)}catch(ae){console.error("Erreur lors de la suppression:",ae),z("Erreur lors de la suppression du formulaire"),we.error("Erreur suppression formulaire:",ae)}},pe=async f=>{if(window.confirm(`Soumettre le formulaire "${f.questionnaire_nom}" pour validation ?`))try{C(!0),await U.put(`formulaires/${f.id_formulaire}/submit`),r(ae=>ae.map(de=>de.id_formulaire===f.id_formulaire?{...de,statut:"Soumis",progression:Math.max(de.progression,75)}:de)),c("Formulaire soumis avec succ√®s"),we.info(`Formulaire ${f.id_formulaire} soumis`)}catch(ae){console.error("Erreur lors de la soumission:",ae),z("Erreur lors de la soumission du formulaire"),we.error("Erreur soumission formulaire:",ae)}finally{C(!1)}},Re=()=>{s("/formulaires/new")};return B?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:[e.jsxDEV(ze,{size:60},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:489,columnNumber:9},void 0),e.jsxDEV(a,{variant:"body2",sx:{ml:2},children:"Chargement des formulaires..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:490,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:488,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"xl",sx:{mt:4,mb:4},children:[$&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},onClose:()=>z(null),children:$},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:501,columnNumber:9},void 0),e.jsxDEV($s,{open:!!x,autoHideDuration:6e3,onClose:()=>c(null),message:x},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:506,columnNumber:7},void 0),e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Gestion des Formulaires d'√âvaluation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:518,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",gap:1,children:[e.jsxDEV(Be,{title:"Diagnostic de performance",children:e.jsxDEV(Me,{onClick:X,color:"info",children:e.jsxDEV(Wa,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:524,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:523,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:522,columnNumber:17},void 0),e.jsxDEV(Be,{title:xe?"Mode d√©taill√© (plus lent)":"Mode optimis√© (plus rapide)",children:e.jsxDEV(Y,{variant:"outlined",size:"small",onClick:L,startIcon:e.jsxDEV(ta,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:533,columnNumber:32},void 0),color:xe?"success":"warning",children:xe?"Optimis√©":"D√©taill√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:529,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:528,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"outlined",color:"primary",startIcon:e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:543,columnNumber:30},void 0),onClick:M,disabled:W,children:"Actualiser"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:540,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:553,columnNumber:30},void 0),onClick:Re,children:"Nouveau Formulaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:550,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:521,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:517,columnNumber:13},void 0),J&&e.jsxDEV(fe,{severity:"info",sx:{mb:2},children:e.jsxDEV(a,{variant:"body2",children:[J.count," formulaires charg√©s en ",J.loadTime,"ms via ",J.endpoint,xe&&" (mode optimis√©)"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:564,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:563,columnNumber:15},void 0),e.jsxDEV(u,{container:!0,spacing:2,sx:{mb:2},children:[e.jsxDEV(u,{item:!0,xs:12,sm:6,md:3,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{color:"textSecondary",gutterBottom:!0,children:"Total Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:577,columnNumber:21},void 0),e.jsxDEV(a,{variant:"h4",children:t.length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:580,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:576,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:575,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:574,columnNumber:15},void 0),e.jsxDEV(u,{item:!0,xs:12,sm:6,md:3,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{color:"textSecondary",gutterBottom:!0,children:"Valid√©s"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:589,columnNumber:21},void 0),e.jsxDEV(a,{variant:"h4",color:"success.main",children:t.filter(f=>f.statut==="Valid√©").length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:592,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:588,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:587,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:586,columnNumber:15},void 0),e.jsxDEV(u,{item:!0,xs:12,sm:6,md:3,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{color:"textSecondary",gutterBottom:!0,children:"En Cours"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:601,columnNumber:21},void 0),e.jsxDEV(a,{variant:"h4",color:"warning.main",children:t.filter(f=>f.statut==="Soumis").length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:604,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:600,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:599,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:598,columnNumber:15},void 0),e.jsxDEV(u,{item:!0,xs:12,sm:6,md:3,children:e.jsxDEV(ye,{children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{color:"textSecondary",gutterBottom:!0,children:"Brouillons"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:613,columnNumber:21},void 0),e.jsxDEV(a,{variant:"h4",color:"info.main",children:t.filter(f=>f.statut==="Brouillon").length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:616,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:612,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:611,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:610,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:573,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:516,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:515,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(ue,{sx:{p:2},children:e.jsxDEV(u,{container:!0,spacing:2,alignItems:"center",children:[e.jsxDEV(u,{item:!0,xs:12,md:3,children:e.jsxDEV(le,{fullWidth:!0,label:"Rechercher",variant:"outlined",value:P,onChange:f=>_(f.target.value),InputProps:{startAdornment:e.jsxDEV(Ur,{position:"start",children:e.jsxDEV(jr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:640,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:639,columnNumber:23},void 0)}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:631,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:630,columnNumber:15},void 0),e.jsxDEV(u,{item:!0,xs:12,md:2,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:648,columnNumber:19},void 0),e.jsxDEV(Qe,{value:k,label:"Statut",onChange:f=>Q(f.target.value),children:[e.jsxDEV(Ee,{value:"",children:"Tous"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:654,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"Brouillon",children:"Brouillon"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:655,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"Soumis",children:"Soumis"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:656,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"Valid√©",children:"Valid√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:657,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:649,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:647,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:646,columnNumber:15},void 0),e.jsxDEV(u,{item:!0,xs:12,md:2,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:663,columnNumber:19},void 0),e.jsxDEV(Qe,{value:v,label:"Fonction",onChange:f=>O(f.target.value),children:[e.jsxDEV(Ee,{value:"",children:"Toutes"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:669,columnNumber:21},void 0),Ie.map(f=>e.jsxDEV(Ee,{value:f,children:f},f,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:671,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:664,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:662,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:661,columnNumber:15},void 0),e.jsxDEV(u,{item:!0,xs:12,md:3,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:680,columnNumber:19},void 0),e.jsxDEV(Qe,{value:h,label:"Entreprise",onChange:f=>I(f.target.value),children:[e.jsxDEV(Ee,{value:"",children:"Toutes"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:686,columnNumber:21},void 0),D.map(f=>e.jsxDEV(Ee,{value:f.id_entreprise,children:f.nom_entreprise},f.id_entreprise,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:688,columnNumber:23},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:681,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:679,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:678,columnNumber:15},void 0),e.jsxDEV(u,{item:!0,xs:12,md:2,children:e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:[T.length," r√©sultat(s)"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:696,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:695,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:629,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:628,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:627,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(Ge,{component:ue,children:[e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:e.jsxDEV(ds,{active:R==="questionnaire_nom",direction:R==="questionnaire_nom"?q:"asc",onClick:()=>E("questionnaire_nom"),children:"Questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:711,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:710,columnNumber:19},void 0),e.jsxDEV(b,{children:e.jsxDEV(ds,{active:R==="fonctions",direction:R==="fonctions"?q:"asc",onClick:()=>E("fonctions"),children:"Fonction(s)"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:720,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:719,columnNumber:19},void 0),e.jsxDEV(b,{children:e.jsxDEV(ds,{active:R==="acteur_nom",direction:R==="acteur_nom"?q:"asc",onClick:()=>E("acteur_nom"),children:"Acteur"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:729,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:728,columnNumber:19},void 0),e.jsxDEV(b,{children:e.jsxDEV(ds,{active:R==="date_modification",direction:R==="date_modification"?q:"asc",onClick:()=>E("date_modification"),children:"Dates"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:738,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:737,columnNumber:19},void 0),e.jsxDEV(b,{children:e.jsxDEV(ds,{active:R==="statut",direction:R==="statut"?q:"asc",onClick:()=>E("statut"),children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:747,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:746,columnNumber:19},void 0),e.jsxDEV(b,{children:e.jsxDEV(ds,{active:R==="progression",direction:R==="progression"?q:"asc",onClick:()=>E("progression"),children:"Progression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:756,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:755,columnNumber:19},void 0),e.jsxDEV(b,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:764,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:709,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:708,columnNumber:15},void 0),e.jsxDEV(Ke,{children:H.length>0?H.map(f=>e.jsxDEV(De,{hover:!0,children:[e.jsxDEV(b,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:f.questionnaire_nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:774,columnNumber:27},void 0),f.thematiques&&f.thematiques.length>0&&e.jsxDEV(d,{sx:{mt:.5},children:[f.thematiques.slice(0,2).map((ae,de)=>e.jsxDEV(me,{label:ae,size:"small",color:"secondary",variant:"outlined",sx:{mr:.5,mb:.5}},de,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:780,columnNumber:33},void 0)),f.thematiques.length>2&&e.jsxDEV(me,{label:`+${f.thematiques.length-2}`,size:"small",color:"default",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:790,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:778,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:773,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:772,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{children:[f.fonctions&&f.fonctions.length>0?f.fonctions.slice(0,2).map((ae,de)=>e.jsxDEV(me,{label:ae,color:"primary",variant:"outlined",size:"small",sx:{mr:.5,mb:.5}},de,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:807,columnNumber:31},void 0)):e.jsxDEV(me,{label:"Aucune fonction",color:"default",variant:"outlined",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:817,columnNumber:29},void 0),f.fonctions&&f.fonctions.length>2&&e.jsxDEV(me,{label:`+${f.fonctions.length-2}`,size:"small",color:"default",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:825,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:804,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:803,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:f.acteur_nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:838,columnNumber:27},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:f.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:841,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:837,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:836,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",children:["Cr√©√©: ",je(f.date_creation)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:850,columnNumber:27},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["Modifi√©: ",je(f.date_modification)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:853,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:849,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:848,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{label:f.statut,color:ce(f.statut),size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:861,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:860,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{sx:{minWidth:120},children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:.5,children:[e.jsxDEV(a,{variant:"body2",sx:{mr:1},children:[f.progression,"%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:872,columnNumber:29},void 0),f.total_questions>0&&e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:["(",f.total_reponses,"/",f.total_questions,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:876,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:871,columnNumber:27},void 0),e.jsxDEV(Qa,{variant:"determinate",value:f.progression,color:re(f.progression),sx:{height:6,borderRadius:3}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:881,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:870,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:869,columnNumber:23},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{display:"flex",gap:.5,children:[e.jsxDEV(Be,{title:"Voir les d√©tails",children:e.jsxDEV(Me,{size:"small",color:"info",onClick:()=>Te(f),children:e.jsxDEV(Ga,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:899,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:894,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:893,columnNumber:27},void 0),e.jsxDEV(Be,{title:"Modifier",children:e.jsxDEV(Me,{size:"small",color:"primary",onClick:()=>Ue(f),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:908,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:903,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:902,columnNumber:27},void 0),f.statut==="Brouillon"&&e.jsxDEV(Be,{title:"Soumettre",children:e.jsxDEV(Me,{size:"small",color:"success",onClick:()=>pe(f),children:e.jsxDEV(da,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:918,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:913,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:912,columnNumber:29},void 0),e.jsxDEV(Be,{title:"Supprimer",children:e.jsxDEV(Me,{size:"small",color:"error",onClick:()=>qe(f),children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:928,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:923,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:922,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:892,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:891,columnNumber:23},void 0)]},f.id_formulaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:770,columnNumber:21},void 0)):e.jsxDEV(De,{children:e.jsxDEV(b,{colSpan:7,align:"center",children:e.jsxDEV(d,{py:4,children:[e.jsxDEV(Er,{sx:{fontSize:48,color:"text.secondary",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:939,columnNumber:25},void 0),e.jsxDEV(a,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Aucun formulaire trouv√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:940,columnNumber:25},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:t.length===0?"Aucun formulaire n'a encore √©t√© cr√©√©.":"Aucun formulaire ne correspond aux crit√®res de recherche."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:943,columnNumber:25},void 0),t.length===0&&e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:952,columnNumber:40},void 0),sx:{mt:2},onClick:Re,children:"Cr√©er le premier formulaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:949,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:938,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:937,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:936,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:767,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:707,columnNumber:13},void 0),e.jsxDEV(ra,{rowsPerPageOptions:[5,10,25,50],component:"div",count:T.length,rowsPerPage:K,page:Ce,onPageChange:o,onRowsPerPageChange:V,labelRowsPerPage:"Lignes par page:",labelDisplayedRows:({from:f,to:ae,count:de})=>`${f}-${ae} sur ${de!==-1?de:`plus de ${ae}`}`},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:967,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:706,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:705,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:513,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/index.tsx",lineNumber:498,columnNumber:5},void 0)},Qi=()=>{const{id:s}=zs(),t=Ze(),[r,m]=i.useState(!0),[l,D]=i.useState(!1),[N,B]=i.useState(null),[C,W]=i.useState([]),[g,$]=i.useState([]),[z,P]=i.useState(null),[_,k]=i.useState(null),[Q,v]=i.useState({open:!1,action:null});i.useEffect(()=>{(async()=>{var x,c,p,M,L,X,T,be,H,o;if(!s){P("Identifiant du formulaire manquant"),m(!1);return}m(!0),P(null);try{const V=await U.get(`formulaires/${s}`),E=V.data||V;if(!E||typeof E!="object")throw new Error("Format de donn√©es du formulaire inattendu");const ce={id_formulaire:E.id_formulaire||"",id_acteur:((x=E.acteur)==null?void 0:x.id_acteur)||"",acteur_nom:((c=E.acteur)==null?void 0:c.nom_prenom)||"Utilisateur inconnu",id_application:((p=E.application)==null?void 0:p.id_application)||"",nom_application:((M=E.application)==null?void 0:M.nom_application)||"Application inconnue",id_entreprise:((L=E.entreprise)==null?void 0:L.id_entreprise)||"",nom_entreprise:((X=E.entreprise)==null?void 0:X.nom_entreprise)||"Entreprise inconnue",id_questionnaire:((T=E.questionnaire)==null?void 0:T.id_questionnaire)||"",questionnaire_nom:((be=E.questionnaire)==null?void 0:be.nom)||"Questionnaire inconnu",thematiques:Array.isArray((H=E.questionnaire)==null?void 0:H.thematiques)?E.questionnaire.thematiques.map(pe=>({id:pe.id||"",nom:pe.nom||"Th√©matique inconnue"})):[],fonctions:Array.isArray((o=E.questionnaire)==null?void 0:o.fonctions)?E.questionnaire.fonctions.map(pe=>pe.nom).filter(Boolean):[],date_creation:E.date_creation||new Date().toISOString(),date_modification:E.date_modification||E.date_creation||new Date().toISOString(),statut:E.statut||"Brouillon",progression:Number(E.progression)||0};if(B(ce),!ce.id_questionnaire)throw new Error("Questionnaire non valide associ√© au formulaire");const re=ce.thematiques.map(async pe=>{try{const Re=await U.get(`questions/thematique/${pe.id}`);return(Array.isArray(Re)?Re:[]).map(ae=>({id_question:ae.id_question||"",id_thematique:ae.id_thematique||pe.id,texte:ae.texte||"Question inconnue",ponderation:Number(ae.ponderation)||1,ordre:Number(ae.ordre)||0,aide_reponse:ae.aide_reponse||void 0,date_creation:ae.date_creation||new Date().toISOString(),date_modification:ae.date_modification||ae.date_creation||new Date().toISOString()}))}catch(Re){return console.warn(`Erreur lors du chargement des questions pour la th√©matique ${pe.nom}:`,Re),[]}}),Ie=(await Promise.all(re)).flat().sort((pe,Re)=>pe.ordre-Re.ordre);W(Ie);const Te=await U.get(`reponses/formulaire/${s}`),qe=(Array.isArray(Te)?Te:[]).map(pe=>({id_reponse:pe.id_reponse||"",id_formulaire:pe.id_formulaire||s,id_question:pe.id_question||"",question_texte:pe.question_texte||"",valeur_reponse:pe.valeur_reponse||"",score:Number(pe.score)||0,commentaire:pe.commentaire||void 0}));$(qe)}catch(V){P(V.message||"Erreur lors du chargement du formulaire.")}finally{m(!1)}})()},[s]);const O=i.useMemo(()=>C.length>0&&C.every(S=>g.some(x=>x.id_question===S.id_question)),[C,g]),h=i.useMemo(()=>C.length>0?g.length/C.length*100:0,[C.length,g.length]),I=i.useMemo(()=>g.filter(S=>S.commentaire&&S.commentaire.trim().length>0).length,[g]),q=i.useMemo(()=>g.filter(S=>{const x=parseFloat(S.valeur_reponse)||0,c=C.find(p=>p.id_question===S.id_question);return x<=2&&c&&c.ponderation>=3}).length,[g,C]),j=i.useMemo(()=>{if(!N)return{};const S={};return N.thematiques.forEach(x=>{S[x.id]=C.filter(c=>c.id_thematique===x.id).sort((c,p)=>c.ordre-p.ordre)}),S},[N,C]),R=S=>g.find(x=>x.id_question===S),te=(S,x)=>{const c=g.findIndex(M=>M.id_question===S),p=C.find(M=>M.id_question===S);if(p)if(c>=0){const M=[...g];M[c]={...M[c],valeur_reponse:x,score:parseInt(x)||0},$(M)}else{const M={id_reponse:`temp_${Date.now()}`,id_formulaire:s||"",id_question:S,question_texte:p.texte,valeur_reponse:x,score:parseInt(x)||0};$([...g,M])}},Ce=(S,x)=>{const c=g.findIndex(p=>p.id_question===S);if(c>=0){const p=[...g];p[c]={...p[c],commentaire:x||void 0},$(p)}},G=S=>{v({open:!0,action:S})},K=()=>{v({open:!1,action:null})},ie=async S=>{if(!(!N||!s)){D(!0),P(null);try{S&&S!==N.statut&&(await U.put(`formulaires/${s}`,{statut:S,progression:Math.round(h)}),B({...N,statut:S,progression:Math.round(h)}));const x=g.map(async(X,T)=>{var be;try{if(!X.id_question||!X.id_formulaire)return console.warn(`R√©ponse ${T+1} incompl√®te, ignor√©e:`,X),{skipped:!0,index:T};let H,o;if(X.id_reponse.startsWith("temp_"))if(H=await U.post("reponses",{id_formulaire:X.id_formulaire,id_question:X.id_question,valeur_reponse:X.valeur_reponse,score:X.score,commentaire:X.commentaire||""}),H&&H.data&&H.data.id_reponse)o=H.data;else if(H&&H.id_reponse)o=H;else if(H)console.warn(`Format de r√©ponse inattendu pour POST r√©ponse ${T+1}:`,H),o={id_reponse:"created",success:!0,originalResponse:H};else throw new Error("Aucune r√©ponse re√ßue de l'API");else H=await U.put(`reponses/${X.id_reponse}`,{valeur_reponse:X.valeur_reponse,score:X.score,commentaire:X.commentaire||""}),H&&H.data?o=H.data:H?o=H:o={id_reponse:X.id_reponse,success:!0};return{success:!0,index:T,result:o}}catch(H){return console.error(`‚ùå Erreur sauvegarde r√©ponse ${T+1}:`,{error:H,reponse:X,message:H==null?void 0:H.message,status:(be=H==null?void 0:H.response)==null?void 0:be.status}),{success:!1,index:T,error:(H==null?void 0:H.message)||"Erreur inconnue",reponse:X}}}),c=await Promise.all(x),p=c.filter(X=>X.success===!0),M=c.filter(X=>X.success===!1),L=c.filter(X=>X.skipped===!0);if(console.log(`üìä R√©sultats sauvegarde: ${p.length} r√©ussies, ${M.length} √©chou√©es, ${L.length} ignor√©es`),M.length>0){console.error("‚ùå D√©tails des √©checs:",M);const X=M.map(T=>`R√©ponse ${T.index+1}: ${T.error}`).join("; ");P(`${M.length} r√©ponses n'ont pas pu √™tre sauvegard√©es. D√©tails: ${X}`)}else if(L.length>0)P(`${L.length} r√©ponses incompl√®tes ont √©t√© ignor√©es.`);else{try{console.log("üî¢ D√©clenchement du calcul de score...");const T=await U.put(`formulaires/${s}`,{statut:N.statut,progression:Math.round(h),trigger_score_calculation:!0});T.score_actuel!==void 0&&T.score_maximum!==void 0&&(B(be=>({...be,...T,thematiques:be.thematiques,fonctions:be.fonctions})),console.log(`‚úÖ Score calcul√©: ${T.score_actuel}/${T.score_maximum}`))}catch(T){console.warn("‚ö†Ô∏è Erreur lors du calcul de score (r√©ponses sauvegard√©es avec succ√®s):",T)}k(S==="Soumis"?"Formulaire soumis avec succ√®s ! Score calcul√©.":S==="Valid√©"?"Formulaire valid√© avec succ√®s ! Score calcul√©.":"Formulaire enregistr√© avec succ√®s ! Score calcul√©.")}}catch(x){console.error("‚ùå Erreur g√©n√©rale lors de la sauvegarde:",x),P(x.message||"Erreur lors de la sauvegarde du formulaire.")}finally{D(!1)}}},xe=S=>{switch(S){case"Valid√©":return{label:"Valid√©",color:"success"};case"Soumis":return{label:"Soumis",color:"primary"};default:return{label:"Brouillon",color:"warning"}}},y=S=>{try{return new Date(S).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}catch{return"Date invalide"}};if(r)return e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:442,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:441,columnNumber:7},void 0);if(!N)return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(fe,{severity:"error",children:z||"Formulaire non trouv√©."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:450,columnNumber:9},void 0),e.jsxDEV(Y,{startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:451,columnNumber:28},void 0),onClick:()=>t("/formulaires"),sx:{mt:2},children:"Retour √† la liste"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:451,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:449,columnNumber:7},void 0);const J=xe(N.statut);return e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(Ha,{"aria-label":"breadcrumb",sx:{mb:2},children:[e.jsxDEV(kr,{underline:"hover",color:"inherit",sx:{display:"flex",alignItems:"center"},href:"/",children:[e.jsxDEV(Ya,{sx:{mr:.5},fontSize:"inherit"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:464,columnNumber:11},void 0),"Accueil"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:463,columnNumber:9},void 0),e.jsxDEV(kr,{underline:"hover",color:"inherit",sx:{display:"flex",alignItems:"center"},href:"/formulaires",children:"Formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:467,columnNumber:9},void 0),e.jsxDEV(a,{color:"text.primary",sx:{display:"flex",alignItems:"center"},children:N.questionnaire_nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:470,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:462,columnNumber:7},void 0),e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(Me,{color:"primary",onClick:()=>t("/formulaires"),sx:{mr:1},children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:481,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:480,columnNumber:17},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:N.questionnaire_nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:483,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:479,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",alignItems:"center",children:[q>0&&e.jsxDEV(Be,{title:`${q} question(s) critique(s)`,children:e.jsxDEV(us,{badgeContent:q,color:"error",sx:{mr:2},children:e.jsxDEV(oa,{color:"error"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:491,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:490,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:489,columnNumber:19},void 0),I>0&&e.jsxDEV(Be,{title:`${I} commentaire(s)`,children:e.jsxDEV(us,{badgeContent:I,color:"info",sx:{mr:2},children:e.jsxDEV(Ka,{color:"info"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:498,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:497,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:496,columnNumber:19},void 0),e.jsxDEV(me,{label:J.label,color:J.color,variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:502,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:487,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:478,columnNumber:13},void 0),e.jsxDEV(u,{container:!0,spacing:2,children:[e.jsxDEV(u,{item:!0,xs:12,md:4,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(ir,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:509,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Entreprise:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:511,columnNumber:21},void 0)," ",N.nom_entreprise]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:510,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:508,columnNumber:17},void 0),e.jsxDEV(d,{display:"flex",alignItems:"center",children:[e.jsxDEV(Ja,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:515,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Fonctions:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:517,columnNumber:21},void 0)," ",N.fonctions.join(", ")||"Aucune"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:516,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:514,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:507,columnNumber:15},void 0),e.jsxDEV(u,{item:!0,xs:12,md:4,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(cr,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:523,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle1",children:e.jsxDEV("strong",{children:"Th√©matiques:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:525,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:524,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:522,columnNumber:17},void 0),e.jsxDEV(d,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:N.thematiques.map((S,x)=>e.jsxDEV(me,{label:S.nom,size:"small",color:"secondary",variant:"outlined"},x,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:530,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:528,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:521,columnNumber:15},void 0),e.jsxDEV(u,{item:!0,xs:12,md:4,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:1,children:[e.jsxDEV(la,{fontSize:"small",sx:{mr:1,color:"text.secondary"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:536,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Acteur:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:538,columnNumber:21},void 0)," ",N.acteur_nom]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:537,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:535,columnNumber:17},void 0),e.jsxDEV(a,{variant:"subtitle1",children:[e.jsxDEV("strong",{children:"Date de cr√©ation:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:542,columnNumber:19},void 0)," ",y(N.date_creation)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:541,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:534,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:506,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:477,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:476,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(ue,{sx:{p:2},children:e.jsxDEV(d,{sx:{width:"100%"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(a,{variant:"body2",sx:{mb:1},children:["Progression: ",Math.round(h),"%"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:553,columnNumber:17},void 0),e.jsxDEV(a,{variant:"body2",sx:{mb:1},children:[g.length," / ",C.length," questions r√©pondues"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:556,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:552,columnNumber:15},void 0),e.jsxDEV(d,{sx:{width:"100%",backgroundColor:"#e0e0e0",borderRadius:1,height:8},children:e.jsxDEV(d,{sx:{width:`${h}%`,backgroundColor:h<30?"#f44336":h<70?"#ff9800":"#4caf50",borderRadius:1,height:"100%",transition:"width 0.5s ease-in-out"}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:561,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:560,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:551,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:550,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:549,columnNumber:9},void 0),z&&e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(fe,{severity:"error",onClose:()=>P(null),children:z},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:577,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:576,columnNumber:11},void 0),_&&e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(fe,{severity:"success",onClose:()=>k(null),children:_},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:585,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:584,columnNumber:11},void 0),e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(ue,{sx:{p:3},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Questions par th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:593,columnNumber:13},void 0),e.jsxDEV(es,{sx:{mb:3}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:596,columnNumber:13},void 0),N.thematiques.length>0?N.thematiques.map(S=>{var x,c;return e.jsxDEV(Ls,{defaultExpanded:!0,children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:601,columnNumber:49},void 0),children:[e.jsxDEV(a,{variant:"subtitle1",children:S.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:602,columnNumber:21},void 0),e.jsxDEV(d,{sx:{ml:2},children:e.jsxDEV(me,{label:`${((x=j[S.id])==null?void 0:x.length)||0} questions`,size:"small",color:"primary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:604,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:603,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:601,columnNumber:19},void 0),e.jsxDEV(Ts,{children:((c=j[S.id])==null?void 0:c.length)>0?j[S.id].map(p=>{const M=R(p.id_question),L=p.ponderation>=3,X=M&&(parseInt(M.valeur_reponse)||0)<=2&&L;return e.jsxDEV(ye,{sx:{mb:3,position:"relative",border:X?"1px solid #f44336":L?"1px solid #ff9800":"none"},children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{sx:{position:"absolute",top:-10,left:-10,width:30,height:30,borderRadius:"50%",backgroundColor:L?"warning.main":"primary.main",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:p.ordre},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:629,columnNumber:31},void 0),e.jsxDEV(d,{sx:{ml:3},children:[e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,fontWeight:L?"bold":"normal",children:[p.texte,L&&e.jsxDEV(Be,{title:"Question √† forte pond√©ration",children:e.jsxDEV(cr,{color:"warning",fontSize:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:652,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:651,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:648,columnNumber:33},void 0),p.aide_reponse&&e.jsxDEV(a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[e.jsxDEV("strong",{children:"Aide:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:658,columnNumber:37},void 0)," ",p.aide_reponse]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:657,columnNumber:35},void 0),e.jsxDEV(a,{variant:"caption",color:L?"warning.main":"text.secondary",sx:{display:"block",mb:2},children:["Pond√©ration: ",p.ponderation," ",L?"(Question importante)":""]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:661,columnNumber:33},void 0),e.jsxDEV(Oe,{component:"fieldset",sx:{width:"100%"},children:[e.jsxDEV(a,{variant:"body2",sx:{mb:1},children:"√âvaluation (1 = Niveau initial, 5 = Niveau optimis√©)"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:669,columnNumber:35},void 0),e.jsxDEV(Xa,{row:!0,name:`question-${p.id_question}`,value:(M==null?void 0:M.valeur_reponse)||"",onChange:T=>te(p.id_question,T.target.value),children:[1,2,3,4,5].map(T=>e.jsxDEV(Zr,{value:T.toString(),control:e.jsxDEV(Za,{sx:{color:T<=2&&L?"error.main":void 0,"&.Mui-checked":{color:T<=2&&L?"error.main":void 0}}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:683,columnNumber:43},void 0),label:T.toString(),disabled:N.statut==="Valid√©"},T,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:679,columnNumber:39},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:672,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:668,columnNumber:33},void 0),e.jsxDEV(le,{fullWidth:!0,label:"Commentaire (optionnel)",multiline:!0,rows:2,margin:"normal",value:(M==null?void 0:M.commentaire)||"",onChange:T=>Ce(p.id_question,T.target.value),disabled:N.statut==="Valid√©",helperText:X?"Un commentaire est recommand√© pour cette question critique":"",error:X&&(!(M!=null&&M.commentaire)||M.commentaire.trim()==="")},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:698,columnNumber:33},void 0),X&&(!(M!=null&&M.commentaire)||M.commentaire.trim()==="")&&e.jsxDEV(fe,{severity:"warning",sx:{mt:1},children:"Veuillez ajouter un commentaire pour justifier cette √©valuation critique."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:711,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:647,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:628,columnNumber:29},void 0)},p.id_question,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:620,columnNumber:27},void 0)}):e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"Aucune question pour cette th√©matique."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:721,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:612,columnNumber:19},void 0)]},S.id,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:600,columnNumber:17},void 0)}):e.jsxDEV(a,{variant:"body1",align:"center",sx:{py:2},children:"Aucune th√©matique associ√©e √† ce formulaire."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:729,columnNumber:15},void 0),e.jsxDEV(d,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:[e.jsxDEV(Y,{variant:"outlined",color:"primary",onClick:()=>ie("Brouillon"),disabled:l||N.statut==="Valid√©",startIcon:e.jsxDEV(Vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:739,columnNumber:28},void 0),sx:{mr:1},children:"Enregistrer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:734,columnNumber:15},void 0),N.statut==="Brouillon"&&e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:()=>G("Soumis"),disabled:l||!O,startIcon:e.jsxDEV(da,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:750,columnNumber:30},void 0),sx:{mr:1},children:"Soumettre"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:745,columnNumber:17},void 0),N.statut==="Soumis"&&e.jsxDEV(Y,{variant:"contained",color:"success",onClick:()=>G("Valid√©"),disabled:l||!O,startIcon:e.jsxDEV(ei,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:762,columnNumber:30},void 0),children:"Valider"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:757,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:733,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:592,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:591,columnNumber:9},void 0),e.jsxDEV(u,{item:!0,xs:12,children:e.jsxDEV(Ls,{children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:772,columnNumber:43},void 0),"aria-controls":"reponses-content",id:"reponses-header",children:e.jsxDEV(a,{children:"Aper√ßu des r√©ponses"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:773,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:772,columnNumber:13},void 0),e.jsxDEV(Ts,{children:e.jsxDEV(d,{sx:{width:"100%"},children:N.thematiques.map(S=>{var x;return e.jsxDEV(d,{sx:{mb:3},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:S.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:779,columnNumber:21},void 0),((x=j[S.id])==null?void 0:x.length)>0?j[S.id].map(c=>{const p=R(c.id_question),M=c.ponderation>=3,L=p&&(parseInt(p.valeur_reponse)||0)<=2&&M;return e.jsxDEV(d,{sx:{mb:2,p:2,border:L?"1px solid #f44336":M?"1px solid #ff9800":"1px solid #eee",borderRadius:1,bgcolor:L?"rgba(244, 67, 54, 0.05)":M?"rgba(255, 152, 0, 0.05)":"transparent"},children:[e.jsxDEV(a,{variant:"subtitle2",fontWeight:M?"bold":"normal",children:[c.ordre,". ",c.texte,M&&e.jsxDEV(Be,{title:"Question √† forte pond√©ration",children:e.jsxDEV(cr,{color:"warning",fontSize:"small",sx:{ml:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:803,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:802,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:799,columnNumber:29},void 0),p?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(a,{variant:"body2",sx:{mt:1,color:L?"error.main":"inherit"},children:[e.jsxDEV("strong",{children:"R√©ponse:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:810,columnNumber:35},void 0)," ",p.valeur_reponse," / 5"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:809,columnNumber:33},void 0),p.commentaire?e.jsxDEV(a,{variant:"body2",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Commentaire:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:814,columnNumber:37},void 0)," ",p.commentaire]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:813,columnNumber:35},void 0):L&&e.jsxDEV(a,{variant:"body2",color:"error",sx:{mt:1},children:[e.jsxDEV("strong",{children:"Commentaire manquant"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:819,columnNumber:39},void 0)," pour une question critique"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:818,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:808,columnNumber:31},void 0):e.jsxDEV(a,{variant:"body2",sx:{mt:1,color:"error.main"},children:"Pas de r√©ponse"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:825,columnNumber:31},void 0)]},c.id_question,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:789,columnNumber:27},void 0)}):e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"Aucune question pour cette th√©matique."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:833,columnNumber:23},void 0)]},S.id,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:778,columnNumber:19},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:776,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:775,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:771,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:770,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:475,columnNumber:7},void 0),e.jsxDEV(rs,{open:Q.open,onClose:K,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e.jsxDEV(as,{id:"alert-dialog-title",children:Q.action==="Soumis"?"Soumettre le formulaire ?":"Valider le formulaire ?"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:851,columnNumber:9},void 0),e.jsxDEV(is,{children:[e.jsxDEV(si,{id:"alert-dialog-description",children:Q.action==="Soumis"?"√ätes-vous s√ªr de vouloir soumettre ce formulaire ? Apr√®s soumission, il sera en attente de validation.":"√ätes-vous s√ªr de vouloir valider ce formulaire ? Cette action est d√©finitive."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:855,columnNumber:11},void 0),q>0&&e.jsxDEV(fe,{severity:"warning",sx:{mt:2},children:["Attention : ",q," question(s) critique(s) ont une note faible. Assurez-vous que tous les commentaires sont bien renseign√©s."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:861,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:854,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:K,color:"inherit",children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:867,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:()=>{Q.action&&(ie(Q.action),K())},color:Q.action==="Valid√©"?"success":"primary",variant:"contained",autoFocus:!0,children:"Confirmer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:870,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:866,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:845,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormDetail.tsx",lineNumber:461,columnNumber:5},void 0)},Gi=()=>{const s=Ze(),[t,r]=i.useState(!0),[m,l]=i.useState(!1),[D,N]=i.useState([]),[B,C]=i.useState([]),[W,g]=i.useState([]),[$,z]=i.useState(null),[P,_]=i.useState(null),[k,Q]=i.useState(0),[v,O]=i.useState({id_entreprise:"",id_acteur:"",questionnaires:[]}),[h,I]=i.useState({id_entreprise:!0,id_acteur:!0,questionnaires:!0}),q=[{label:"Entreprise",icon:e.jsxDEV(ir,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:93,columnNumber:34},void 0)},{label:"Acteur",icon:e.jsxDEV(la,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:94,columnNumber:30},void 0)},{label:"Questionnaires",icon:e.jsxDEV(Er,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:95,columnNumber:38},void 0)}],[j,R]=i.useState([]);i.useEffect(()=>{(async()=>{r(!0),z(null);try{const c=await U.get("entreprises");let p=[];Array.isArray(c)?p=c:c&&c.data&&Array.isArray(c.data)&&(p=c.data),g(p);const M=await U.get("acteurs");let L=[];Array.isArray(M)?L=M:M&&M.data&&Array.isArray(M.data)&&(L=M.data),N(L);const X=await U.get("questionnaires");let T=[];Array.isArray(X)?T=X:X&&X.data&&Array.isArray(X.data)&&(T=X.data);const be=T.map(H=>({id_questionnaire:H.id_questionnaire,nom:H.nom||H.questionnaire_nom||"Questionnaire sans nom",description:H.description||"",thematiques:Array.isArray(H.thematiques)?H.thematiques:H.thematiques?H.thematiques.split(",").map(o=>o.trim()):[],fonctions:Array.isArray(H.fonctions)?H.fonctions:H.fonctions?H.fonctions.split(",").map(o=>o.trim()):[]}));C(be)}catch(c){console.error("Erreur lors du chargement des donn√©es:",c),z("Erreur lors du chargement des donn√©es. Veuillez r√©essayer plus tard.")}finally{r(!1)}})()},[]),i.useEffect(()=>{if(v.id_entreprise){const x=D.filter(c=>c.id_entreprise===v.id_entreprise);R(x),v.id_acteur&&!x.some(c=>c.id_acteur===v.id_acteur)&&O(c=>({...c,id_acteur:""}))}else R(D)},[v.id_entreprise,D]);const te=x=>{const c=x.target.name,p=x.target.value;c&&(O({...v,[c]:p}),c in h&&I({...h,[c]:!0}))},Ce=x=>{const c=x.target.value;O({...v,questionnaires:c}),I({...h,questionnaires:!0})},G=()=>{let x=!0;const c={...h};switch(k){case 0:c.id_entreprise=!!v.id_entreprise,x=c.id_entreprise;break;case 1:c.id_acteur=!!v.id_acteur,x=c.id_acteur;break;case 2:c.questionnaires=v.questionnaires.length>0,x=c.questionnaires;break}return I(c),x},K=()=>{const x={id_entreprise:!!v.id_entreprise,id_acteur:!!v.id_acteur,questionnaires:v.questionnaires.length>0};return I(x),Object.values(x).every(Boolean)},ie=()=>{G()?Q(x=>x+1):z("Veuillez remplir tous les champs obligatoires avant de continuer.")},xe=()=>{Q(x=>x-1),z(null)},y=async x=>{if(x.preventDefault(),!K()){z("Veuillez remplir tous les champs obligatoires.");return}l(!0),z(null),_(null);try{const c="892daedf-3423-11f0-9f03-04bf1ba7bd1e",p=v.questionnaires.map(async T=>{const be={id_questionnaire:T,id_acteur:v.id_acteur,id_application:c,statut:"Brouillon"};try{return{success:!0,response:await U.post("formulaires",be),id_questionnaire:T}}catch(H){return{success:!1,error:H,id_questionnaire:T}}}),M=await Promise.all(p),L=M.filter(T=>T.success),X=M.filter(T=>!T.success);if(L.length===0)z("Erreur lors de la cr√©ation des formulaires. Aucun formulaire n'a pu √™tre cr√©√©.");else if(X.length>0)_(`${L.length} formulaire(s) cr√©√©(s) avec succ√®s. ${X.length} √©chec(s).`),setTimeout(()=>{s("/formulaires")},2e3);else{if(_(`${L.length} formulaire(s) cr√©√©(s) avec succ√®s !`),L.length===1){const T=L[0].response;let be="";if(T&&T.data&&T.data.id_formulaire?be=T.data.id_formulaire:T&&T.id_formulaire&&(be=T.id_formulaire),be){s(`/formulaires/${be}`);return}}setTimeout(()=>{s("/formulaires")},2e3)}}catch(c){console.error("Erreur lors de la cr√©ation des formulaires:",c),z("Erreur lors de la cr√©ation des formulaires. Veuillez r√©essayer plus tard.")}finally{l(!1)}},J=x=>{switch(x){case 0:return e.jsxDEV(u,{container:!0,spacing:3,children:e.jsxDEV(u,{size:12,children:e.jsxDEV(Oe,{fullWidth:!0,error:!h.id_entreprise,children:[e.jsxDEV(We,{id:"entreprise-label",children:"Entreprise *"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:347,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"entreprise-label",id:"id_entreprise",name:"id_entreprise",value:v.id_entreprise,onChange:te,label:"Entreprise *",required:!0,children:W.map(c=>e.jsxDEV(Ee,{value:c.id_entreprise,children:c.nom_entreprise},c.id_entreprise,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:358,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:348,columnNumber:17},void 0),!h.id_entreprise&&e.jsxDEV(Zs,{children:"L'entreprise est requise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:364,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:346,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:345,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:344,columnNumber:11},void 0);case 1:return e.jsxDEV(u,{container:!0,spacing:3,children:e.jsxDEV(u,{size:12,children:[e.jsxDEV(Oe,{fullWidth:!0,error:!h.id_acteur,children:[e.jsxDEV(We,{id:"acteur-label",children:"Acteur *"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:376,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"acteur-label",id:"id_acteur",name:"id_acteur",value:v.id_acteur,onChange:te,label:"Acteur *",required:!0,children:j.map(c=>e.jsxDEV(Ee,{value:c.id_acteur,children:c.nom_prenom},c.id_acteur,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:387,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:377,columnNumber:17},void 0),!h.id_acteur&&e.jsxDEV(Zs,{children:"L'acteur est requis"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:393,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:375,columnNumber:15},void 0),j.length===0&&v.id_entreprise&&e.jsxDEV(fe,{severity:"warning",sx:{mt:2},children:"Aucun acteur n'est associ√© √† cette entreprise. Veuillez en ajouter ou s√©lectionner une autre entreprise."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:397,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:374,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:373,columnNumber:11},void 0);case 2:return e.jsxDEV(u,{container:!0,spacing:3,children:e.jsxDEV(u,{size:12,children:[e.jsxDEV(Oe,{fullWidth:!0,error:!h.questionnaires,children:[e.jsxDEV(We,{id:"questionnaires-label",children:"Questionnaires *"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:410,columnNumber:17},void 0),e.jsxDEV(Qe,{labelId:"questionnaires-label",id:"questionnaires",name:"questionnaires",multiple:!0,value:v.questionnaires,onChange:Ce,label:"Questionnaires *",renderValue:c=>e.jsxDEV(d,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:c.map(p=>{const M=B.find(L=>L.id_questionnaire===p);return e.jsxDEV(me,{label:(M==null?void 0:M.nom)||"Questionnaire inconnu",size:"small"},p,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:424,columnNumber:27},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:420,columnNumber:21},void 0),children:B.map(c=>e.jsxDEV(Ee,{value:c.id_questionnaire,children:[e.jsxDEV(ys,{checked:v.questionnaires.indexOf(c.id_questionnaire)>-1},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:436,columnNumber:23},void 0),e.jsxDEV(ls,{primary:c.nom,secondary:e.jsxDEV(d,{children:[c.description&&e.jsxDEV(a,{variant:"caption",display:"block",children:c.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:442,columnNumber:31},void 0),c.fonctions&&c.fonctions.length>0&&e.jsxDEV(d,{sx:{mt:.5},children:e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:["Fonctions: ",c.fonctions.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:448,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:447,columnNumber:31},void 0),c.thematiques&&c.thematiques.length>0&&e.jsxDEV(d,{sx:{mt:.5},children:[c.thematiques.slice(0,3).map((p,M)=>e.jsxDEV(me,{label:p,size:"small",variant:"outlined",color:"secondary",sx:{mr:.5,mb:.5}},M,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:456,columnNumber:35},void 0)),c.thematiques.length>3&&e.jsxDEV(me,{label:`+${c.thematiques.length-3}`,size:"small",variant:"outlined",color:"default"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:466,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:454,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:440,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:437,columnNumber:23},void 0)]},c.id_questionnaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:435,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:411,columnNumber:17},void 0),!h.questionnaires&&e.jsxDEV(Zs,{children:"S√©lectionnez au moins un questionnaire"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:482,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:409,columnNumber:15},void 0),e.jsxDEV(a,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:[v.questionnaires.length," questionnaire(s) s√©lectionn√©(s). Un formulaire sera cr√©√© pour chaque questionnaire."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:485,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:408,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:407,columnNumber:11},void 0);default:return"√âtape inconnue"}},S=()=>{const x=W.find(M=>M.id_entreprise===v.id_entreprise),c=D.find(M=>M.id_acteur===v.id_acteur),p=B.filter(M=>v.questionnaires.includes(M.id_questionnaire));return e.jsxDEV(ye,{sx:{mb:3},children:e.jsxDEV(ge,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"R√©sum√© de la cr√©ation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:509,columnNumber:11},void 0),e.jsxDEV(u,{container:!0,spacing:2,children:e.jsxDEV(u,{size:12,children:[e.jsxDEV(a,{variant:"subtitle2",children:"Entreprise:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:514,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(x==null?void 0:x.nom_entreprise)||"Non s√©lectionn√©e"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:515,columnNumber:15},void 0),e.jsxDEV(a,{variant:"subtitle2",children:"Acteur:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:519,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:(c==null?void 0:c.nom_prenom)||"Non s√©lectionn√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:520,columnNumber:15},void 0),e.jsxDEV(a,{variant:"subtitle2",sx:{mt:2},children:["Questionnaires s√©lectionn√©s (",p.length,"):"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:524,columnNumber:15},void 0),e.jsxDEV(d,{sx:{ml:2},children:p.map(M=>e.jsxDEV(d,{sx:{mb:2},children:[e.jsxDEV(d,{sx:{display:"flex",alignItems:"center",mb:1},children:[e.jsxDEV(ri,{color:"success",fontSize:"small",sx:{mr:1}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:531,columnNumber:23},void 0),e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:M.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:532,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:530,columnNumber:21},void 0),M.fonctions&&M.fonctions.length>0&&e.jsxDEV(a,{variant:"caption",color:"text.secondary",sx:{ml:3,display:"block"},children:["Fonctions: ",M.fonctions.join(", ")]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:538,columnNumber:23},void 0),M.thematiques&&M.thematiques.length>0&&e.jsxDEV(d,{sx:{ml:3,mt:.5},children:M.thematiques.map((L,X)=>e.jsxDEV(me,{label:L,size:"small",variant:"outlined",color:"secondary",sx:{mr:.5,mb:.5}},X,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:546,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:544,columnNumber:23},void 0)]},M.id_questionnaire,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:529,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:527,columnNumber:15},void 0),e.jsxDEV(fe,{severity:"info",sx:{mt:2},children:[p.length," formulaire(s) seront cr√©√©s √† partir de cette s√©lection."]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:561,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:513,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:512,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:508,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:507,columnNumber:7},void 0)};return t?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:574,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:573,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{size:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",alignItems:"center",mb:2,children:[e.jsxDEV(Me,{color:"primary",onClick:()=>s("/formulaires"),sx:{mr:1},children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:587,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:586,columnNumber:15},void 0),e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Cr√©er des Formulaires d'√âvaluation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:589,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:585,columnNumber:13},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"S√©lectionnez une entreprise, un acteur et un ou plusieurs questionnaires pour cr√©er les formulaires correspondants."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:594,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:584,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:583,columnNumber:9},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(ue,{sx:{p:2},children:e.jsxDEV(aa,{activeStep:k,alternativeLabel:!0,children:q.map((x,c)=>e.jsxDEV(ia,{children:e.jsxDEV(na,{children:x.label},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:606,columnNumber:19},void 0)},c,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:605,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:603,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:602,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:601,columnNumber:9},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(ue,{sx:{p:2},children:e.jsxDEV(d,{component:"form",noValidate:!0,onSubmit:y,children:[$&&e.jsxDEV(fe,{severity:"error",sx:{mb:2},onClose:()=>z(null),children:$},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:618,columnNumber:17},void 0),P&&e.jsxDEV(fe,{severity:"success",sx:{mb:2},children:P},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:624,columnNumber:17},void 0),k===q.length?e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Toutes les √©tapes sont compl√©t√©es"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:631,columnNumber:19},void 0),S(),e.jsxDEV(d,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(Y,{variant:"outlined",onClick:()=>Q(k-1),startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:641,columnNumber:34},void 0),children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:638,columnNumber:21},void 0),e.jsxDEV(Y,{type:"submit",variant:"contained",color:"primary",disabled:m,startIcon:e.jsxDEV(Vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:651,columnNumber:34},void 0),children:m?"Cr√©ation en cours...":"Cr√©er les formulaires"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:646,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:637,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:630,columnNumber:17},void 0):e.jsxDEV(d,{children:[e.jsxDEV(d,{sx:{mb:3},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:q[k].label},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:660,columnNumber:21},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:663,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:659,columnNumber:19},void 0),J(k),e.jsxDEV(d,{display:"flex",justifyContent:"space-between",mt:3,children:[e.jsxDEV(Y,{variant:"outlined",onClick:k===0?()=>s("/formulaires"):xe,startIcon:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:672,columnNumber:34},void 0),children:k===0?"Annuler":"Pr√©c√©dent"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:669,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",onClick:k===q.length-1?()=>ie():ie,children:k===q.length-1?"Finaliser":"Suivant"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:677,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:668,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:658,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:616,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:615,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:614,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:581,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/dashboard/forms/FormNew.tsx",lineNumber:580,columnNumber:5},void 0)},_e=({children:s,className:t="h-5 w-5"})=>e.jsxDEV(d,{component:"span",sx:{display:"flex",alignItems:"center","& svg":{width:20,height:20}},children:vs.cloneElement(s,{className:t})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:189,columnNumber:3},void 0),Rs=s=>{const{children:t,value:r,index:m,...l}=s;return e.jsxDEV("div",{role:"tabpanel",hidden:r!==m,id:`admin-tabpanel-${m}`,"aria-labelledby":`admin-tab-${m}`,...l,children:r===m&&e.jsxDEV(d,{sx:{p:3},children:t},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:206,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:198,columnNumber:5},void 0)},_s=()=>{const{hasPermission:s,canAccessAdminModule:t,isAdmin:r,isSuperAdmin:m,currentUser:l,hasGlobalAccess:D}=tr(),N=Ze();nr();const B=()=>{var n;return((n=l==null?void 0:l.nom_role)==null?void 0:n.toUpperCase())==="CONSULTANT"},C=()=>m()||D?"GLOBAL":(l==null?void 0:l.niveau_acces)||"ENTREPRISE",g=(()=>{const n=C();return m()?{canViewAll:!0,canManageUsers:!0,canManageRoles:!0,canManagePermissions:!0,canManageModules:!0,canEditAll:!0,canDeleteAll:!0,scope:"GLOBAL"}:r()?{canViewAll:!0,canManageUsers:!0,canManageRoles:n==="GLOBAL",canManagePermissions:n==="GLOBAL",canManageModules:n==="GLOBAL",canEditAll:!0,canDeleteAll:!1,scope:n}:B()?{canViewAll:!0,canManageUsers:!1,canManageRoles:!1,canManagePermissions:!1,canManageModules:!1,canEditAll:!1,canDeleteAll:!1,scope:n}:{canViewAll:!1,canManageUsers:!1,canManageRoles:!1,canManagePermissions:!1,canManageModules:!1,canEditAll:!1,canDeleteAll:!1,scope:"ENTREPRISE"}})(),$=()=>{const n=localStorage.getItem("admin-active-tab");return n&&parseInt(n)>=0&&parseInt(n)<=4?parseInt(n):0},[z,P]=i.useState(!0),[_,k]=i.useState($()),[Q,v]=i.useState({open:!1,message:"",severity:"info"}),[O,h]=i.useState([]),[I,q]=i.useState([]),[j,R]=i.useState([]),[te,Ce]=i.useState([]),[G,K]=i.useState([]),[ie,xe]=i.useState([]),[y,J]=i.useState(!1),[S,x]=i.useState(!1),[c,p]=i.useState(!1),[M,L]=i.useState(!1),[X,T]=i.useState(!1),[be,H]=i.useState([]),[o,V]=i.useState({nom_prenom:"",email:"",fonction:"",organisation:"DSIN",id_entreprise:"",mot_de_passe:"",id_role:""}),[E,ce]=i.useState({nom_role:"",description:"",niveau_acces:"ENTREPRISE"}),[re,je]=i.useState({nom_entreprise:"",secteur:"",description:"",adresse:"",telephone:"",email:"",site_web:""}),[Ie,Te]=i.useState("create"),[Ue,qe]=i.useState(null),[pe,Re]=i.useState(""),f=(n,oe="info")=>{v({open:!0,message:n,severity:oe})};i.useEffect(()=>{if(!g.canViewAll&&!B()){N("/");return}ae()},[]),i.useEffect(()=>{localStorage.setItem("admin-active-tab",_.toString())},[_]);const ae=async()=>{P(!0);try{await Promise.all([de(),Ve(),A(),se()])}catch(n){console.error("Erreur lors du chargement des donn√©es:",n),f("Erreur lors du chargement des donn√©es","error")}finally{P(!1)}},de=async()=>{try{let n;try{n=await U.get("admin/users"),h(n.users||n||[])}catch{console.warn("Endpoint admin/users non disponible, utilisation de permissions-management/users"),n=await U.get("permissions-management/users"),h(n||[])}}catch(n){console.error("Erreur lors du chargement des utilisateurs:",n),f("Erreur lors du chargement des utilisateurs","error")}},Ve=async()=>{try{let n;try{n=await U.get("admin/roles"),q(n||[])}catch{console.warn("Endpoint admin/roles non disponible, utilisation de permissions-management/roles"),n=await U.get("permissions-management/roles"),q(n||[])}}catch(n){console.error("Erreur lors du chargement des r√¥les:",n),f("Erreur lors du chargement des r√¥les","error")}},A=async()=>{try{let n;try{n=await U.get("admin/modules"),R(n||[])}catch{console.warn("Endpoint admin/modules non disponible, utilisation de permissions-management/modules"),n=await U.get("permissions-management/modules"),R(n||[])}}catch(n){console.error("Erreur lors du chargement des modules:",n),f("Erreur lors du chargement des modules","error")}},se=async()=>{try{console.log("üîç Chargement des entreprises...");const n=await U.get("entreprises");console.log("‚úÖ Entreprises re√ßues:",n);const oe=(n.entreprises||n||[]).map(Le=>({id_entreprise:Le.id_entreprise,nom_entreprise:Le.nom_entreprise,secteur:Le.secteur,description:Le.description,adresse:Le.adresse,telephone:Le.telephone,email:Le.email,site_web:Le.site_web,date_creation:Le.date_creation,date_modification:Le.date_modification,nombre_utilisateurs:Le.nombre_utilisateurs||0,nombre_applications:Le.nombre_applications||0}));console.log("üè¢ Entreprises finales:",oe),xe(oe)}catch(n){console.error("‚ùå Erreur chargement entreprises:",n),f("Erreur lors du chargement des entreprises","error"),xe([{id_entreprise:"DSIN",nom_entreprise:"DSIN",secteur:"Public",description:"Direction du Syst√®me d'Information et du Num√©rique",adresse:"",telephone:"",email:"",site_web:"",nombre_utilisateurs:0,nombre_applications:0}])}},Fe=async n=>{try{let oe;try{oe=await U.get(`admin/roles/${n}/permissions`),K(oe||[]),H(oe||[])}catch{oe=await U.get(`permissions-management/roles/${n}/permissions`),K(oe||[]),H(oe||[])}}catch(oe){console.error("Erreur lors du chargement des permissions du r√¥le:",oe),f("Erreur lors du chargement des permissions","error")}},F=(n,oe)=>{[g.canViewAll,g.canManageRoles,g.canManagePermissions,g.canEditAll||g.canViewAll,g.canManageModules][oe]?k(oe):f("Vous n'avez pas les droits pour acc√©der √† cet onglet","warning")},Z=()=>{if(!g.canManageUsers){f("Vous n'avez pas les droits pour cr√©er des utilisateurs","warning");return}Te("create"),V({nom_prenom:"",email:"",fonction:"",organisation:"",id_entreprise:g.scope==="ENTREPRISE"&&(l==null?void 0:l.id_entreprise)||"DSIN",mot_de_passe:"",id_role:""}),J(!0)},ne=n=>{if(!g.canEditAll){f("Vous n'avez pas les droits pour modifier des utilisateurs","warning");return}Te("edit"),qe(n),V({nom_prenom:n.nom_prenom,email:n.email,fonction:n.role||"",organisation:n.organisation,id_entreprise:n.id_entreprise||"DSIN",id_role:n.id_role||""}),J(!0)},Se=()=>{if(!g.canManageRoles){f("Vous n'avez pas les droits pour cr√©er des r√¥les","warning");return}Te("create"),ce({nom_role:"",description:"",niveau_acces:"ENTREPRISE"}),x(!0)},he=n=>{if(!g.canManageRoles){f("Vous n'avez pas les droits pour modifier des r√¥les","warning");return}Te("edit"),qe(n),ce({nom_role:n.nom_role,description:n.description,niveau_acces:n.niveau_acces}),x(!0)},ms=()=>{if(!g.canEditAll){f("Vous n'avez pas les droits pour cr√©er des entreprises","warning");return}Te("create"),je({nom_entreprise:"",secteur:"",description:"",adresse:"",telephone:"",email:"",site_web:""}),p(!0)},ws=n=>{if(!g.canEditAll){f("Vous n'avez pas les droits pour modifier des entreprises","warning");return}Te("edit"),qe(n),je({nom_entreprise:n.nom_entreprise,secteur:n.secteur||"",description:n.description||"",adresse:n.adresse||"",telephone:n.telephone||"",email:n.email||"",site_web:n.site_web||""}),p(!0)},dr=()=>{if(!g.canManagePermissions){f("Vous n'avez pas les droits pour modifier les permissions","warning");return}T(!0),H([...G])},or=async()=>{try{const n=be.map(oe=>({id_module:oe.id_module,peut_voir:oe.peut_voir,peut_editer:oe.peut_editer,peut_supprimer:oe.peut_supprimer,peut_administrer:oe.peut_administrer}));try{await U.put(`admin/roles/${pe}/permissions`,{permissions:n})}catch{await U.put(`permissions-management/roles/${pe}/permissions`,{permissions:n})}K([...be]),T(!1),f("Permissions mises √† jour avec succ√®s","success")}catch(n){console.error("Erreur lors de la sauvegarde des permissions:",n),f("Erreur lors de la sauvegarde des permissions","error")}},lr=()=>{H([...G]),T(!1)},Us=(n,oe,Le)=>{H(Ca=>Ca.map(mr=>mr.id_module===n?{...mr,[oe]:Le}:mr))},ee=async()=>{try{const n={nom_prenom:o.nom_prenom,email:o.email,organisation:o.organisation,id_entreprise:o.id_entreprise,id_role:o.id_role,...Ie==="create"&&{mot_de_passe:o.mot_de_passe}};if(console.log("üì§ Envoi donn√©es utilisateur:",n),Ie==="create"){try{await U.post("admin/users",n)}catch{console.warn("Endpoint admin/users non disponible, utilisation de permissions-management/users"),await U.post("permissions-management/users",n)}f("Utilisateur cr√©√© avec succ√®s","success")}else if(Ue){try{await U.put(`admin/users/${Ue.id_acteur}`,n)}catch{await U.put(`acteurs/${Ue.id_acteur}`,n)}f("Utilisateur mis √† jour avec succ√®s","success")}await de(),J(!1),console.log("‚úÖ Utilisateur sauvegard√© avec succ√®s")}catch(n){console.error("‚ùå Erreur lors de la sauvegarde de l'utilisateur:",n),f("Erreur lors de la sauvegarde de l'utilisateur","error")}},w=async()=>{try{if(Ie==="create"){try{await U.post("admin/roles",E)}catch{await U.post("permissions-management/roles",E)}f("R√¥le cr√©√© avec succ√®s","success")}else if(Ue){try{await U.put(`admin/roles/${Ue.id_role}`,E)}catch{await U.put(`permissions-management/roles/${Ue.id_role}`,E)}f("R√¥le mis √† jour avec succ√®s","success")}await Ve(),x(!1)}catch(n){console.error("Erreur lors de la sauvegarde du r√¥le:",n),f("Erreur lors de la sauvegarde du r√¥le","error")}},Ne=async()=>{try{Ie==="create"?(await U.post("entreprises",re),f("Entreprise cr√©√©e avec succ√®s","success")):Ue&&(await U.put(`entreprises/${Ue.id_entreprise}`,re),f("Entreprise mise √† jour avec succ√®s","success")),await se(),p(!1)}catch(n){console.error("Erreur lors de la sauvegarde de l'entreprise:",n),f("Erreur lors de la sauvegarde de l'entreprise","error")}},ve=async()=>{try{if(!Ue)return;if(_===0){try{await U.delete(`admin/users/${Ue.id_acteur}`)}catch{await U.delete(`acteurs/${Ue.id_acteur}`)}await de(),f("Utilisateur supprim√© avec succ√®s","success")}else if(_===1){try{await U.delete(`admin/roles/${Ue.id_role}`)}catch{await U.delete(`permissions-management/roles/${Ue.id_role}`)}await Ve(),f("R√¥le supprim√© avec succ√®s","success")}else _===3&&(await U.delete(`entreprises/${Ue.id_entreprise}`),await se(),f("Entreprise supprim√©e avec succ√®s","success"));L(!1),qe(null)}catch(n){console.error("Erreur lors de la suppression:",n),f("Erreur lors de la suppression","error")}},Pe=(n,oe)=>{switch(oe||n){case"SUPER_ADMINISTRATEUR":case"SuperAdmin":return{label:"Super Admin",color:"error",icon:e.jsxDEV(_e,{children:e.jsxDEV(br,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:825,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:825,columnNumber:17},void 0)};case"ADMINISTRATEUR":case"Admin":return{label:"Admin",color:"primary",icon:e.jsxDEV(_e,{children:e.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:832,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:832,columnNumber:17},void 0)};case"CONSULTANT":return{label:"Consultant",color:"secondary",icon:e.jsxDEV(_e,{children:e.jsxDEV(Ys,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:838,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:838,columnNumber:17},void 0)};case"MANAGER":return{label:"Manager",color:"info",icon:e.jsxDEV(_e,{children:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:844,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:844,columnNumber:17},void 0)};case"INTERVENANT":default:return{label:"Intervenant",color:"default",icon:e.jsxDEV(_e,{children:e.jsxDEV(Tr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:851,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:851,columnNumber:17},void 0)}}},js=n=>m()?!0:r()?Pe(n.role,n.nom_role).label!=="Super Admin":!1,cs=n=>{if(!n)return"Non sp√©cifi√©e";const oe=ie.find(Le=>Le.id_entreprise===n);return oe?oe.nom_entreprise:n},Os=()=>[{label:"Utilisateurs",icon:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:876,columnNumber:38},void 0),enabled:g.canViewAll},{label:"R√¥les",icon:e.jsxDEV(Ys,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:877,columnNumber:31},void 0),enabled:g.canManageRoles},{label:"Permissions",icon:e.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:878,columnNumber:37},void 0),enabled:g.canManagePermissions},{label:"Entreprises",icon:e.jsxDEV(hi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:879,columnNumber:37},void 0),enabled:g.canEditAll||g.canViewAll},{label:"Modules",icon:e.jsxDEV(Pr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:880,columnNumber:33},void 0),enabled:g.canManageModules}];return z?e.jsxDEV(d,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:889,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:888,columnNumber:7},void 0):!g.canViewAll&&!B()?e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:e.jsxDEV(fe,{severity:"error",children:"Acc√®s non autoris√©. Vous devez avoir les permissions appropri√©es pour acc√©der √† cette page."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:897,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:896,columnNumber:7},void 0):e.jsxDEV($e,{maxWidth:"lg",sx:{mt:4,mb:4},children:[e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{size:12,children:e.jsxDEV(ue,{sx:{p:2,display:"flex",flexDirection:"column"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(d,{display:"flex",alignItems:"center",gap:2,children:[e.jsxDEV(_e,{children:e.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:912,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:912,columnNumber:17},void 0),e.jsxDEV(d,{children:[e.jsxDEV(a,{component:"h1",variant:"h5",color:"primary",children:"Administration Syst√®me"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:914,columnNumber:19},void 0),e.jsxDEV(a,{variant:"subtitle2",color:"text.secondary",children:[g.scope==="GLOBAL"?"Vue globale":`Vue limit√©e - ${cs((l==null?void 0:l.id_entreprise)||"")}`,B()&&" (Consultation seule)"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:917,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:913,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:911,columnNumber:15},void 0),e.jsxDEV(d,{display:"flex",gap:1,children:[e.jsxDEV(me,{icon:e.jsxDEV(_e,{children:e.jsxDEV(br,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:926,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:926,columnNumber:25},void 0),label:m()?"Super Administrateur":r()?"Administrateur":B()?"Consultant":"Utilisateur",color:m()?"error":r()?"primary":B()?"secondary":"default",variant:"filled"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:925,columnNumber:17},void 0),!g.canEditAll&&e.jsxDEV(me,{icon:e.jsxDEV(_e,{children:e.jsxDEV(xi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:933,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:933,columnNumber:27},void 0),label:"Lecture seule",color:"warning",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:932,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:924,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:910,columnNumber:13},void 0),e.jsxDEV(u,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxDEV(u,{size:{xs:12,sm:3},children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(a,{variant:"h4",color:"primary",children:O.length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:947,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:["Utilisateurs",g.scope==="ENTREPRISE"?" (Entreprise)":""]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:950,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:946,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:945,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:944,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:3},children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(a,{variant:"h4",color:"secondary",children:I.length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:959,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"R√¥les"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:962,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:958,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:957,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:956,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:3},children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(a,{variant:"h4",color:"info",children:ie.length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:971,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:974,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:970,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:969,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:968,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:3},children:e.jsxDEV(ye,{variant:"outlined",children:e.jsxDEV(ge,{sx:{textAlign:"center",py:2},children:[e.jsxDEV(a,{variant:"h4",color:"success",children:O.filter(n=>Pe(n.role,n.nom_role).label==="Admin").length},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:983,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"text.secondary",children:"Administrateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:986,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:982,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:981,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:980,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:943,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:909,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:908,columnNumber:9},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(ue,{sx:{width:"100%"},children:[e.jsxDEV(Ss,{value:_,onChange:F,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider"},children:Os().map((n,oe)=>e.jsxDEV(Xe,{label:n.label,icon:e.jsxDEV(_e,{children:n.icon},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1011,columnNumber:25},void 0),iconPosition:"start",disabled:!n.enabled},oe,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1008,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:999,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:0,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{variant:"h6",children:"Gestion des Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1021,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(fr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1025,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1025,columnNumber:30},void 0),onClick:Z,disabled:!g.canManageUsers,children:"Nouvel Utilisateur"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1022,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1020,columnNumber:15},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1037,columnNumber:23},void 0),e.jsxDEV(b,{children:"Email"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1038,columnNumber:23},void 0),e.jsxDEV(b,{children:"Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1039,columnNumber:23},void 0),e.jsxDEV(b,{children:"Organisation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1040,columnNumber:23},void 0),e.jsxDEV(b,{children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1041,columnNumber:23},void 0),e.jsxDEV(b,{children:"R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1042,columnNumber:23},void 0),g.canEditAll&&e.jsxDEV(b,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1043,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1036,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1035,columnNumber:19},void 0),e.jsxDEV(Ke,{children:O.map(n=>{const oe=Pe(n.role,n.nom_role),Le=js(n);return e.jsxDEV(De,{hover:!0,children:[e.jsxDEV(b,{children:n.nom_prenom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1053,columnNumber:27},void 0),e.jsxDEV(b,{children:n.email},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1054,columnNumber:27},void 0),e.jsxDEV(b,{children:n.role},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1055,columnNumber:27},void 0),e.jsxDEV(b,{children:n.organisation},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1056,columnNumber:27},void 0),e.jsxDEV(b,{children:cs(n.id_entreprise)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1057,columnNumber:27},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{label:oe.label,color:oe.color,icon:oe.icon,size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1059,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1058,columnNumber:27},void 0),g.canEditAll&&e.jsxDEV(b,{children:[e.jsxDEV(Be,{title:Le?"Modifier l'utilisateur":"Droits insuffisants",children:e.jsxDEV("span",{children:e.jsxDEV(Me,{color:"primary",onClick:()=>ne(n),disabled:!Le,children:e.jsxDEV(_e,{children:e.jsxDEV(Hs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1075,columnNumber:47},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1075,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1070,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1069,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1068,columnNumber:31},void 0),e.jsxDEV(Be,{title:Le&&g.canDeleteAll?"Supprimer l'utilisateur":"Droits insuffisants",children:e.jsxDEV("span",{children:e.jsxDEV(Me,{color:"error",onClick:()=>{qe(n),L(!0)},disabled:!Le||!g.canDeleteAll,children:e.jsxDEV(_e,{children:e.jsxDEV(Nr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1089,columnNumber:47},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1089,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1081,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1080,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1079,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1067,columnNumber:29},void 0)]},n.id_acteur,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1052,columnNumber:25},void 0)})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1046,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1034,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1033,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1019,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:1,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{variant:"h6",children:"Gestion des R√¥les"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1106,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(fr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1110,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1110,columnNumber:30},void 0),onClick:Se,disabled:!g.canManageRoles,children:"Nouveau R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1107,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1105,columnNumber:15},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Nom du R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1122,columnNumber:23},void 0),e.jsxDEV(b,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1123,columnNumber:23},void 0),e.jsxDEV(b,{children:"Niveau d'Acc√®s"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1124,columnNumber:23},void 0),e.jsxDEV(b,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1125,columnNumber:23},void 0),g.canManageRoles&&e.jsxDEV(b,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1126,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1121,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1120,columnNumber:19},void 0),e.jsxDEV(Ke,{children:I.map(n=>e.jsxDEV(De,{hover:!0,children:[e.jsxDEV(b,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",gap:1,children:[n.nom_role==="SUPER_ADMINISTRATEUR"&&e.jsxDEV(_e,{children:e.jsxDEV(br,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1134,columnNumber:84},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1134,columnNumber:74},void 0),n.nom_role==="ADMINISTRATEUR"&&e.jsxDEV(_e,{children:e.jsxDEV(Gs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1135,columnNumber:78},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1135,columnNumber:68},void 0),n.nom_role==="CONSULTANT"&&e.jsxDEV(_e,{children:e.jsxDEV(Ys,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1136,columnNumber:74},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1136,columnNumber:64},void 0),n.nom_role==="MANAGER"&&e.jsxDEV(_e,{children:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1137,columnNumber:71},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1137,columnNumber:61},void 0),n.nom_role==="INTERVENANT"&&e.jsxDEV(_e,{children:e.jsxDEV(Tr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1138,columnNumber:75},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1138,columnNumber:65},void 0),e.jsxDEV(a,{variant:"body2",children:n.nom_role},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1139,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1133,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1132,columnNumber:25},void 0),e.jsxDEV(b,{children:n.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1142,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{label:n.niveau_acces,color:n.niveau_acces==="GLOBAL"?"primary":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1144,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1143,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(us,{badgeContent:n.nombre_utilisateurs||0,color:"primary",children:e.jsxDEV(_e,{children:e.jsxDEV(Ys,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1152,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1152,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1151,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1150,columnNumber:25},void 0),g.canManageRoles&&e.jsxDEV(b,{children:[e.jsxDEV(Me,{color:"primary",onClick:()=>he(n),children:e.jsxDEV(_e,{children:e.jsxDEV(Hs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1161,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1161,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1157,columnNumber:29},void 0),e.jsxDEV(Me,{color:"error",onClick:()=>{qe(n),L(!0)},disabled:!g.canDeleteAll||(n.nombre_utilisateurs||0)>0,children:e.jsxDEV(_e,{children:e.jsxDEV(Nr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1171,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1171,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1163,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1156,columnNumber:27},void 0)]},n.id_role,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1131,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1129,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1119,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1118,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1104,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:2,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{variant:"h6",children:"Gestion des Permissions par R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1185,columnNumber:17},void 0),pe&&G.length>0&&e.jsxDEV(d,{children:X?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(pi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1193,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1193,columnNumber:38},void 0),onClick:or,sx:{mr:1},children:"Sauvegarder"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1190,columnNumber:25},void 0),e.jsxDEV(Y,{variant:"outlined",color:"secondary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(Ci,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1202,columnNumber:48},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1202,columnNumber:38},void 0),onClick:lr,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1199,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1189,columnNumber:23},void 0):e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(Hs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1212,columnNumber:46},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1212,columnNumber:36},void 0),onClick:dr,disabled:!g.canManagePermissions,children:"Modifier les Permissions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1209,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1187,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1184,columnNumber:15},void 0),e.jsxDEV(Oe,{fullWidth:!0,sx:{mb:3},children:[e.jsxDEV(We,{children:"S√©lectionner un r√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1224,columnNumber:17},void 0),e.jsxDEV(Qe,{value:pe,onChange:n=>{Re(n.target.value),T(!1),n.target.value&&Fe(n.target.value)},children:I.map(n=>e.jsxDEV(Ee,{value:n.id_role,children:[n.nom_role," - ",n.description]},n.id_role,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1236,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1225,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1223,columnNumber:15},void 0),pe&&(X?be:G).length>0&&e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Module"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1248,columnNumber:25},void 0),e.jsxDEV(b,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1249,columnNumber:25},void 0),e.jsxDEV(b,{align:"center",children:"Voir"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1250,columnNumber:25},void 0),e.jsxDEV(b,{align:"center",children:"√âditer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1251,columnNumber:25},void 0),e.jsxDEV(b,{align:"center",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1252,columnNumber:25},void 0),e.jsxDEV(b,{align:"center",children:"Administrer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1253,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1247,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1246,columnNumber:21},void 0),e.jsxDEV(Ke,{children:(X?be:G).map(n=>e.jsxDEV(De,{children:[e.jsxDEV(b,{children:e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:n.nom_module},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1260,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1259,columnNumber:27},void 0),e.jsxDEV(b,{children:e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:n.module_description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1265,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1264,columnNumber:27},void 0),e.jsxDEV(b,{align:"center",children:X?e.jsxDEV(Qs,{checked:n.peut_voir,onChange:oe=>Us(n.id_module,"peut_voir",oe.target.checked),color:"primary"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1271,columnNumber:31},void 0):e.jsxDEV(ys,{checked:n.peut_voir,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1277,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1269,columnNumber:27},void 0),e.jsxDEV(b,{align:"center",children:X?e.jsxDEV(Qs,{checked:n.peut_editer,onChange:oe=>Us(n.id_module,"peut_editer",oe.target.checked),color:"primary",disabled:!n.peut_voir},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1282,columnNumber:31},void 0):e.jsxDEV(ys,{checked:n.peut_editer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1289,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1280,columnNumber:27},void 0),e.jsxDEV(b,{align:"center",children:X?e.jsxDEV(Qs,{checked:n.peut_supprimer,onChange:oe=>Us(n.id_module,"peut_supprimer",oe.target.checked),color:"primary",disabled:!n.peut_editer},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1294,columnNumber:31},void 0):e.jsxDEV(ys,{checked:n.peut_supprimer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1301,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1292,columnNumber:27},void 0),e.jsxDEV(b,{align:"center",children:X?e.jsxDEV(Qs,{checked:n.peut_administrer,onChange:oe=>Us(n.id_module,"peut_administrer",oe.target.checked),color:"primary",disabled:!n.peut_editer},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1306,columnNumber:31},void 0):e.jsxDEV(ys,{checked:n.peut_administrer,disabled:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1313,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1304,columnNumber:27},void 0)]},n.id_role_permission||n.id_module,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1258,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1256,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1245,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1244,columnNumber:17},void 0),pe&&G.length===0&&e.jsxDEV(fe,{severity:"info",sx:{mt:2},children:"Aucune permission d√©finie pour ce r√¥le."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1324,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1183,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:3,children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxDEV(a,{variant:"h6",children:"Gestion des Entreprises"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1333,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",color:"primary",startIcon:e.jsxDEV(_e,{children:e.jsxDEV(fr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1337,columnNumber:40},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1337,columnNumber:30},void 0),onClick:ms,disabled:!g.canEditAll,children:"Nouvelle Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1334,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1332,columnNumber:15},void 0),!g.canEditAll&&g.canViewAll&&e.jsxDEV(fe,{severity:"info",sx:{mb:2},children:"Vous consultez les entreprises en mode lecture seule."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1346,columnNumber:17},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Nom"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1355,columnNumber:23},void 0),e.jsxDEV(b,{children:"Secteur"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1356,columnNumber:23},void 0),e.jsxDEV(b,{children:"Utilisateurs"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1357,columnNumber:23},void 0),e.jsxDEV(b,{children:"Applications"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1358,columnNumber:23},void 0),e.jsxDEV(b,{children:"Date Cr√©ation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1359,columnNumber:23},void 0),g.canEditAll&&e.jsxDEV(b,{children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1360,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1354,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1353,columnNumber:19},void 0),e.jsxDEV(Ke,{children:ie.map(n=>e.jsxDEV(De,{hover:!0,children:[e.jsxDEV(b,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",fontWeight:"medium",children:n.nom_entreprise},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1368,columnNumber:29},void 0),n.description&&e.jsxDEV(a,{variant:"caption",color:"text.secondary",children:n.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1372,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1367,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1366,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{label:n.secteur||"Non d√©fini",size:"small",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1379,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1378,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(us,{badgeContent:n.nombre_utilisateurs||0,color:"primary",children:e.jsxDEV(_e,{children:e.jsxDEV(Ks,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1387,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1387,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1386,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1385,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(us,{badgeContent:n.nombre_applications||0,color:"secondary",children:e.jsxDEV(_e,{children:e.jsxDEV(Pr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1392,columnNumber:39},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1392,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1391,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1390,columnNumber:25},void 0),e.jsxDEV(b,{children:n.date_creation?new Date(n.date_creation).toLocaleDateString():"Non d√©finie"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1395,columnNumber:25},void 0),g.canEditAll&&e.jsxDEV(b,{children:[e.jsxDEV(Me,{color:"primary",onClick:()=>ws(n),children:e.jsxDEV(_e,{children:e.jsxDEV(Hs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1407,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1407,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1403,columnNumber:29},void 0),e.jsxDEV(Me,{color:"error",onClick:()=>{qe(n),L(!0)},disabled:!g.canDeleteAll||(n.nombre_utilisateurs||0)>0,children:e.jsxDEV(_e,{children:e.jsxDEV(Nr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1417,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1417,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1409,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1402,columnNumber:27},void 0)]},n.id_entreprise,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1365,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1363,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1352,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1351,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1331,columnNumber:13},void 0),e.jsxDEV(Rs,{value:_,index:4,children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,children:"Configuration des Modules"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1430,columnNumber:15},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{children:"Module"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1436,columnNumber:23},void 0),e.jsxDEV(b,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1437,columnNumber:23},void 0),e.jsxDEV(b,{children:"Route"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1438,columnNumber:23},void 0),e.jsxDEV(b,{children:"Ordre"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1439,columnNumber:23},void 0),e.jsxDEV(b,{children:"Statut"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1440,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1435,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1434,columnNumber:19},void 0),e.jsxDEV(Ke,{children:j.map(n=>e.jsxDEV(De,{children:[e.jsxDEV(b,{children:n.nom_module},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1446,columnNumber:25},void 0),e.jsxDEV(b,{children:n.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1447,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV("code",{children:n.route_base},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1449,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1448,columnNumber:25},void 0),e.jsxDEV(b,{children:n.ordre_affichage},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1451,columnNumber:25},void 0),e.jsxDEV(b,{children:e.jsxDEV(me,{label:n.actif?"Actif":"Inactif",color:n.actif?"success":"default",size:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1453,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1452,columnNumber:25},void 0)]},n.id_module,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1445,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1443,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1433,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1432,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1429,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:998,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:997,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:906,columnNumber:7},void 0),e.jsxDEV(rs,{open:y,onClose:()=>J(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:Ie==="create"?"Cr√©er un nouvel utilisateur":"Modifier l'utilisateur"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1472,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(u,{container:!0,spacing:2,children:[e.jsxDEV(u,{size:12,children:e.jsxDEV(le,{required:!0,fullWidth:!0,label:"Nom et pr√©nom",value:o.nom_prenom,onChange:n=>V({...o,nom_prenom:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1479,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1478,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:6},children:e.jsxDEV(le,{required:!0,fullWidth:!0,type:"email",label:"Email",value:o.email,onChange:n=>V({...o,email:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1489,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1488,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:6},children:e.jsxDEV(le,{fullWidth:!0,label:"Fonction",value:o.fonction,onChange:n=>V({...o,fonction:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1500,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1499,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:6},children:e.jsxDEV(le,{fullWidth:!0,label:"Organisation/D√©partement",placeholder:"ex: IT, RH, Finance...",value:o.organisation,onChange:n=>V({...o,organisation:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1509,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1508,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:6},children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"R√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1520,columnNumber:19},void 0),e.jsxDEV(Qe,{value:o.id_role,onChange:n=>V({...o,id_role:n.target.value}),children:I.filter(n=>g.scope==="ENTREPRISE"?n.niveau_acces==="ENTREPRISE"||n.nom_role==="INTERVENANT":!0).map(n=>e.jsxDEV(Ee,{value:n.id_role,children:n.nom_role},n.id_role,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1532,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1521,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1519,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1518,columnNumber:15},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(Oe,{fullWidth:!0,required:!0,children:[e.jsxDEV(We,{id:"entreprise-label",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1542,columnNumber:19},void 0),e.jsxDEV(Qe,{labelId:"entreprise-label",value:o.id_entreprise,label:"Entreprise",onChange:n=>V({...o,id_entreprise:n.target.value}),disabled:g.scope==="ENTREPRISE",children:ie.map(n=>e.jsxDEV(Ee,{value:n.id_entreprise,children:n.nom_entreprise},n.id_entreprise,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1551,columnNumber:23},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1543,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1541,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1540,columnNumber:15},void 0),Ie==="create"&&e.jsxDEV(u,{size:12,children:e.jsxDEV(le,{fullWidth:!0,type:"password",label:"Mot de passe",value:o.mot_de_passe,onChange:n=>V({...o,mot_de_passe:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1561,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1560,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1477,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1476,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1475,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>J(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1574,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:ee,variant:"contained",color:"primary",children:Ie==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1575,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1573,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1471,columnNumber:7},void 0),e.jsxDEV(rs,{open:S,onClose:()=>x(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxDEV(as,{children:Ie==="create"?"Cr√©er un nouveau r√¥le":"Modifier le r√¥le"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1583,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(u,{container:!0,spacing:2,children:[e.jsxDEV(u,{size:12,children:e.jsxDEV(le,{required:!0,fullWidth:!0,label:"Nom du r√¥le",value:E.nom_role,onChange:n=>ce({...E,nom_role:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1590,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1589,columnNumber:15},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(le,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:E.description,onChange:n=>ce({...E,description:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1599,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1598,columnNumber:15},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(Oe,{fullWidth:!0,children:[e.jsxDEV(We,{children:"Niveau d'acc√®s"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1610,columnNumber:19},void 0),e.jsxDEV(Qe,{value:E.niveau_acces,onChange:n=>ce({...E,niveau_acces:n.target.value}),children:[e.jsxDEV(Ee,{value:"ENTREPRISE",children:"Entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1615,columnNumber:21},void 0),e.jsxDEV(Ee,{value:"GLOBAL",children:"Global"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1616,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1611,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1609,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1608,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1588,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1587,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1586,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>x(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1624,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:w,variant:"contained",color:"primary",children:Ie==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1625,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1623,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1582,columnNumber:7},void 0),e.jsxDEV(rs,{open:c,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:Ie==="create"?"Cr√©er une nouvelle entreprise":"Modifier l'entreprise"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1633,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{component:"form",noValidate:!0,sx:{mt:2},children:e.jsxDEV(u,{container:!0,spacing:2,children:[e.jsxDEV(u,{size:{xs:12,sm:6},children:e.jsxDEV(le,{required:!0,fullWidth:!0,label:"Nom de l'entreprise",value:re.nom_entreprise,onChange:n=>je({...re,nom_entreprise:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1640,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1639,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:6},children:e.jsxDEV(le,{required:!0,fullWidth:!0,label:"Secteur",value:re.secteur,onChange:n=>je({...re,secteur:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1649,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1648,columnNumber:15},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(le,{fullWidth:!0,multiline:!0,rows:3,label:"Description",value:re.description,onChange:n=>je({...re,description:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1658,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1657,columnNumber:15},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(le,{fullWidth:!0,label:"Adresse",value:re.adresse,onChange:n=>je({...re,adresse:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1668,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1667,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:6},children:e.jsxDEV(le,{fullWidth:!0,label:"T√©l√©phone",value:re.telephone,onChange:n=>je({...re,telephone:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1676,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1675,columnNumber:15},void 0),e.jsxDEV(u,{size:{xs:12,sm:6},children:e.jsxDEV(le,{fullWidth:!0,type:"email",label:"Email",value:re.email,onChange:n=>je({...re,email:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1684,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1683,columnNumber:15},void 0),e.jsxDEV(u,{size:12,children:e.jsxDEV(le,{fullWidth:!0,label:"Site web",placeholder:"https://",value:re.site_web,onChange:n=>je({...re,site_web:n.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1693,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1692,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1638,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1637,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1636,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>p(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1705,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:Ne,variant:"contained",color:"primary",children:Ie==="create"?"Cr√©er":"Mettre √† jour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1706,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1704,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1632,columnNumber:7},void 0),e.jsxDEV(rs,{open:M,onClose:()=>L(!1),children:[e.jsxDEV(as,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1714,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(a,{children:"√ätes-vous s√ªr de vouloir supprimer cet √©l√©ment ? Cette action est irr√©versible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1716,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1715,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>L(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1721,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:ve,variant:"contained",color:"error",children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1722,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1720,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1713,columnNumber:7},void 0),e.jsxDEV($s,{open:Q.open,autoHideDuration:6e3,onClose:()=>v({...Q,open:!1}),children:e.jsxDEV(fe,{onClose:()=>v({...Q,open:!1}),severity:Q.severity,sx:{width:"100%"},children:Q.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1734,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:1729,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/Administration/index.tsx",lineNumber:905,columnNumber:5},void 0)},Hi=()=>{var L,X,T,be,H;const[s,t]=i.useState([]),[r,m]=i.useState(null),[l,D]=i.useState(!1),[N,B]=i.useState(0),[C,W]=i.useState({open:!1,message:"",severity:"success"}),[g,$]=i.useState({}),z=async o=>{try{const V=await U.get(`/questions/thematique/${o}`);$(E=>({...E,[o]:V}))}catch{K("Erreur chargement des questions","error")}},[P,_]=i.useState(!1),[k,Q]=i.useState(""),[v,O]=i.useState(null),[h,I]=i.useState({}),[q,j]=i.useState(!1),[R,te]=i.useState(null);i.useEffect(()=>{Ce()},[]),i.useEffect(()=>{var o;(o=r==null?void 0:r.thematiques)==null||o.forEach(V=>z(V.id_thematique))},[r]);const Ce=async()=>{D(!0);try{const o=await U.get("/maturity-model/fonctions");t(o.data||o),(o.data||o).length>0&&!r&&G((o.data||o)[0].id_fonction)}catch(o){console.error("Erreur lors du chargement des fonctions:",o),K("Erreur lors du chargement des fonctions","error")}finally{D(!1)}},G=async o=>{D(!0);try{const V=await U.get(`/maturity-model/fonctions/${o}`);m(V.data||V)}catch(V){console.error("Erreur lors du chargement des d√©tails:",V),K("Erreur lors du chargement des d√©tails","error")}finally{D(!1)}},K=(o,V="success")=>{W({open:!0,message:o,severity:V})},ie=(o,V=null)=>{Q(o),O(V),I(V||{}),_(!0)},xe=()=>{_(!1),O(null),I({}),Q("")},y=(o,V,E)=>{te({type:o,id:V,name:E}),j(!0)},J=o=>{I({id_thematique:o.id_thematique,texte:"",ponderation:1,aide_reponse:""}),Q("question"),O(null),_(!0)},S=async()=>{try{let o;switch(k){case"fonction":v?(o=await U.put(`/maturity-model/fonctions/${v.id_fonction}`,h),K("Fonction mise √† jour avec succ√®s")):(o=await U.post("/maturity-model/fonctions",h),K("Fonction cr√©√©e avec succ√®s")),await Ce();break;case"thematique":v?(o=await U.put(`/maturity-model/thematiques/${v.id_thematique}`,h),K("Th√©matique mise √† jour avec succ√®s")):(o=await U.post(`/maturity-model/fonctions/${r==null?void 0:r.id_fonction}/thematiques`,h),K("Th√©matique cr√©√©e avec succ√®s")),r&&await G(r.id_fonction);break;case"niveau-global":v?(o=await U.put(`/maturity-model/niveaux-globaux/${v.id_niveau}`,h),K("Niveau global mis √† jour avec succ√®s")):(o=await U.post(`/maturity-model/fonctions/${r==null?void 0:r.id_fonction}/niveaux-globaux`,h),K("Niveau global cr√©√© avec succ√®s")),r&&await G(r.id_fonction);break;case"niveau-thematique":const{id_thematique:V}=h;v?(o=await U.put(`/maturity-model/niveaux-thematiques/${v.id_niveau}`,h),K("Niveau th√©matique mis √† jour avec succ√®s")):(o=await U.post(`/maturity-model/thematiques/${V}/niveaux`,{...h,id_fonction:r==null?void 0:r.id_fonction}),K("Niveau th√©matique cr√©√© avec succ√®s")),r&&await G(r.id_fonction);break;case"question":{if(!h.texte||h.texte.trim()===""){K("Le texte est obligatoire","warning");return}v?(await U.put(`/questions/${v.id_question}`,h),K("Question modifi√©e")):(await U.post("/questions",h),K("Question ajout√©e")),await z(h.id_thematique),xe();break}}xe()}catch(o){console.error("Erreur lors de la sauvegarde:",o),K("Erreur lors de la sauvegarde","error")}},x=async()=>{if(R)try{switch(R.type){case"fonction":await U.delete(`/maturity-model/fonctions/${R.id}`),K("Fonction supprim√©e avec succ√®s"),await Ce(),(r==null?void 0:r.id_fonction)===R.id&&m(null);break;case"thematique":await U.delete(`/maturity-model/thematiques/${R.id}`),K("Th√©matique supprim√©e avec succ√®s"),r&&await G(r.id_fonction);break;case"niveau-global":await U.delete(`/maturity-model/niveaux-globaux/${R.id}`),K("Niveau global supprim√© avec succ√®s"),r&&await G(r.id_fonction);break;case"niveau-thematique":await U.delete(`/maturity-model/niveaux-thematiques/${R.id}`),K("Niveau th√©matique supprim√© avec succ√®s"),r&&await G(r.id_fonction);break}j(!1),te(null)}catch(o){console.error("Erreur lors de la suppression:",o),K("Erreur lors de la suppression","error")}},c=async()=>{try{const o=await U.get("/maturity-model/export"),V=JSON.stringify(o.data||o,null,2),E="data:application/json;charset=utf-8,"+encodeURIComponent(V),ce=`maturity-model-${new Date().toISOString().split("T")[0]}.json`,re=document.createElement("a");re.setAttribute("href",E),re.setAttribute("download",ce),re.click(),K("Mod√®le export√© avec succ√®s")}catch(o){console.error("Erreur lors de l'export:",o),K("Erreur lors de l'export","error")}},p=o=>o>=4?"#4CAF50":o>=3?"#FF9800":o>=2?"#F44336":"#9E9E9E",M=()=>{var V;const o=()=>{const E=v?"Modifier":"Cr√©er";switch(k){case"fonction":return`${E} une fonction`;case"thematique":return`${E} une th√©matique`;case"niveau-global":return`${E} un niveau global`;case"niveau-thematique":return`${E} un niveau th√©matique`;default:return""}};return e.jsxDEV(rs,{open:P,onClose:xe,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(as,{children:o()},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:403,columnNumber:9},void 0),e.jsxDEV(is,{children:e.jsxDEV(d,{sx:{pt:2,display:"flex",flexDirection:"column",gap:2},children:[(k==="fonction"||k==="thematique")&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(le,{fullWidth:!0,label:"Nom",value:h.nom||"",onChange:E=>I({...h,nom:E.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:408,columnNumber:17},void 0),e.jsxDEV(le,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:h.description||"",onChange:E=>I({...h,description:E.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:415,columnNumber:17},void 0),e.jsxDEV(le,{fullWidth:!0,label:"Ordre",type:"number",value:h.ordre||999,onChange:E=>I({...h,ordre:parseInt(E.target.value)||999})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:424,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:407,columnNumber:15},void 0),k==="thematique"&&e.jsxDEV(le,{fullWidth:!0,label:"Nombre de questions",type:"number",value:h.nombre_questions||0,onChange:E=>I({...h,nombre_questions:parseInt(E.target.value)||0})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:435,columnNumber:15},void 0),(k==="niveau-global"||k==="niveau-thematique")&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(d,{children:[e.jsxDEV(a,{gutterBottom:!0,children:"Plage de scores"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:447,columnNumber:19},void 0),e.jsxDEV(d,{sx:{display:"flex",gap:2},children:[e.jsxDEV(le,{label:"Score min",type:"number",inputProps:{min:0,max:5,step:.1},value:h.score_min??"",onChange:E=>I({...h,score_min:parseFloat(E.target.value)||0}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:449,columnNumber:21},void 0),e.jsxDEV(le,{label:"Score max",type:"number",inputProps:{min:0,max:5,step:.1},value:h.score_max??"",onChange:E=>I({...h,score_max:parseFloat(E.target.value)||0}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:457,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:448,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:446,columnNumber:17},void 0),e.jsxDEV(le,{fullWidth:!0,label:"Niveau",value:h.niveau||"",onChange:E=>I({...h,niveau:E.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:468,columnNumber:17},void 0),e.jsxDEV(le,{fullWidth:!0,label:"Description",multiline:!0,rows:3,value:h.description||"",onChange:E=>I({...h,description:E.target.value}),required:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:476,columnNumber:17},void 0),e.jsxDEV(le,{fullWidth:!0,label:"Recommandations",multiline:!0,rows:3,value:h.recommandations||"",onChange:E=>I({...h,recommandations:E.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:486,columnNumber:17},void 0),k==="niveau-global"&&e.jsxDEV(le,{fullWidth:!0,label:"Ordre",type:"number",value:h.ordre||999,onChange:E=>I({...h,ordre:parseInt(E.target.value)||999})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:496,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:445,columnNumber:15},void 0),k==="niveau-thematique"&&!v&&e.jsxDEV(Oe,{fullWidth:!0,required:!0,children:[e.jsxDEV(We,{children:"Th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:509,columnNumber:17},void 0),e.jsxDEV(Qe,{value:h.id_thematique||"",onChange:E=>I({...h,id_thematique:E.target.value}),label:"Th√©matique",children:(V=r==null?void 0:r.thematiques)==null?void 0:V.map(E=>e.jsxDEV(Ee,{value:E.id_thematique,children:E.nom},E.id_thematique,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:516,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:510,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:508,columnNumber:15},void 0),k==="question"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(le,{label:"Texte de la question",fullWidth:!0,multiline:!0,rows:3,required:!0,value:h.texte||"",onChange:E=>I({...h,texte:E.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:526,columnNumber:17},void 0),e.jsxDEV(le,{label:"Pond√©ration",type:"number",fullWidth:!0,value:h.ponderation||1,onChange:E=>I({...h,ponderation:parseInt(E.target.value)||1})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:535,columnNumber:17},void 0),e.jsxDEV(le,{label:"Aide √† la r√©ponse",fullWidth:!0,multiline:!0,rows:2,value:h.aide_reponse||"",onChange:E=>I({...h,aide_reponse:E.target.value})},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:542,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:525,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:405,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:404,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:xe,children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:555,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:S,variant:"contained",startIcon:e.jsxDEV(Vr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:559,columnNumber:24},void 0),disabled:!h.nom&&(k==="fonction"||k==="thematique")||!h.niveau&&(k==="niveau-global"||k==="niveau-thematique"),children:"Enregistrer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:556,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:554,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:402,columnNumber:7},void 0)};return e.jsxDEV($e,{maxWidth:"xl",sx:{mt:4,mb:4},children:[e.jsxDEV(u,{container:!0,spacing:3,children:[e.jsxDEV(u,{xs:12,children:e.jsxDEV(ue,{sx:{p:3},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(d,{display:"flex",alignItems:"center",gap:2,children:[e.jsxDEV(Xr,{color:"primary",fontSize:"large"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:581,columnNumber:17},void 0),e.jsxDEV(a,{component:"h1",variant:"h4",color:"primary",children:"Administration du Mod√®le de Maturit√©"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:582,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:580,columnNumber:15},void 0),e.jsxDEV(d,{children:[e.jsxDEV(Y,{variant:"outlined",startIcon:e.jsxDEV(ai,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:589,columnNumber:30},void 0),onClick:c,sx:{mr:2},children:"Exporter"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:587,columnNumber:17},void 0),e.jsxDEV(Y,{variant:"contained",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:597,columnNumber:30},void 0),onClick:()=>ie("fonction"),children:"Nouvelle Fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:595,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:586,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:579,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:578,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:577,columnNumber:9},void 0),e.jsxDEV(u,{xs:12,md:4,children:e.jsxDEV(ue,{sx:{p:2,height:"calc(100vh - 200px)",overflow:"auto"},children:[e.jsxDEV(a,{variant:"h6",gutterBottom:!0,sx:{mb:3},children:"Fonctions d'√©valuation"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:610,columnNumber:13},void 0),l&&e.jsxDEV(ze,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:614,columnNumber:25},void 0),e.jsxDEV(Ns,{children:s.map(o=>e.jsxDEV(ye,{sx:{mb:2,cursor:"pointer",border:(r==null?void 0:r.id_fonction)===o.id_fonction?"2px solid #0B4E87":"1px solid #e0e0e0",transition:"all 0.3s","&:hover":{boxShadow:3,transform:"translateY(-2px)"}},onClick:()=>G(o.id_fonction),children:e.jsxDEV(ge,{children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV(a,{variant:"h6",color:"primary",children:o.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:634,columnNumber:23},void 0),e.jsxDEV(d,{children:[e.jsxDEV(Me,{size:"small",onClick:V=>{V.stopPropagation(),ie("fonction",o)},children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:645,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:638,columnNumber:25},void 0),e.jsxDEV(Me,{size:"small",color:"error",onClick:V=>{V.stopPropagation(),y("fonction",o.id_fonction,o.nom)},children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:655,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:647,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:637,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:633,columnNumber:21},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",sx:{mt:1,mb:2},children:o.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:660,columnNumber:21},void 0),e.jsxDEV(d,{display:"flex",gap:1,children:[e.jsxDEV(me,{size:"small",icon:e.jsxDEV(ii,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:667,columnNumber:31},void 0),label:`${o.nb_thematiques||0} th√©matiques`,color:"primary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:665,columnNumber:23},void 0),e.jsxDEV(me,{size:"small",icon:e.jsxDEV(ta,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:674,columnNumber:31},void 0),label:`${o.nb_niveaux_globaux||0} niveaux`,color:"secondary",variant:"outlined"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:672,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:664,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:632,columnNumber:19},void 0)},o.id_fonction,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:618,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:616,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:609,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:608,columnNumber:9},void 0),e.jsxDEV(u,{xs:12,md:8,children:r?e.jsxDEV(ue,{sx:{p:2,height:"calc(100vh - 200px)",overflow:"auto"},children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"h5",gutterBottom:!0,children:r.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:693,columnNumber:19},void 0),e.jsxDEV(a,{variant:"body2",color:"textSecondary",children:r.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:696,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:692,columnNumber:17},void 0),e.jsxDEV(d,{children:[e.jsxDEV(me,{label:r.actif?"Actif":"Inactif",color:r.actif?"success":"default",sx:{mr:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:701,columnNumber:19},void 0),e.jsxDEV(Be,{title:"Modifier",children:e.jsxDEV(Me,{onClick:()=>ie("fonction",r),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:710,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:707,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:706,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:700,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:691,columnNumber:15},void 0),e.jsxDEV(Ss,{value:N,onChange:(o,V)=>B(V),sx:{mb:3},children:[e.jsxDEV(Xe,{label:"Th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:717,columnNumber:17},void 0),e.jsxDEV(Xe,{label:"Niveaux Globaux"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:718,columnNumber:17},void 0),e.jsxDEV(Xe,{label:"Niveaux Th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:719,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:716,columnNumber:15},void 0),N===0&&e.jsxDEV(d,{children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(a,{variant:"h6",children:["Th√©matiques (",((L=r.thematiques)==null?void 0:L.length)||0,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:726,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",size:"small",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:730,columnNumber:34},void 0),onClick:()=>ie("thematique"),children:"Ajouter une th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:727,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:725,columnNumber:19},void 0),(X=r.thematiques)==null?void 0:X.map(o=>{var V,E,ce;return e.jsxDEV(Ls,{sx:{mb:1},children:[e.jsxDEV(ks,{expandIcon:e.jsxDEV(Ms,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:739,columnNumber:53},void 0),children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",children:[e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"subtitle1",sx:{fontWeight:500},children:o.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:742,columnNumber:29},void 0),e.jsxDEV(a,{variant:"caption",color:"textSecondary",children:[o.nombre_questions," questions ‚Ä¢ ",((V=o.niveauxThematiques)==null?void 0:V.length)||0," niveaux d√©finis"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:745,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:741,columnNumber:27},void 0),e.jsxDEV(d,{onClick:re=>re.stopPropagation(),children:[e.jsxDEV(Me,{size:"small",onClick:()=>ie("thematique",o),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:754,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:750,columnNumber:29},void 0),e.jsxDEV(Me,{size:"small",color:"error",onClick:()=>y("thematique",o.id_thematique,o.nom),children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:761,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:756,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:749,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:740,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:739,columnNumber:23},void 0),e.jsxDEV(Ts,{children:[e.jsxDEV(a,{variant:"body2",color:"textSecondary",sx:{mb:2},children:o.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:767,columnNumber:25},void 0),e.jsxDEV(Y,{variant:"outlined",size:"small",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:773,columnNumber:38},void 0),onClick:()=>J(o),disabled:(((E=g[o.id_thematique])==null?void 0:E.length)||0)>=o.nombre_questions,children:"Ajouter une question"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:770,columnNumber:25},void 0),e.jsxDEV(d,{sx:{mt:2},children:[e.jsxDEV(a,{variant:"subtitle2",children:"Questions :"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:780,columnNumber:25},void 0),(console.log("Questions affich√©es :",g[o.id_thematique]),null),(ce=g[o.id_thematique])==null?void 0:ce.map((re,je)=>e.jsxDEV(ue,{sx:{p:1,mb:1},children:e.jsxDEV(d,{display:"flex",justifyContent:"space-between",children:[e.jsxDEV(a,{children:[je+1,". ",re.texte]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:788,columnNumber:31},void 0),e.jsxDEV(d,{children:e.jsxDEV(Me,{size:"small",onClick:()=>ie("question",re),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:791,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:790,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:789,columnNumber:31},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:787,columnNumber:29},void 0)},re.id_question,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:786,columnNumber:27},void 0))]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:779,columnNumber:24},void 0),o.niveauxThematiques&&o.niveauxThematiques.length>0&&e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"subtitle2",gutterBottom:!0,children:"Niveaux d√©finis:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:801,columnNumber:29},void 0),e.jsxDEV(d,{display:"flex",flexWrap:"wrap",gap:1,children:o.niveauxThematiques.map(re=>e.jsxDEV(me,{label:`${re.score_min}-${re.score_max}: ${re.niveau}`,size:"small",sx:{bgcolor:p((re.score_min+re.score_max)/2),color:"white"}},re.id_niveau,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:806,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:804,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:800,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:766,columnNumber:23},void 0)]},o.id_thematique,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:738,columnNumber:21},void 0)}),(!r.thematiques||r.thematiques.length===0)&&e.jsxDEV(d,{textAlign:"center",py:4,children:e.jsxDEV(a,{variant:"body1",color:"textSecondary",children:"Aucune th√©matique d√©finie pour cette fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:825,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:824,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:724,columnNumber:17},void 0),N===1&&e.jsxDEV(d,{children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(a,{variant:"h6",children:["Niveaux Globaux (",((T=r.niveauxGlobaux)==null?void 0:T.length)||0,")"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:837,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",size:"small",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:841,columnNumber:34},void 0),onClick:()=>ie("niveau-global"),children:"Ajouter un niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:838,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:836,columnNumber:19},void 0),e.jsxDEV(Ge,{children:e.jsxDEV(He,{children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{width:"120",children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:852,columnNumber:27},void 0),e.jsxDEV(b,{width:"200",children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:853,columnNumber:27},void 0),e.jsxDEV(b,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:854,columnNumber:27},void 0),e.jsxDEV(b,{width:"100",children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:855,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:851,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:850,columnNumber:23},void 0),e.jsxDEV(Ke,{children:(be=r.niveauxGlobaux)==null?void 0:be.map(o=>e.jsxDEV(De,{children:[e.jsxDEV(b,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",gap:1,children:[e.jsxDEV(d,{sx:{width:16,height:16,borderRadius:"50%",bgcolor:p((o.score_min+o.score_max)/2)}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:863,columnNumber:33},void 0),o.score_min," - ",o.score_max]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:862,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:861,columnNumber:29},void 0),e.jsxDEV(b,{children:e.jsxDEV(a,{variant:"subtitle2",children:o.niveau},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:875,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:874,columnNumber:29},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{children:[e.jsxDEV(a,{variant:"body2",children:o.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:881,columnNumber:33},void 0),o.recommandations&&e.jsxDEV(a,{variant:"caption",color:"textSecondary",sx:{mt:1,display:"block"},children:[e.jsxDEV("strong",{children:"Recommandations:"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:886,columnNumber:37},void 0)," ",o.recommandations]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:885,columnNumber:35},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:880,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:879,columnNumber:29},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{children:[e.jsxDEV(Me,{size:"small",onClick:()=>ie("niveau-global",o),children:e.jsxDEV(ts,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:897,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:893,columnNumber:33},void 0),e.jsxDEV(Me,{size:"small",color:"error",onClick:()=>y("niveau-global",o.id_niveau,o.niveau),children:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:904,columnNumber:35},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:899,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:892,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:891,columnNumber:29},void 0)]},o.id_niveau,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:860,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:858,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:849,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:848,columnNumber:19},void 0),(!r.niveauxGlobaux||r.niveauxGlobaux.length===0)&&e.jsxDEV(d,{textAlign:"center",py:4,children:e.jsxDEV(a,{variant:"body1",color:"textSecondary",children:"Aucun niveau global d√©fini pour cette fonction"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:916,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:915,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:835,columnNumber:17},void 0),N===2&&e.jsxDEV(d,{children:[e.jsxDEV(d,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[e.jsxDEV(a,{variant:"h6",children:"Niveaux Th√©matiques"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:928,columnNumber:21},void 0),e.jsxDEV(Y,{variant:"contained",size:"small",startIcon:e.jsxDEV(ss,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:932,columnNumber:34},void 0),onClick:()=>ie("niveau-thematique"),disabled:!r.thematiques||r.thematiques.length===0,children:"Ajouter un niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:929,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:927,columnNumber:19},void 0),(H=r.thematiques)==null?void 0:H.map(o=>e.jsxDEV(d,{mb:3,children:[e.jsxDEV(a,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:500,color:"#0B4E87"},children:o.nom},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:942,columnNumber:23},void 0),o.niveauxThematiques&&o.niveauxThematiques.length>0?e.jsxDEV(Ge,{sx:{mb:2},children:e.jsxDEV(He,{size:"small",children:[e.jsxDEV(Ye,{children:e.jsxDEV(De,{children:[e.jsxDEV(b,{width:"100",children:"Score"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:951,columnNumber:33},void 0),e.jsxDEV(b,{width:"200",children:"Niveau"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:952,columnNumber:33},void 0),e.jsxDEV(b,{children:"Description"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:953,columnNumber:33},void 0),e.jsxDEV(b,{width:"80",children:"Actions"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:954,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:950,columnNumber:31},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:949,columnNumber:29},void 0),e.jsxDEV(Ke,{children:o.niveauxThematiques.map(V=>e.jsxDEV(De,{children:[e.jsxDEV(b,{children:e.jsxDEV(d,{display:"flex",alignItems:"center",gap:1,children:[e.jsxDEV(d,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:p((V.score_min+V.score_max)/2)}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:962,columnNumber:39},void 0),V.score_min," - ",V.score_max]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:961,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:960,columnNumber:35},void 0),e.jsxDEV(b,{children:V.niveau},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:973,columnNumber:35},void 0),e.jsxDEV(b,{children:e.jsxDEV(a,{variant:"body2",sx:{fontSize:"0.875rem"},children:V.description},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:975,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:974,columnNumber:35},void 0),e.jsxDEV(b,{children:e.jsxDEV(d,{children:[e.jsxDEV(Me,{size:"small",onClick:()=>ie("niveau-thematique",V),children:e.jsxDEV(ts,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:985,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:981,columnNumber:39},void 0),e.jsxDEV(Me,{size:"small",color:"error",onClick:()=>y("niveau-thematique",V.id_niveau,V.niveau),children:e.jsxDEV(fs,{fontSize:"small"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:992,columnNumber:41},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:987,columnNumber:39},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:980,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:979,columnNumber:35},void 0)]},V.id_niveau,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:959,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:957,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:948,columnNumber:27},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:947,columnNumber:25},void 0):e.jsxDEV(a,{variant:"body2",color:"textSecondary",sx:{ml:2,mb:2},children:"Aucun niveau d√©fini pour cette th√©matique"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1002,columnNumber:25},void 0),e.jsxDEV(es,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1007,columnNumber:23},void 0)]},o.id_thematique,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:941,columnNumber:21},void 0)),(!r.thematiques||r.thematiques.length===0)&&e.jsxDEV(d,{textAlign:"center",py:4,children:e.jsxDEV(a,{variant:"body1",color:"textSecondary",children:"Aucune th√©matique d√©finie. Cr√©ez d'abord des th√©matiques pour d√©finir leurs niveaux."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1013,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1012,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:926,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:690,columnNumber:13},void 0):e.jsxDEV(ue,{sx:{p:6,textAlign:"center",height:"calc(100vh - 200px)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxDEV(d,{children:[e.jsxDEV(Ps,{sx:{fontSize:80,color:"#e0e0e0",mb:2}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1024,columnNumber:17},void 0),e.jsxDEV(a,{variant:"h6",color:"textSecondary",children:"S√©lectionnez une fonction pour voir les d√©tails"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1025,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1023,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1022,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:688,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:575,columnNumber:7},void 0),M(),e.jsxDEV(rs,{open:q,onClose:()=>j(!1),children:[e.jsxDEV(as,{children:"Confirmer la suppression"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1042,columnNumber:9},void 0),e.jsxDEV(is,{children:[e.jsxDEV(a,{children:['√ätes-vous s√ªr de vouloir supprimer "',R==null?void 0:R.name,'" ?']},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1044,columnNumber:11},void 0),e.jsxDEV(a,{variant:"caption",color:"error",sx:{mt:1,display:"block"},children:"Cette action est irr√©versible."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1047,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1043,columnNumber:9},void 0),e.jsxDEV(ns,{children:[e.jsxDEV(Y,{onClick:()=>j(!1),children:"Annuler"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1052,columnNumber:11},void 0),e.jsxDEV(Y,{onClick:x,color:"error",variant:"contained",startIcon:e.jsxDEV(fs,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1059,columnNumber:24},void 0),children:"Supprimer"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1055,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1051,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1038,columnNumber:7},void 0),e.jsxDEV($s,{open:C.open,autoHideDuration:6e3,onClose:()=>W({...C,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsxDEV(fe,{onClose:()=>W({...C,open:!1}),severity:C.severity,sx:{width:"100%"},children:C.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1073,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:1067,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/pages/MaturityModelAdmin/index.tsx",lineNumber:574,columnNumber:5},void 0)},xa=({children:s,module:t,action:r="voir",adminOnly:m=!1,fallbackUrl:l="/auth/login",showDetailedError:D=!0})=>{const{isAuthenticated:N,isLoading:B,currentUser:C,hasPermission:W,canAccessRoute:g,isAdmin:$,isSuperAdmin:z}=tr(),P=nr(),[_,k]=i.useState(!0),[Q,v]=i.useState(!1),[O,h]=i.useState(null),I=i.useCallback(()=>$(),[$]),q=i.useCallback(()=>z(),[z]);return i.useEffect(()=>{let j=!0;return B||(async()=>{console.log("üîç ProtectedRoute - V√©rification permissions pour:",P.pathname);try{if(!j)return;if(k(!0),h(null),!N){console.log("‚ùå Utilisateur non authentifi√©"),j&&(h({type:"auth",message:"Vous devez √™tre connect√© pour acc√©der √† cette page.",suggestion:"Veuillez vous connecter avec vos identifiants."}),v(!1),k(!1));return}if(m&&!I()&&!q()){console.log("‚ùå Acc√®s administrateur requis mais utilisateur non admin"),j&&(h({type:"admin",message:"Acc√®s r√©serv√© aux administrateurs.",suggestion:"Contactez votre administrateur syst√®me pour obtenir les droits n√©cessaires."}),v(!1),k(!1));return}if(t&&W){const te=W(t,r);if(console.log(`üîç Permission ${t}:${r} = ${te?"‚úÖ":"‚ùå"}`),!te){j&&(h({type:"permission",message:`Vous n'avez pas les permissions n√©cessaires pour ${r==="voir"?"consulter":r} ce module.`,suggestion:`Module requis: ${t} (${r}). Contactez votre administrateur pour obtenir ces permissions.`}),v(!1),k(!1));return}}if(g){const te=g(P.pathname);if(console.log(`üö¶ Acc√®s route ${P.pathname} = ${te?"‚úÖ":"‚ùå"}`),!te){j&&(h({type:"permission",message:"Vous n'avez pas acc√®s √† cette page.",suggestion:"V√©rifiez que vous avez les permissions n√©cessaires ou contactez votre administrateur."}),v(!1),k(!1));return}}console.log("‚úÖ Acc√®s autoris√©"),j&&(v(!0),k(!1))}catch(te){console.error("‚ùå Erreur lors de la v√©rification des permissions:",te),j&&(h({type:"permission",message:"Erreur lors de la v√©rification des permissions.",suggestion:"Veuillez rafra√Æchir la page ou contacter le support technique."}),v(!1),k(!1))}})(),()=>{j=!1}},[N,B,t,r,m,P.pathname,C==null?void 0:C.id_acteur,C==null?void 0:C.nom_role]),B||_&&N?e.jsxDEV(d,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"80vh",gap:2,children:[e.jsxDEV(ze,{size:48},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:195,columnNumber:9},void 0),e.jsxDEV(a,{variant:"body1",color:"text.secondary",children:"V√©rification des permissions..."},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:196,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:187,columnNumber:7},void 0):N?!Q&&O?D?e.jsxDEV($e,{maxWidth:"md",sx:{mt:8,mb:4},children:e.jsxDEV(ue,{elevation:3,sx:{p:4,textAlign:"center"},children:e.jsxDEV(d,{display:"flex",flexDirection:"column",alignItems:"center",gap:3,children:[O.type==="auth"&&e.jsxDEV(ni,{color:"error",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:221,columnNumber:15},void 0),O.type==="admin"&&e.jsxDEV(hr,{color:"warning",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:224,columnNumber:15},void 0),O.type==="permission"&&e.jsxDEV(oa,{color:"error",sx:{fontSize:64}},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:227,columnNumber:15},void 0),e.jsxDEV(fe,{severity:O.type==="admin"?"warning":"error",sx:{width:"100%",textAlign:"left"},children:[e.jsxDEV(ti,{children:[O.type==="auth"&&"Authentification requise",O.type==="admin"&&"Acc√®s administrateur requis",O.type==="permission"&&"Permissions insuffisantes"]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:235,columnNumber:15},void 0),e.jsxDEV(a,{variant:"body1",gutterBottom:!0,children:O.message},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:240,columnNumber:15},void 0),O.suggestion&&e.jsxDEV(a,{variant:"body2",sx:{mt:1,opacity:.8},children:["üí° ",O.suggestion]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:244,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:231,columnNumber:13},void 0),e.jsxDEV(d,{display:"flex",gap:2,mt:2,children:[e.jsxDEV(Y,{variant:"contained",onClick:()=>window.history.back(),color:"primary",children:"Retour"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:252,columnNumber:15},void 0),e.jsxDEV(Y,{variant:"outlined",onClick:()=>window.location.href="/",color:"primary",children:"Accueil"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:259,columnNumber:15},void 0),O.type==="auth"&&e.jsxDEV(Y,{variant:"contained",onClick:()=>window.location.href=l,color:"secondary",children:"Se connecter"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:267,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:251,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:218,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:217,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:216,columnNumber:7},void 0):e.jsxDEV(Cs,{to:"/",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:212,columnNumber:14},void 0):(console.log("‚úÖ Affichage du contenu prot√©g√©"),e.jsxDEV(e.Fragment,{children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:284,columnNumber:10},void 0)):(console.log("üîÑ Redirection vers page de connexion"),e.jsxDEV(Cs,{to:l,state:{from:P},replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/ProtectedRoute.tsx",lineNumber:206,columnNumber:12},void 0))};typeof window<"u"&&(window.onerror=(s,t,r,m,l)=>(we.error("Erreur globale non g√©r√©e",{message:s,source:t,lineno:r,colno:m,stack:l==null?void 0:l.stack}),!1),window.addEventListener("unhandledrejection",s=>{var t,r;we.error("Promesse rejet√©e non g√©r√©e",{reason:((t=s.reason)==null?void 0:t.message)||String(s.reason),stack:(r=s.reason)==null?void 0:r.stack})}),window.initialLoadTime=performance.now());const Yi=di({palette:{primary:{main:"#0B4E87"},secondary:{main:"#09C4B8"}},typography:{fontFamily:'"Ubuntu", sans-serif'},components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}}}},oi),ke=({children:s,module:t,action:r="voir",adminOnly:m=!1})=>e.jsxDEV(xa,{module:t,action:r,adminOnly:m,showDetailedError:!0,children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:107,columnNumber:5},void 0),Ki=()=>(i.useEffect(()=>{we.info("Application initialis√©e avec administration unifi√©e",{version:"1.0.0",environment:"production",features:["unified_administration","enhanced_permissions"]});const s=performance.now()-(window.initialLoadTime||0);return s>0&&we.logPerformance("app-initial-load",s),()=>{we.flush().catch(console.error)}},[]),e.jsxDEV(li,{theme:Yi,children:e.jsxDEV(ea,{dateAdapter:sa,adapterLocale:ma,children:e.jsxDEV(Ei,{children:e.jsxDEV(ui,{children:[e.jsxDEV(Ae,{path:"/auth",element:e.jsxDEV(Ui,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:142,columnNumber:42},void 0),children:e.jsxDEV(Ae,{path:"login",element:e.jsxDEV(ji,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:143,columnNumber:44},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:143,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:142,columnNumber:13},void 0),e.jsxDEV(Ae,{path:"/",element:e.jsxDEV(xa,{fallbackUrl:"/auth/login",children:e.jsxDEV(Di,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:152,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:151,columnNumber:17},void 0),children:[e.jsxDEV(Ae,{index:!0,element:e.jsxDEV(ke,{module:"DASHBOARD",children:e.jsxDEV(Vi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:161,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:160,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:157,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses-interpretations",element:e.jsxDEV(ke,{module:"ANALYSES",children:e.jsxDEV(Hr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:171,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:170,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:167,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses-fonctions",element:e.jsxDEV(ke,{module:"ANALYSES",children:e.jsxDEV(Yr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:179,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:178,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:175,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses-fonctions/:id",element:e.jsxDEV(ke,{module:"ANALYSES",children:e.jsxDEV(Yr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:187,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:186,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:183,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses-interpretations/:id",element:e.jsxDEV(ke,{module:"ANALYSES",children:e.jsxDEV(Hr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:195,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:194,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:191,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"analyses/calculer/:id",element:e.jsxDEV(ke,{module:"ANALYSES",action:"editer",children:e.jsxDEV(Bi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:203,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:202,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:199,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"applications",element:e.jsxDEV(ke,{module:"APPLICATIONS",children:e.jsxDEV(qi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:213,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:212,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:209,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"formulaires",element:e.jsxDEV(ke,{module:"FORMULAIRES",children:e.jsxDEV(Wi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:223,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:222,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:219,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"formulaires/new",element:e.jsxDEV(ke,{module:"FORMULAIRES",action:"editer",children:e.jsxDEV(Gi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:231,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:230,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:227,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"formulaires/:id",element:e.jsxDEV(ke,{module:"FORMULAIRES",children:e.jsxDEV(Qi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:239,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:238,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:235,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"questionnaires",element:e.jsxDEV(ke,{module:"QUESTIONNAIRES",children:e.jsxDEV(Ai,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:249,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:248,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:245,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"questionnaires/:id",element:e.jsxDEV(ke,{module:"QUESTIONNAIRES",children:e.jsxDEV(_i,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:257,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:256,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:253,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"questionnaires/admin",element:e.jsxDEV(ke,{module:"QUESTIONNAIRES",action:"administrer",children:e.jsxDEV(Si,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:265,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:264,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:261,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"organisations",element:e.jsxDEV(ke,{module:"ENTREPRISES",children:e.jsxDEV(Gr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:275,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:274,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:271,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"organisations/:name",element:e.jsxDEV(ke,{module:"ENTREPRISES",children:e.jsxDEV(Gr,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:283,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:282,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:279,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin",element:e.jsxDEV(ke,{module:"ADMINISTRATION",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:294,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:293,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:290,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/users",element:e.jsxDEV(ke,{module:"ADMIN_USERS",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:303,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:302,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:299,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/users/:id",element:e.jsxDEV(ke,{module:"ADMIN_USERS",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:312,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:311,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:308,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/permissions",element:e.jsxDEV(ke,{module:"ADMIN_PERMISSIONS",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:321,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:320,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:317,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/roles",element:e.jsxDEV(ke,{module:"ADMIN_ROLES",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:330,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:329,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:326,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/maturity-model",element:e.jsxDEV(ke,{module:"ADMIN_MATURITY",adminOnly:!0,children:e.jsxDEV(Hi,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:339,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:338,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:335,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"admin/system",element:e.jsxDEV(ke,{module:"ADMIN_SYSTEM",adminOnly:!0,children:e.jsxDEV(_s,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:348,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:347,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:344,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"users",element:e.jsxDEV(Cs,{to:"/admin/users",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:356,columnNumber:26},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:354,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"users/:id",element:e.jsxDEV(Cs,{to:"/admin/users",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:360,columnNumber:26},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:358,columnNumber:15},void 0),e.jsxDEV(Ae,{path:"permissions",element:e.jsxDEV(Cs,{to:"/admin/permissions",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:364,columnNumber:26},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:362,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:148,columnNumber:13},void 0),e.jsxDEV(Ae,{path:"/login",element:e.jsxDEV(Cs,{to:"/auth/login",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:369,columnNumber:43},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:369,columnNumber:13},void 0),e.jsxDEV(Ae,{path:"*",element:e.jsxDEV(Cs,{to:"/auth/login",replace:!0},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:370,columnNumber:38},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:370,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:140,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:139,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:138,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/App.tsx",lineNumber:137,columnNumber:5},void 0)),Ji=({message:s,type:t,duration:r=3e3,onClose:m})=>{const[l,D]=i.useState(!0);if(i.useEffect(()=>{const C=setTimeout(()=>{D(!1),m&&m()},r);return()=>clearTimeout(C)},[r,m]),!l)return null;const N={success:"bg-success-500",error:"bg-danger-500",info:"bg-primary-500",warning:"bg-warning-500"}[t],B={success:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:40,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:39,columnNumber:7},void 0),error:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:45,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:44,columnNumber:7},void 0),info:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:50,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:49,columnNumber:7},void 0),warning:e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:55,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:54,columnNumber:7},void 0)};return e.jsxDEV("div",{className:"fixed bottom-4 right-4 z-50 flex items-center p-4 mb-4 rounded-lg shadow-lg text-white animate-slideIn-right min-w-64 max-w-md",children:[e.jsxDEV("div",{className:`flex items-center justify-center rounded-full p-2 ${N}`,children:B[t]},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:62,columnNumber:7},void 0),e.jsxDEV("div",{className:"ml-3 text-sm font-medium",children:s},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:65,columnNumber:7},void 0),e.jsxDEV("button",{onClick:()=>{D(!1),m&&m()},className:"ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex h-8 w-8 text-white hover:bg-white hover:bg-opacity-20",children:[e.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:77,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:76,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:68,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/components/common/Toast.tsx",lineNumber:61,columnNumber:5},void 0)},Xi=i.createContext(void 0),pa=({children:s})=>{const[t,r]=i.useState([]),m=(D,N)=>{const B=Math.random().toString(36).substring(2,9);r(C=>[...C,{id:B,message:D,type:N}])},l=D=>{r(N=>N.filter(B=>B.id!==D))};return e.jsxDEV(Xi.Provider,{value:{toasts:t,addToast:m,removeToast:l},children:[s,e.jsxDEV("div",{className:"toast-container",children:t.map(D=>e.jsxDEV(Ji,{message:D.message,type:D.type,onClose:()=>l(D.id)},D.id,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:50,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:48,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/contexts/ToastContext.tsx",lineNumber:46,columnNumber:5},void 0)},Zi=()=>{const s=document.getElementById("splash-screen");s&&(s.style.opacity="0",setTimeout(()=>{s.style.display="none"},500))},en=()=>e.jsxDEV(Ma,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxDEV(pa,{children:e.jsxDEV(Ki,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:32,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:31,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:25,columnNumber:3},void 0);ga.createRoot(document.getElementById("root")).render(e.jsxDEV(vs.StrictMode,{children:e.jsxDEV(pa,{children:e.jsxDEV(en,{},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:40,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/Marcel-C√©dric/maturity-assessment-dasboard/src/main.tsx",lineNumber:38,columnNumber:3},void 0));setTimeout(Zi,1e3);
//# sourceMappingURL=index-CV4hKuIX.js.map
